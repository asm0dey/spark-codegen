<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.32.13"/><title data-react-helmet="true">Spark Magic:</title><link as="script" rel="preload" href="/webpack-runtime-a23b1f35c0c685be6705.js"/><link as="script" rel="preload" href="/framework-554a2c6d2f199925c3c6.js"/><link as="script" rel="preload" href="/app-776d463ace3e16951abc.js"/><link as="script" rel="preload" href="/component---gatsby-theme-mdx-deck-src-templates-deck-js-998300d46acf2864beec.js"/><link as="fetch" rel="preload" href="/page-data/print/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
        var mode = localStorage.getItem('theme-ui-color-mode');
        if (!mode) return
        document.body.classList.add('theme-ui-' + mode);
      } catch (e) {} })();</script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="ut8w6s">body{margin:0;overflow:hidden;}</style><style data-emotion-css="bdfrlc">.css-bdfrlc{width:100vw;height:100vh;}.css-bdfrlc *{box-sizing:border-box;}</style><div class="css-bdfrlc"><div style="outline:none;height:100%" tabindex="-1"><style data-emotion-css="zv3p95">.css-zv3p95{box-sizing:border-box;width:100%;height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;overflow:hidden;position:relative;color:var(--theme-ui-colors-text,#d6deeb);background-color:var(--theme-ui-colors-background,#011627);font-family:system-ui,sans-serif;font-size:20px;}@media screen and (min-width:40em){.css-zv3p95{font-size:24px;}}@media screen and (min-width:52em){.css-zv3p95{font-size:32px;}}@media screen and (min-width:64em){.css-zv3p95{font-size:48px;}}</style><div class="css-zv3p95"><style data-emotion-css="1djqpdg">.css-1djqpdg{font-family:inherit;line-height:1.125;font-weight:700;}</style><h1 class="css-1djqpdg">Spark Magic:</h1><h2 class="css-1djqpdg">How High-level Pipelines Become Distributed Hardcore</h2><p class="css-0">Pasha Finkelshteyn, JetBrains</p><style data-emotion-css="2lflbl">.css-2lflbl{color:var(--theme-ui-colors-primary,rgb(173,219,103));}</style><a href="https://twitter.com/asm0di0" class="css-2lflbl"><style data-emotion-css="wnzno2">.css-wnzno2{max-width:100%;height:auto;object-fit:cover;}</style><img src="https://img.shields.io/twitter/url/https/twitter.com/asm0di0.svg?style=social&amp;label=Follow%20%40asm0di0" alt="Twitter" class="css-wnzno2"/></a></div><div class="css-zv3p95"><h1 class="css-1djqpdg">Hi, I&#x27;m Pasha</h1><span style="visibility:visible">And I&#x27;m author of Kotlin API for Apache Spark ™®©</span><span style="visibility:visible">It was 5-minute challenge</span><span style="visibility:visible">But</span><span style="visibility:visible">Something went wrong</span></div><div class="css-zv3p95"><style data-emotion-css="5r4te6">.css-5r4te6{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:100%;text-align:center;}</style><div class="css-5r4te6"><style data-emotion-css="11ze7cv">.css-11ze7cv{width:50%;}</style><div class="css-11ze7cv"><h2 class="css-1djqpdg">Why 5 minutes?</h2><style data-emotion-css="1uk1gs8">.css-1uk1gs8{margin:0;}</style><ul class="css-1uk1gs8"><li class="css-0">Spark has Java API</li><li class="css-0">Kotlin is compatible with Java</li><li class="css-0">????</li><li class="css-0">Profit</li></ul></div><div class="css-11ze7cv"><img src="https://cdn.europosters.eu/image/1300/posters/rick-and-morty-watch-i50046.jpg" class="css-wnzno2"/></div></div></div><div class="css-zv3p95"><h1 class="css-1djqpdg">This is the story of</h1><h1 class="css-1djqpdg">???</h1></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="1gxiik8">.css-1gxiik8{color:#d6deeb;background-color:#011627;}.css-1gxiik8 .token-changed{color:rgb(162,191,252);font-style:italic;}.css-1gxiik8 .token-deleted{color:rgba(239,83,80,0.56);font-style:italic;}.css-1gxiik8 .token-inserted,.css-1gxiik8 .token-attr-name{color:rgb(173,219,103);font-style:italic;}.css-1gxiik8 .token-comment{color:rgb(99,119,119);font-style:italic;}.css-1gxiik8 .token-string,.css-1gxiik8 .token-url{color:rgb(173,219,103);}.css-1gxiik8 .token-variable{color:rgb(214,222,235);}.css-1gxiik8 .token-number{color:rgb(247,140,108);}.css-1gxiik8 .token-builtin,.css-1gxiik8 .token-char,.css-1gxiik8 .token-constant,.css-1gxiik8 .token-function{color:rgb(130,170,255);}.css-1gxiik8 .token-punctuation{color:rgb(199,146,234);}.css-1gxiik8 .token-selector,.css-1gxiik8 .token-doctype{color:rgb(199,146,234);font-style:italic;}.css-1gxiik8 .token-class-name{color:rgb(255,203,139);}.css-1gxiik8 .token-tag,.css-1gxiik8 .token-operator,.css-1gxiik8 .token-keyword{color:rgb(127,219,202);}.css-1gxiik8 .token-boolean{color:rgb(255,88,116);}.css-1gxiik8 .token-property{color:rgb(128,203,196);}.css-1gxiik8 .token-namespace{color:rgb(178,204,214);}</style><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="3j9kzx">.css-3j9kzx{font-family:'JetBrains Mono',Menlo,monospace;}</style><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">data</span><span class="token-plain"> </span><span class="token-keyword">class</span><span class="token-plain"> Q</span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-keyword">val</span><span class="token-plain"> id</span><span class="token-operator">:</span><span class="token-plain"> Int</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">val</span><span class="token-plain"> text</span><span class="token-operator">:</span><span class="token-plain"> T</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword">object</span><span class="token-plain"> Main </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-annotation">@JvmStatic</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    </span><span class="token-keyword">fun</span><span class="token-plain"> </span><span class="token-function">main</span><span class="token-punctuation">(</span><span class="token-plain">args</span><span class="token-operator">:</span><span class="token-plain"> Array</span><span class="token-operator">&lt;</span><span class="token-plain">String</span><span class="token-operator">&gt;</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">        </span><span class="token-keyword">val</span><span class="token-plain"> spark </span><span class="token-operator">=</span><span class="token-plain"> SparkSession</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">builder</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">master</span><span class="token-punctuation">(</span><span class="token-string">&quot;local[2]&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">appName</span><span class="token-punctuation">(</span><span class="token-string">&quot;Simple Application&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">orCreate</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">        </span><span class="token-keyword">val</span><span class="token-plain"> triples </span><span class="token-operator">=</span><span class="token-plain"> spark</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">toDS</span><span class="token-punctuation">(</span><span class="token-function">listOf</span><span class="token-punctuation">(</span><span class="token-function">Q</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">1</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-function">Q</span><span class="token-punctuation">(</span><span class="token-number">2</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">2</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-string">&quot;22&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-function">Q</span><span class="token-punctuation">(</span><span class="token-number">3</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">3</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-string">&quot;333&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">map</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">a</span><span class="token-punctuation">,</span><span class="token-plain"> b</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> a </span><span class="token-operator">+</span><span class="token-plain"> b</span><span class="token-punctuation">.</span><span class="token-plain">first </span><span class="token-keyword">to</span><span class="token-plain"> b</span><span class="token-punctuation">.</span><span class="token-plain">second</span><span class="token-operator">?</span><span class="token-punctuation">.</span><span class="token-plain">length </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">map</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> it </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">1</span><span class="token-plain"> </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">map</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">a</span><span class="token-punctuation">,</span><span class="token-plain"> b</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> </span><span class="token-function">Triple</span><span class="token-punctuation">(</span><span class="token-plain">a</span><span class="token-punctuation">.</span><span class="token-plain">first</span><span class="token-punctuation">,</span><span class="token-plain"> a</span><span class="token-punctuation">.</span><span class="token-plain">second</span><span class="token-punctuation">,</span><span class="token-plain"> b</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">        </span><span class="token-keyword">val</span><span class="token-plain"> pairs </span><span class="token-operator">=</span><span class="token-plain"> spark</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">toDS</span><span class="token-punctuation">(</span><span class="token-function">listOf</span><span class="token-punctuation">(</span><span class="token-number">2</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-string">&quot;hell&quot;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">4</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-string">&quot;moon&quot;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">6</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-string">&quot;berry&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">        triples</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">leftJoin</span><span class="token-punctuation">(</span><span class="token-plain">pairs</span><span class="token-punctuation">,</span><span class="token-plain"> triples</span><span class="token-punctuation">.</span><span class="token-function">col</span><span class="token-punctuation">(</span><span class="token-string">&quot;first&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">multiply</span><span class="token-punctuation">(</span><span class="token-number">2</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">eq</span><span class="token-punctuation">(</span><span class="token-plain">pairs</span><span class="token-punctuation">.</span><span class="token-function">col</span><span class="token-punctuation">(</span><span class="token-string">&quot;first&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">map</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">triple</span><span class="token-punctuation">,</span><span class="token-plain"> pair</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> </span><span class="token-function">Five</span><span class="token-punctuation">(</span><span class="token-plain">triple</span><span class="token-punctuation">.</span><span class="token-plain">first</span><span class="token-punctuation">,</span><span class="token-plain"> triple</span><span class="token-punctuation">.</span><span class="token-plain">second</span><span class="token-punctuation">,</span><span class="token-plain"> triple</span><span class="token-punctuation">.</span><span class="token-plain">third</span><span class="token-punctuation">,</span><span class="token-plain"> pair</span><span class="token-operator">?</span><span class="token-punctuation">.</span><span class="token-plain">first</span><span class="token-punctuation">,</span><span class="token-plain"> pair</span><span class="token-operator">?</span><span class="token-punctuation">.</span><span class="token-plain">second</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">groupByKey</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">a </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">reduceGroupsK</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> v1</span><span class="token-punctuation">,</span><span class="token-plain"> v2 </span><span class="token-operator">-&gt;</span><span class="token-plain"> v1</span><span class="token-punctuation">.</span><span class="token-function">copy</span><span class="token-punctuation">(</span><span class="token-plain">a </span><span class="token-operator">=</span><span class="token-plain"> v1</span><span class="token-punctuation">.</span><span class="token-plain">a </span><span class="token-operator">+</span><span class="token-plain"> v2</span><span class="token-punctuation">.</span><span class="token-plain">a</span><span class="token-punctuation">,</span><span class="token-plain"> b </span><span class="token-operator">=</span><span class="token-plain"> v1</span><span class="token-punctuation">.</span><span class="token-plain">a </span><span class="token-operator">+</span><span class="token-plain"> v2</span><span class="token-punctuation">.</span><span class="token-plain">a</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">map</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">second </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">repartition</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">withCached</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">                </span><span class="token-function">write</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-plain">                    </span><span class="token-punctuation">.</span><span class="token-function">also</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-function">csv</span><span class="token-punctuation">(</span><span class="token-string">&quot;csvpath&quot;</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-plain">                    </span><span class="token-punctuation">.</span><span class="token-function">also</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-function">orc</span><span class="token-punctuation">(</span><span class="token-string">&quot;orcpath&quot;</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                </span><span class="token-function">showDS</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-34"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-plain">        spark</span><span class="token-punctuation">.</span><span class="token-function">stop</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-37"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-38"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-39"><span class="token-plain">    </span><span class="token-keyword">data</span><span class="token-plain"> </span><span class="token-keyword">class</span><span class="token-plain"> Five</span><span class="token-operator">&lt;</span><span class="token-plain">A</span><span class="token-punctuation">,</span><span class="token-plain"> B</span><span class="token-punctuation">,</span><span class="token-plain"> C</span><span class="token-punctuation">,</span><span class="token-plain"> D</span><span class="token-punctuation">,</span><span class="token-plain"> E</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-keyword">val</span><span class="token-plain"> a</span><span class="token-operator">:</span><span class="token-plain"> A</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">val</span><span class="token-plain"> b</span><span class="token-operator">:</span><span class="token-plain"> B</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">val</span><span class="token-plain"> c</span><span class="token-operator">:</span><span class="token-plain"> C</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">val</span><span class="token-plain"> d</span><span class="token-operator">:</span><span class="token-plain"> D</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">val</span><span class="token-plain"> e</span><span class="token-operator">:</span><span class="token-plain"> E</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-40"><span class="token-punctuation">}</span></div></div><div></div></code></pre><style data-emotion-css="d84v96">.css-d84v96{position:absolute;top:0;width:100%;margin:0;padding:1em 0;text-align:center;background:rgba(1,22,39,0.8);color:#d6deeb;}</style><h4 class="cs-title css-d84v96" style="opacity:1"><span style="opacity:1">Usually ETL jobs look like this</span></h4></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">fun</span><span class="token-plain"> </span><span class="token-function">main</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">    withSpark </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">        </span><span class="token-function">dsOf</span><span class="token-punctuation">(</span><span class="token-string">&quot;a&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;b&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">2</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;c&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">3</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;d&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">4</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;e&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">5</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;f&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">6</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">            </span><span class="token-string">&quot;g&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">7</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;h&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">8</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;i&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">9</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;j&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">10</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;k&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">11</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;l&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">12</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;m&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">13</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">map</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">second </span><span class="token-operator">-</span><span class="token-plain"> </span><span class="token-number">1</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">first </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">sort</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-function">arrayOf</span><span class="token-punctuation">(</span><span class="token-plain">it</span><span class="token-punctuation">.</span><span class="token-function">col</span><span class="token-punctuation">(</span><span class="token-string">&quot;first&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">desc</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">show</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-punctuation">}</span></div></div><div></div></code></pre><h4 class="cs-title css-d84v96" style="opacity:1"><span style="opacity:1">SimpleExample</span></h4></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">            </span><span class="token-string">&quot;g&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">7</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;h&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">8</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;i&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">9</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;j&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">10</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;k&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">11</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;l&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">12</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;m&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">13</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-punctuation">}</span></div></div><div></div></code></pre><style data-emotion-css="fs2d1k">.css-fs2d1k{position:absolute;bottom:0;width:calc(100% - 2em);box-sizing:border-box;margin:0.3em 1em;padding:0.5em;background:rgba(2,2,2,0.9);text-align:center;color:#d6deeb;background-color:rgba(10,10,10,0.9);}</style><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">            </span><span class="token-string">&quot;g&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">7</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;h&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">8</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;i&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">9</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;j&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">10</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;k&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">11</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;l&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">12</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;m&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">13</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Dataset — table-like structure with column management</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">            </span><span class="token-string">&quot;g&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">7</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;h&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">8</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;i&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">9</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;j&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">10</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;k&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">11</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;l&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">12</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;m&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">13</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">            </span><span class="token-string">&quot;g&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">7</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;h&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">8</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;i&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">9</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;j&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">10</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;k&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">11</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;l&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">12</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;m&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">13</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">            </span><span class="token-string">&quot;g&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">7</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;h&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">8</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;i&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">9</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;j&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">10</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;k&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">11</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;l&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">12</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;m&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">13</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-zv3p95"><style data-emotion-css="1gxdjd5">.css-1gxdjd5{font-family:"Roboto Mono",Menlo,monospace;padding:16px;}</style><pre class="css-1gxdjd5"><style data-emotion-css="vgof0f">.css-vgof0f{font-family:"Roboto Mono",Menlo,monospace;}</style><code class="css-vgof0f">+-----+------+
|first|second|
+-----+------+
|   12|     m|
|   11|     l|
|   10|     k|
|    9|     j|
|    8|     i|
|    7|     h|
|    6|     g|
|    5|     f|
|    4|     e|
|    3|     d|
|    2|     c|
|    1|     b|
|    0|     a|
+-----+------+
</code></pre></div><div class="css-zv3p95"><h1 class="css-1djqpdg">Interseting, but…</h1></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">fun</span><span class="token-plain"> </span><span class="token-function">main</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">    withSpark </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">        </span><span class="token-function">dsOf</span><span class="token-punctuation">(</span><span class="token-string">&quot;a&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;b&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">2</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;c&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">3</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;d&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">4</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;e&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">5</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;f&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">6</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">            </span><span class="token-string">&quot;g&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">7</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;h&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">8</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;i&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">9</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;j&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">10</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;k&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">11</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;l&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">12</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;m&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">13</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">map</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">second </span><span class="token-operator">-</span><span class="token-plain"> </span><span class="token-number">1</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">first </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">sort</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-function">arrayOf</span><span class="token-punctuation">(</span><span class="token-plain">it</span><span class="token-punctuation">.</span><span class="token-function">col</span><span class="token-punctuation">(</span><span class="token-string">&quot;first&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">desc</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">show</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-punctuation">}</span></div></div><div></div></code></pre><h4 class="cs-title css-d84v96" style="opacity:1"><span style="opacity:1">SimpleExample</span></h4></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">            </span><span class="token-string">&quot;g&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">7</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;h&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">8</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;i&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">9</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;j&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">10</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;k&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">11</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;l&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">12</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;m&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">13</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">/* 001 */</span><span class="token-plain"> </span><span class="token-keyword">public</span><span class="token-plain"> </span><span class="token-class-name">Object</span><span class="token-plain"> </span><span class="token-function">generate</span><span class="token-punctuation">(</span><span class="token-class-name">Object</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> references</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">/* 002 */</span><span class="token-plain">   </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">GeneratedIteratorForCodegenStage1</span><span class="token-punctuation">(</span><span class="token-plain">references</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">/* 003 */</span><span class="token-plain"> </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-comment">/* 004 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-comment">/* 005 */</span><span class="token-plain"> </span><span class="token-comment">// codegenStageId=1</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-comment">/* 006 */</span><span class="token-plain"> </span><span class="token-keyword">final</span><span class="token-plain"> </span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-class-name">GeneratedIteratorForCodegenStage1</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">sql</span><span class="token-punctuation">.</span><span class="token-namespace">execution</span><span class="token-punctuation">.</span><span class="token-class-name">BufferedRowIterator</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-comment">/* 007 */</span><span class="token-plain">   </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-class-name">Object</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> references</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-comment">/* 008 */</span><span class="token-plain">   </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-namespace">scala</span><span class="token-punctuation">.</span><span class="token-namespace">collection</span><span class="token-punctuation">.</span><span class="token-class-name">Iterator</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> inputs</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-comment">/* 009 */</span><span class="token-plain">   </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-namespace">scala</span><span class="token-punctuation">.</span><span class="token-namespace">collection</span><span class="token-punctuation">.</span><span class="token-class-name">Iterator</span><span class="token-plain"> localtablescan_input_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-comment">/* 010 */</span><span class="token-plain">   </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">int</span><span class="token-plain"> deserializetoobject_argValue_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-comment">/* 011 */</span><span class="token-plain">   </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-namespace">java</span><span class="token-punctuation">.</span><span class="token-namespace">lang</span><span class="token-punctuation">.</span><span class="token-class-name">String</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> deserializetoobject_mutableStateArray_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-namespace">java</span><span class="token-punctuation">.</span><span class="token-namespace">lang</span><span class="token-punctuation">.</span><span class="token-class-name">String</span><span class="token-punctuation">[</span><span class="token-number">2</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-comment">/* 012 */</span><span class="token-plain">   </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">sql</span><span class="token-punctuation">.</span><span class="token-namespace">catalyst</span><span class="token-punctuation">.</span><span class="token-namespace">expressions</span><span class="token-punctuation">.</span><span class="token-namespace">codegen</span><span class="token-punctuation">.</span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> deserializetoobject_mutableStateArray_2 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">sql</span><span class="token-punctuation">.</span><span class="token-namespace">catalyst</span><span class="token-punctuation">.</span><span class="token-namespace">expressions</span><span class="token-punctuation">.</span><span class="token-namespace">codegen</span><span class="token-punctuation">.</span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">[</span><span class="token-number">5</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-comment">/* 013 */</span><span class="token-plain">   </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-namespace">java</span><span class="token-punctuation">.</span><span class="token-namespace">lang</span><span class="token-punctuation">.</span><span class="token-class-name">Integer</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> deserializetoobject_mutableStateArray_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-namespace">java</span><span class="token-punctuation">.</span><span class="token-namespace">lang</span><span class="token-punctuation">.</span><span class="token-class-name">Integer</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-comment">/* 014 */</span><span class="token-plain">   </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-namespace">kotlin</span><span class="token-punctuation">.</span><span class="token-class-name">Pair</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> mapelements_mutableStateArray_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-namespace">kotlin</span><span class="token-punctuation">.</span><span class="token-class-name">Pair</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-comment">/* 015 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-comment">/* 016 */</span><span class="token-plain">   </span><span class="token-keyword">public</span><span class="token-plain"> </span><span class="token-class-name">GeneratedIteratorForCodegenStage1</span><span class="token-punctuation">(</span><span class="token-class-name">Object</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> references</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-comment">/* 017 */</span><span class="token-plain">     </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">references </span><span class="token-operator">=</span><span class="token-plain"> references</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-comment">/* 018 */</span><span class="token-plain">   </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-comment">/* 019 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-comment">/* 020 */</span><span class="token-plain">   </span><span class="token-keyword">public</span><span class="token-plain"> </span><span class="token-keyword">void</span><span class="token-plain"> </span><span class="token-function">init</span><span class="token-punctuation">(</span><span class="token-keyword">int</span><span class="token-plain"> index</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-namespace">scala</span><span class="token-punctuation">.</span><span class="token-namespace">collection</span><span class="token-punctuation">.</span><span class="token-class-name">Iterator</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> inputs</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-comment">/* 021 */</span><span class="token-plain">     partitionIndex </span><span class="token-operator">=</span><span class="token-plain"> index</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-comment">/* 022 */</span><span class="token-plain">     </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">inputs </span><span class="token-operator">=</span><span class="token-plain"> inputs</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-comment">/* 023 */</span><span class="token-plain">     localtablescan_input_0 </span><span class="token-operator">=</span><span class="token-plain"> inputs</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-comment">/* 024 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-comment">/* 025 */</span><span class="token-plain">     deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">sql</span><span class="token-punctuation">.</span><span class="token-namespace">catalyst</span><span class="token-punctuation">.</span><span class="token-namespace">expressions</span><span class="token-punctuation">.</span><span class="token-namespace">codegen</span><span class="token-punctuation">.</span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">32</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-comment">/* 026 */</span><span class="token-plain">     deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">sql</span><span class="token-punctuation">.</span><span class="token-namespace">catalyst</span><span class="token-punctuation">.</span><span class="token-namespace">expressions</span><span class="token-punctuation">.</span><span class="token-namespace">codegen</span><span class="token-punctuation">.</span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">32</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-comment">/* 027 */</span><span class="token-plain">     deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">2</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">sql</span><span class="token-punctuation">.</span><span class="token-namespace">catalyst</span><span class="token-punctuation">.</span><span class="token-namespace">expressions</span><span class="token-punctuation">.</span><span class="token-namespace">codegen</span><span class="token-punctuation">.</span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">32</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-comment">/* 028 */</span><span class="token-plain">     deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">3</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">sql</span><span class="token-punctuation">.</span><span class="token-namespace">catalyst</span><span class="token-punctuation">.</span><span class="token-namespace">expressions</span><span class="token-punctuation">.</span><span class="token-namespace">codegen</span><span class="token-punctuation">.</span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">32</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-comment">/* 029 */</span><span class="token-plain">     deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">4</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">sql</span><span class="token-punctuation">.</span><span class="token-namespace">catalyst</span><span class="token-punctuation">.</span><span class="token-namespace">expressions</span><span class="token-punctuation">.</span><span class="token-namespace">codegen</span><span class="token-punctuation">.</span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">(</span><span class="token-number">2</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">32</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-comment">/* 030 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-comment">/* 031 */</span><span class="token-plain">   </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-comment">/* 032 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-comment">/* 033 */</span><span class="token-plain">   </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">void</span><span class="token-plain"> </span><span class="token-function">mapelements_doConsume_0</span><span class="token-punctuation">(</span><span class="token-namespace">kotlin</span><span class="token-punctuation">.</span><span class="token-class-name">Pair</span><span class="token-plain"> mapelements_expr_0_0</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">boolean</span><span class="token-plain"> mapelements_exprIsNull_0_0</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">throws</span><span class="token-plain"> </span><span class="token-namespace">java</span><span class="token-punctuation">.</span><span class="token-namespace">io</span><span class="token-punctuation">.</span><span class="token-class-name">IOException</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-comment">/* 034 */</span><span class="token-plain">     </span><span class="token-keyword">boolean</span><span class="token-plain"> mapelements_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-34"><span class="token-comment">/* 035 */</span><span class="token-plain">     </span><span class="token-namespace">kotlin</span><span class="token-punctuation">.</span><span class="token-class-name">Pair</span><span class="token-plain"> mapelements_value_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-comment">/* 036 */</span><span class="token-plain">     </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-comment">/* 037 */</span><span class="token-plain">       mapelements_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> mapelements_expr_0_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-37"><span class="token-comment">/* 038 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-38"><span class="token-comment">/* 039 */</span><span class="token-plain">       mapelements_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-39"><span class="token-comment">/* 040 */</span><span class="token-plain">       </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-plain">mapelements_isNull_1</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-40"><span class="token-comment">/* 041 */</span><span class="token-plain">         </span><span class="token-class-name">Object</span><span class="token-plain"> mapelements_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-41"><span class="token-comment">/* 042 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-42"><span class="token-comment">/* 043 */</span><span class="token-plain">         </span><span class="token-keyword">try</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-43"><span class="token-comment">/* 044 */</span><span class="token-plain">           mapelements_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">api</span><span class="token-punctuation">.</span><span class="token-namespace">java</span><span class="token-punctuation">.</span><span class="token-namespace">function</span><span class="token-punctuation">.</span><span class="token-class-name">MapFunction</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* literal */</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">call</span><span class="token-punctuation">(</span><span class="token-plain">mapelements_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-44"><span class="token-comment">/* 045 */</span><span class="token-plain">         </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">catch</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-class-name">Exception</span><span class="token-plain"> e</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-comment">/* 046 */</span><span class="token-plain">           </span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">unsafe</span><span class="token-punctuation">.</span><span class="token-class-name">Platform</span><span class="token-punctuation">.</span><span class="token-function">throwException</span><span class="token-punctuation">(</span><span class="token-plain">e</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-46"><span class="token-comment">/* 047 */</span><span class="token-plain">         </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-47"><span class="token-comment">/* 048 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-48"><span class="token-comment">/* 049 */</span><span class="token-plain">         </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">mapelements_funcResult_0 </span><span class="token-operator">!=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-49"><span class="token-comment">/* 050 */</span><span class="token-plain">           mapelements_value_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-namespace">kotlin</span><span class="token-punctuation">.</span><span class="token-class-name">Pair</span><span class="token-punctuation">)</span><span class="token-plain"> mapelements_funcResult_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-50"><span class="token-comment">/* 051 */</span><span class="token-plain">         </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">else</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-51"><span class="token-comment">/* 052 */</span><span class="token-plain">           mapelements_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-52"><span class="token-comment">/* 053 */</span><span class="token-plain">         </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-53"><span class="token-comment">/* 054 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-54"><span class="token-comment">/* 055 */</span><span class="token-plain">       </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-55"><span class="token-comment">/* 056 */</span><span class="token-plain">     </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-56"><span class="token-comment">/* 057 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-57"><span class="token-comment">/* 058 */</span><span class="token-plain">     </span><span class="token-function">serializefromobject_doConsume_0</span><span class="token-punctuation">(</span><span class="token-plain">mapelements_value_1</span><span class="token-punctuation">,</span><span class="token-plain"> mapelements_isNull_1</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-58"><span class="token-comment">/* 059 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-59"><span class="token-comment">/* 060 */</span><span class="token-plain">   </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-60"><span class="token-comment">/* 061 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-61"><span class="token-comment">/* 062 */</span><span class="token-plain">   </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">void</span><span class="token-plain"> </span><span class="token-function">deserializetoobject_doConsume_0</span><span class="token-punctuation">(</span><span class="token-class-name">InternalRow</span><span class="token-plain"> localtablescan_row_0</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-class-name">UTF8String</span><span class="token-plain"> deserializetoobject_expr_0_0</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">int</span><span class="token-plain"> deserializetoobject_expr_1_0</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">throws</span><span class="token-plain"> </span><span class="token-namespace">java</span><span class="token-punctuation">.</span><span class="token-namespace">io</span><span class="token-punctuation">.</span><span class="token-class-name">IOException</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-62"><span class="token-comment">/* 063 */</span><span class="token-plain">     </span><span class="token-keyword">boolean</span><span class="token-plain"> deserializetoobject_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-63"><span class="token-comment">/* 064 */</span><span class="token-plain">     </span><span class="token-namespace">java</span><span class="token-punctuation">.</span><span class="token-namespace">lang</span><span class="token-punctuation">.</span><span class="token-class-name">String</span><span class="token-plain"> deserializetoobject_value_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-64"><span class="token-comment">/* 065 */</span><span class="token-plain">     </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-65"><span class="token-comment">/* 066 */</span><span class="token-plain">       deserializetoobject_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-66"><span class="token-comment">/* 067 */</span><span class="token-plain">       </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-plain">deserializetoobject_isNull_1</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-67"><span class="token-comment">/* 068 */</span><span class="token-plain">         </span><span class="token-class-name">Object</span><span class="token-plain"> deserializetoobject_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-68"><span class="token-comment">/* 069 */</span><span class="token-plain">         deserializetoobject_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> deserializetoobject_expr_0_0</span><span class="token-punctuation">.</span><span class="token-function">toString</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-comment">/* 070 */</span><span class="token-plain">         deserializetoobject_value_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-namespace">java</span><span class="token-punctuation">.</span><span class="token-namespace">lang</span><span class="token-punctuation">.</span><span class="token-class-name">String</span><span class="token-punctuation">)</span><span class="token-plain"> deserializetoobject_funcResult_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-70"><span class="token-comment">/* 071 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-71"><span class="token-comment">/* 072 */</span><span class="token-plain">       </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-72"><span class="token-comment">/* 073 */</span><span class="token-plain">     </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-73"><span class="token-comment">/* 074 */</span><span class="token-plain">     deserializetoobject_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> deserializetoobject_value_1</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-74"><span class="token-comment">/* 075 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-75"><span class="token-comment">/* 076 */</span><span class="token-plain">     deserializetoobject_argValue_0 </span><span class="token-operator">=</span><span class="token-plain"> deserializetoobject_expr_1_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-76"><span class="token-comment">/* 077 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-77"><span class="token-comment">/* 078 */</span><span class="token-plain">     </span><span class="token-namespace">java</span><span class="token-punctuation">.</span><span class="token-namespace">lang</span><span class="token-punctuation">.</span><span class="token-class-name">Integer</span><span class="token-plain"> deserializetoobject_value_3 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-78"><span class="token-comment">/* 079 */</span><span class="token-plain">     </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-79"><span class="token-comment">/* 080 */</span><span class="token-plain">       deserializetoobject_value_3 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-namespace">java</span><span class="token-punctuation">.</span><span class="token-namespace">lang</span><span class="token-punctuation">.</span><span class="token-class-name">Integer</span><span class="token-punctuation">.</span><span class="token-function">valueOf</span><span class="token-punctuation">(</span><span class="token-plain">deserializetoobject_argValue_0</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-80"><span class="token-comment">/* 081 */</span><span class="token-plain">     </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-81"><span class="token-comment">/* 082 */</span><span class="token-plain">     deserializetoobject_mutableStateArray_1</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> deserializetoobject_value_3</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-82"><span class="token-comment">/* 083 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-83"><span class="token-comment">/* 084 */</span><span class="token-plain">     </span><span class="token-keyword">final</span><span class="token-plain"> </span><span class="token-namespace">kotlin</span><span class="token-punctuation">.</span><span class="token-class-name">Pair</span><span class="token-plain"> deserializetoobject_value_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-plain"> </span><span class="token-operator">?</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-84"><span class="token-comment">/* 085 */</span><span class="token-plain">     </span><span class="token-keyword">null</span><span class="token-plain"> </span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-namespace">kotlin</span><span class="token-punctuation">.</span><span class="token-class-name">Pair</span><span class="token-punctuation">(</span><span class="token-plain">deserializetoobject_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span><span class="token-plain"> deserializetoobject_mutableStateArray_1</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-85"><span class="token-comment">/* 086 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-86"><span class="token-comment">/* 087 */</span><span class="token-plain">     </span><span class="token-function">mapelements_doConsume_0</span><span class="token-punctuation">(</span><span class="token-plain">deserializetoobject_value_0</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-87"><span class="token-comment">/* 088 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-88"><span class="token-comment">/* 089 */</span><span class="token-plain">   </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-89"><span class="token-comment">/* 090 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-90"><span class="token-comment">/* 091 */</span><span class="token-plain">   </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">void</span><span class="token-plain"> </span><span class="token-function">serializefromobject_doConsume_0</span><span class="token-punctuation">(</span><span class="token-namespace">kotlin</span><span class="token-punctuation">.</span><span class="token-class-name">Pair</span><span class="token-plain"> serializefromobject_expr_0_0</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">boolean</span><span class="token-plain"> serializefromobject_exprIsNull_0_0</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">throws</span><span class="token-plain"> </span><span class="token-namespace">java</span><span class="token-punctuation">.</span><span class="token-namespace">io</span><span class="token-punctuation">.</span><span class="token-class-name">IOException</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-91"><span class="token-comment">/* 092 */</span><span class="token-plain">     </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">serializefromobject_exprIsNull_0_0</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-92"><span class="token-comment">/* 093 */</span><span class="token-plain">       </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">NullPointerException</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-namespace">java</span><span class="token-punctuation">.</span><span class="token-namespace">lang</span><span class="token-punctuation">.</span><span class="token-class-name">String</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">2</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* errMsg */</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-93"><span class="token-comment">/* 094 */</span><span class="token-plain">     </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-94"><span class="token-comment">/* 095 */</span><span class="token-plain">     </span><span class="token-keyword">boolean</span><span class="token-plain"> serializefromobject_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-95"><span class="token-comment">/* 096 */</span><span class="token-plain">     </span><span class="token-keyword">int</span><span class="token-plain"> serializefromobject_value_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-operator">-</span><span class="token-number">1</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-96"><span class="token-comment">/* 097 */</span><span class="token-plain">     </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-97"><span class="token-comment">/* 098 */</span><span class="token-plain">       serializefromobject_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-98"><span class="token-comment">/* 099 */</span><span class="token-plain">       </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-plain">serializefromobject_isNull_1</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-99"><span class="token-comment">/* 100 */</span><span class="token-plain">         </span><span class="token-class-name">Object</span><span class="token-plain"> serializefromobject_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-100"><span class="token-comment">/* 101 */</span><span class="token-plain">         serializefromobject_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> serializefromobject_expr_0_0</span><span class="token-punctuation">.</span><span class="token-function">getFirst</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-101"><span class="token-comment">/* 102 */</span><span class="token-plain">         serializefromobject_value_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-class-name">Integer</span><span class="token-punctuation">)</span><span class="token-plain"> serializefromobject_funcResult_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-102"><span class="token-comment">/* 103 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-103"><span class="token-comment">/* 104 */</span><span class="token-plain">       </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-104"><span class="token-comment">/* 105 */</span><span class="token-plain">     </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-105"><span class="token-comment">/* 106 */</span><span class="token-plain">     </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">serializefromobject_exprIsNull_0_0</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-106"><span class="token-comment">/* 107 */</span><span class="token-plain">       </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">NullPointerException</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-namespace">java</span><span class="token-punctuation">.</span><span class="token-namespace">lang</span><span class="token-punctuation">.</span><span class="token-class-name">String</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">3</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* errMsg */</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-107"><span class="token-comment">/* 108 */</span><span class="token-plain">     </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-108"><span class="token-comment">/* 109 */</span><span class="token-plain">     </span><span class="token-keyword">boolean</span><span class="token-plain"> serializefromobject_isNull_5 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-109"><span class="token-comment">/* 110 */</span><span class="token-plain">     </span><span class="token-namespace">java</span><span class="token-punctuation">.</span><span class="token-namespace">lang</span><span class="token-punctuation">.</span><span class="token-class-name">String</span><span class="token-plain"> serializefromobject_value_5 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-110"><span class="token-comment">/* 111 */</span><span class="token-plain">     </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-111"><span class="token-comment">/* 112 */</span><span class="token-plain">       serializefromobject_isNull_5 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-112"><span class="token-comment">/* 113 */</span><span class="token-plain">       </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-plain">serializefromobject_isNull_5</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-113"><span class="token-comment">/* 114 */</span><span class="token-plain">         </span><span class="token-class-name">Object</span><span class="token-plain"> serializefromobject_funcResult_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-114"><span class="token-comment">/* 115 */</span><span class="token-plain">         serializefromobject_funcResult_1 </span><span class="token-operator">=</span><span class="token-plain"> serializefromobject_expr_0_0</span><span class="token-punctuation">.</span><span class="token-function">getSecond</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-115"><span class="token-comment">/* 116 */</span><span class="token-plain">         serializefromobject_value_5 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-namespace">java</span><span class="token-punctuation">.</span><span class="token-namespace">lang</span><span class="token-punctuation">.</span><span class="token-class-name">String</span><span class="token-punctuation">)</span><span class="token-plain"> serializefromobject_funcResult_1</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-116"><span class="token-comment">/* 117 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-117"><span class="token-comment">/* 118 */</span><span class="token-plain">       </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-118"><span class="token-comment">/* 119 */</span><span class="token-plain">     </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-119"><span class="token-comment">/* 120 */</span><span class="token-plain">     deserializetoobject_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> serializefromobject_value_5</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-120"><span class="token-comment">/* 121 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-121"><span class="token-comment">/* 122 */</span><span class="token-plain">     </span><span class="token-class-name">UTF8String</span><span class="token-plain"> serializefromobject_value_4 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-122"><span class="token-comment">/* 123 */</span><span class="token-plain">     </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-123"><span class="token-comment">/* 124 */</span><span class="token-plain">       serializefromobject_value_4 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">unsafe</span><span class="token-punctuation">.</span><span class="token-namespace">types</span><span class="token-punctuation">.</span><span class="token-class-name">UTF8String</span><span class="token-punctuation">.</span><span class="token-function">fromString</span><span class="token-punctuation">(</span><span class="token-plain">deserializetoobject_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-124"><span class="token-comment">/* 125 */</span><span class="token-plain">     </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-125"><span class="token-comment">/* 126 */</span><span class="token-plain">     deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">4</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-function">reset</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-126"><span class="token-comment">/* 127 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-127"><span class="token-comment">/* 128 */</span><span class="token-plain">     deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">4</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-function">zeroOutNullBytes</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-128"><span class="token-comment">/* 129 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-129"><span class="token-comment">/* 130 */</span><span class="token-plain">     deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">4</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-function">write</span><span class="token-punctuation">(</span><span class="token-number">0</span><span class="token-punctuation">,</span><span class="token-plain"> serializefromobject_value_1</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-130"><span class="token-comment">/* 131 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-131"><span class="token-comment">/* 132 */</span><span class="token-plain">     deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">4</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-function">write</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> serializefromobject_value_4</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-132"><span class="token-comment">/* 133 */</span><span class="token-plain">     </span><span class="token-function">append</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-plain">deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">4</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-function">getRow</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-133"><span class="token-comment">/* 134 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-134"><span class="token-comment">/* 135 */</span><span class="token-plain">   </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-135"><span class="token-comment">/* 136 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-136"><span class="token-comment">/* 137 */</span><span class="token-plain">   </span><span class="token-keyword">protected</span><span class="token-plain"> </span><span class="token-keyword">void</span><span class="token-plain"> </span><span class="token-function">processNext</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">throws</span><span class="token-plain"> </span><span class="token-namespace">java</span><span class="token-punctuation">.</span><span class="token-namespace">io</span><span class="token-punctuation">.</span><span class="token-class-name">IOException</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-137"><span class="token-comment">/* 138 */</span><span class="token-plain">     </span><span class="token-keyword">while</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain"> localtablescan_input_0</span><span class="token-punctuation">.</span><span class="token-function">hasNext</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-138"><span class="token-comment">/* 139 */</span><span class="token-plain">       </span><span class="token-class-name">InternalRow</span><span class="token-plain"> localtablescan_row_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-class-name">InternalRow</span><span class="token-punctuation">)</span><span class="token-plain"> localtablescan_input_0</span><span class="token-punctuation">.</span><span class="token-function">next</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-139"><span class="token-comment">/* 140 */</span><span class="token-plain">       </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">sql</span><span class="token-punctuation">.</span><span class="token-namespace">execution</span><span class="token-punctuation">.</span><span class="token-namespace">metric</span><span class="token-punctuation">.</span><span class="token-class-name">SQLMetric</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* numOutputRows */</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">add</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-140"><span class="token-comment">/* 141 */</span><span class="token-plain">       </span><span class="token-class-name">UTF8String</span><span class="token-plain"> localtablescan_value_0 </span><span class="token-operator">=</span><span class="token-plain"> localtablescan_row_0</span><span class="token-punctuation">.</span><span class="token-function">getUTF8String</span><span class="token-punctuation">(</span><span class="token-number">0</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-141"><span class="token-comment">/* 142 */</span><span class="token-plain">       </span><span class="token-keyword">int</span><span class="token-plain"> localtablescan_value_1 </span><span class="token-operator">=</span><span class="token-plain"> localtablescan_row_0</span><span class="token-punctuation">.</span><span class="token-function">getInt</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-142"><span class="token-comment">/* 143 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-143"><span class="token-comment">/* 144 */</span><span class="token-plain">       </span><span class="token-function">deserializetoobject_doConsume_0</span><span class="token-punctuation">(</span><span class="token-plain">localtablescan_row_0</span><span class="token-punctuation">,</span><span class="token-plain"> localtablescan_value_0</span><span class="token-punctuation">,</span><span class="token-plain"> localtablescan_value_1</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-144"><span class="token-comment">/* 145 */</span><span class="token-plain">       </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-function">shouldStop</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">return</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-145"><span class="token-comment">/* 146 */</span><span class="token-plain">     </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-146"><span class="token-comment">/* 147 */</span><span class="token-plain">   </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-147"><span class="token-comment">/* 148 */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-148"><span class="token-comment">/* 149 */</span><span class="token-plain"> </span><span class="token-punctuation">}</span></div></div><div></div></code></pre><h4 class="cs-title css-d84v96" style="opacity:1"><span style="opacity:1">What a mess</span></h4></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-line-number">  1 </span><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-namespace">kotlin</span><span class="token-punctuation">.</span><span class="token-class-name">Pair</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-line-number">  2 </span><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">api</span><span class="token-punctuation">.</span><span class="token-namespace">java</span><span class="token-punctuation">.</span><span class="token-namespace">function</span><span class="token-punctuation">.</span><span class="token-class-name">MapFunction</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-line-number">  3 </span><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">sql</span><span class="token-punctuation">.</span><span class="token-namespace">catalyst</span><span class="token-punctuation">.</span><span class="token-class-name">InternalRow</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-line-number">  4 </span><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">sql</span><span class="token-punctuation">.</span><span class="token-namespace">catalyst</span><span class="token-punctuation">.</span><span class="token-namespace">expressions</span><span class="token-punctuation">.</span><span class="token-namespace">codegen</span><span class="token-punctuation">.</span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-line-number">  5 </span><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">sql</span><span class="token-punctuation">.</span><span class="token-namespace">execution</span><span class="token-punctuation">.</span><span class="token-class-name">BufferedRowIterator</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-line-number">  6 </span><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">sql</span><span class="token-punctuation">.</span><span class="token-namespace">execution</span><span class="token-punctuation">.</span><span class="token-namespace">metric</span><span class="token-punctuation">.</span><span class="token-class-name">SQLMetric</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-line-number">  7 </span><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">unsafe</span><span class="token-punctuation">.</span><span class="token-class-name">Platform</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-line-number">  8 </span><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">unsafe</span><span class="token-punctuation">.</span><span class="token-namespace">types</span><span class="token-punctuation">.</span><span class="token-class-name">UTF8String</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-line-number">  9 </span><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-namespace">scala</span><span class="token-punctuation">.</span><span class="token-namespace">collection</span><span class="token-punctuation">.</span><span class="token-class-name">Iterator</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-line-number"> 10 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-line-number"> 11 </span><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-namespace">java</span><span class="token-punctuation">.</span><span class="token-namespace">io</span><span class="token-punctuation">.</span><span class="token-class-name">IOException</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-line-number"> 12 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-line-number"> 13 </span><span class="token-keyword">public</span><span class="token-plain"> </span><span class="token-class-name">Object</span><span class="token-plain"> </span><span class="token-function">generate</span><span class="token-punctuation">(</span><span class="token-class-name">Object</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain">references</span><span class="token-punctuation">)</span><span class="token-punctuation">{</span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">GeneratedIteratorForCodegenStage1</span><span class="token-punctuation">(</span><span class="token-plain">references</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-line-number"> 14 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-line-number"> 15 </span><span class="token-comment">// codegenStageId=1</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-line-number"> 16 </span><span class="token-keyword">final</span><span class="token-plain"> </span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-class-name">GeneratedIteratorForCodegenStage1</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-class-name">BufferedRowIterator</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-line-number"> 17 </span><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-class-name">Object</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> references</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-line-number"> 18 </span><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-class-name">Iterator</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> inputs</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-line-number"> 19 </span><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-class-name">Iterator</span><span class="token-plain"> localtablescan_input_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-line-number"> 20 </span><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">int</span><span class="token-plain"> deserializetoobject_argValue_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-line-number"> 21 </span><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-class-name">String</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> deserializetoobject_mutableStateArray_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">String</span><span class="token-punctuation">[</span><span class="token-number">2</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-line-number"> 22 </span><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> deserializetoobject_mutableStateArray_2 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">[</span><span class="token-number">5</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-line-number"> 23 </span><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-class-name">Integer</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> deserializetoobject_mutableStateArray_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">Integer</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-line-number"> 24 </span><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-class-name">Pair</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> mapelements_mutableStateArray_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">Pair</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-line-number"> 25 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-line-number"> 26 </span><span class="token-plain">    </span><span class="token-keyword">public</span><span class="token-plain"> </span><span class="token-class-name">GeneratedIteratorForCodegenStage1</span><span class="token-punctuation">(</span><span class="token-class-name">Object</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> references</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-line-number"> 27 </span><span class="token-plain">        </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">references </span><span class="token-operator">=</span><span class="token-plain"> references</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-line-number"> 28 </span><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-line-number"> 29 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-line-number"> 30 </span><span class="token-plain">    </span><span class="token-keyword">public</span><span class="token-plain"> </span><span class="token-keyword">void</span><span class="token-plain"> </span><span class="token-function">init</span><span class="token-punctuation">(</span><span class="token-keyword">int</span><span class="token-plain"> index</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-class-name">Iterator</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> inputs</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-line-number"> 31 </span><span class="token-plain">        partitionIndex </span><span class="token-operator">=</span><span class="token-plain"> index</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-line-number"> 32 </span><span class="token-plain">        </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">inputs </span><span class="token-operator">=</span><span class="token-plain"> inputs</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-line-number"> 33 </span><span class="token-plain">        localtablescan_input_0 </span><span class="token-operator">=</span><span class="token-plain"> inputs</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-line-number"> 34 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-34"><span class="token-line-number"> 35 </span><span class="token-plain">        deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">32</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-line-number"> 36 </span><span class="token-plain">        deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">32</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-line-number"> 37 </span><span class="token-plain">        deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">2</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">32</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-37"><span class="token-line-number"> 38 </span><span class="token-plain">        deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">3</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">32</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-38"><span class="token-line-number"> 39 </span><span class="token-plain">        deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">4</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">(</span><span class="token-number">2</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">32</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-39"><span class="token-line-number"> 40 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-40"><span class="token-line-number"> 41 </span><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-41"><span class="token-line-number"> 42 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-42"><span class="token-line-number"> 43 </span><span class="token-plain">    </span><span class="token-keyword">protected</span><span class="token-plain"> </span><span class="token-keyword">void</span><span class="token-plain"> </span><span class="token-function">processNext</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">throws</span><span class="token-plain"> </span><span class="token-class-name">IOException</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-43"><span class="token-line-number"> 44 </span><span class="token-plain">        </span><span class="token-keyword">while</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">localtablescan_input_0</span><span class="token-punctuation">.</span><span class="token-function">hasNext</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-44"><span class="token-line-number"> 45 </span><span class="token-plain">            </span><span class="token-class-name">InternalRow</span><span class="token-plain"> localtablescan_row_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-class-name">InternalRow</span><span class="token-punctuation">)</span><span class="token-plain"> localtablescan_input_0</span><span class="token-punctuation">.</span><span class="token-function">next</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-line-number"> 46 </span><span class="token-plain">            </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-class-name">SQLMetric</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* numOutputRows */</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">add</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-46"><span class="token-line-number"> 47 </span><span class="token-plain">            </span><span class="token-class-name">UTF8String</span><span class="token-plain"> localtablescan_value_0 </span><span class="token-operator">=</span><span class="token-plain"> localtablescan_row_0</span><span class="token-punctuation">.</span><span class="token-function">getUTF8String</span><span class="token-punctuation">(</span><span class="token-number">0</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-47"><span class="token-line-number"> 48 </span><span class="token-plain">            </span><span class="token-keyword">int</span><span class="token-plain"> localtablescan_value_1 </span><span class="token-operator">=</span><span class="token-plain"> localtablescan_row_0</span><span class="token-punctuation">.</span><span class="token-function">getInt</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-48"><span class="token-line-number"> 49 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-49"><span class="token-line-number"> 50 </span><span class="token-plain">            </span><span class="token-function">deserializetoobject_doConsume_0</span><span class="token-punctuation">(</span><span class="token-plain">localtablescan_row_0</span><span class="token-punctuation">,</span><span class="token-plain"> localtablescan_value_0</span><span class="token-punctuation">,</span><span class="token-plain"> localtablescan_value_1</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-50"><span class="token-line-number"> 51 </span><span class="token-plain">            </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-function">shouldStop</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">return</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-51"><span class="token-line-number"> 52 </span><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-52"><span class="token-line-number"> 53 </span><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-53"><span class="token-line-number"> 54 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-54"><span class="token-line-number"> 55 </span><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">void</span><span class="token-plain"> </span><span class="token-function">deserializetoobject_doConsume_0</span><span class="token-punctuation">(</span><span class="token-class-name">InternalRow</span><span class="token-plain"> localtablescan_row_0</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-55"><span class="token-line-number"> 56 </span><span class="token-plain">                                                 </span><span class="token-class-name">UTF8String</span><span class="token-plain"> deserializetoobject_expr_0_0</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-56"><span class="token-line-number"> 57 </span><span class="token-plain">                                                 </span><span class="token-keyword">int</span><span class="token-plain"> deserializetoobject_expr_1_0</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">throws</span><span class="token-plain"> </span><span class="token-class-name">IOException</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-57"><span class="token-line-number"> 58 </span><span class="token-plain">        </span><span class="token-keyword">boolean</span><span class="token-plain"> deserializetoobject_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-58"><span class="token-line-number"> 59 </span><span class="token-plain">        </span><span class="token-class-name">String</span><span class="token-plain"> deserializetoobject_value_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-59"><span class="token-line-number"> 60 </span><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-60"><span class="token-line-number"> 61 </span><span class="token-plain">            deserializetoobject_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-61"><span class="token-line-number"> 62 </span><span class="token-plain">            </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-plain">deserializetoobject_isNull_1</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-62"><span class="token-line-number"> 63 </span><span class="token-plain">                </span><span class="token-class-name">Object</span><span class="token-plain"> deserializetoobject_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-63"><span class="token-line-number"> 64 </span><span class="token-plain">                deserializetoobject_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> deserializetoobject_expr_0_0</span><span class="token-punctuation">.</span><span class="token-function">toString</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-64"><span class="token-line-number"> 65 </span><span class="token-plain">                deserializetoobject_value_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-class-name">String</span><span class="token-punctuation">)</span><span class="token-plain"> deserializetoobject_funcResult_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-65"><span class="token-line-number"> 66 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-66"><span class="token-line-number"> 67 </span><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-67"><span class="token-line-number"> 68 </span><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-68"><span class="token-line-number"> 69 </span><span class="token-plain">        deserializetoobject_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> deserializetoobject_value_1</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-line-number"> 70 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-70"><span class="token-line-number"> 71 </span><span class="token-plain">        deserializetoobject_argValue_0 </span><span class="token-operator">=</span><span class="token-plain"> deserializetoobject_expr_1_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-71"><span class="token-line-number"> 72 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-72"><span class="token-line-number"> 73 </span><span class="token-plain">        </span><span class="token-class-name">Integer</span><span class="token-plain"> deserializetoobject_value_3 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-73"><span class="token-line-number"> 74 </span><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-74"><span class="token-line-number"> 75 </span><span class="token-plain">            deserializetoobject_value_3 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-class-name">Integer</span><span class="token-punctuation">.</span><span class="token-function">valueOf</span><span class="token-punctuation">(</span><span class="token-plain">deserializetoobject_argValue_0</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-75"><span class="token-line-number"> 76 </span><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-76"><span class="token-line-number"> 77 </span><span class="token-plain">        deserializetoobject_mutableStateArray_1</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> deserializetoobject_value_3</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-77"><span class="token-line-number"> 78 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-78"><span class="token-line-number"> 79 </span><span class="token-plain">        </span><span class="token-keyword">final</span><span class="token-plain"> </span><span class="token-class-name">Pair</span><span class="token-plain"> deserializetoobject_value_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-plain"> </span><span class="token-operator">?</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-79"><span class="token-line-number"> 80 </span><span class="token-plain">                </span><span class="token-keyword">null</span><span class="token-plain"> </span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">Pair</span><span class="token-punctuation">(</span><span class="token-plain">deserializetoobject_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span><span class="token-plain"> deserializetoobject_mutableStateArray_1</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-80"><span class="token-line-number"> 81 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-81"><span class="token-line-number"> 82 </span><span class="token-plain">        </span><span class="token-function">mapelements_doConsume_0</span><span class="token-punctuation">(</span><span class="token-plain">deserializetoobject_value_0</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-82"><span class="token-line-number"> 83 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-83"><span class="token-line-number"> 84 </span><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-84"><span class="token-line-number"> 85 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-85"><span class="token-line-number"> 86 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-86"><span class="token-line-number"> 87 </span><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">void</span><span class="token-plain"> </span><span class="token-function">mapelements_doConsume_0</span><span class="token-punctuation">(</span><span class="token-class-name">Pair</span><span class="token-plain"> mapelements_expr_0_0</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">boolean</span><span class="token-plain"> mapelements_exprIsNull_0_0</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">throws</span><span class="token-plain"> </span><span class="token-class-name">IOException</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-87"><span class="token-line-number"> 88 </span><span class="token-plain">        </span><span class="token-keyword">boolean</span><span class="token-plain"> mapelements_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-88"><span class="token-line-number"> 89 </span><span class="token-plain">        </span><span class="token-class-name">Pair</span><span class="token-plain"> mapelements_value_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-89"><span class="token-line-number"> 90 </span><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-90"><span class="token-line-number"> 91 </span><span class="token-plain">            mapelements_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> mapelements_expr_0_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-91"><span class="token-line-number"> 92 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-92"><span class="token-line-number"> 93 </span><span class="token-plain">            mapelements_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-93"><span class="token-line-number"> 94 </span><span class="token-plain">            </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-plain">mapelements_isNull_1</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-94"><span class="token-line-number"> 95 </span><span class="token-plain">                </span><span class="token-class-name">Object</span><span class="token-plain"> mapelements_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-95"><span class="token-line-number"> 96 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-96"><span class="token-line-number"> 97 </span><span class="token-plain">                </span><span class="token-keyword">try</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-97"><span class="token-line-number"> 98 </span><span class="token-plain">                    mapelements_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-class-name">MapFunction</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* literal */</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">call</span><span class="token-punctuation">(</span><span class="token-plain">mapelements_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-98"><span class="token-line-number"> 99 </span><span class="token-plain">                </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">catch</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-class-name">Exception</span><span class="token-plain"> e</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-99"><span class="token-line-number">100 </span><span class="token-plain">                    </span><span class="token-class-name">Platform</span><span class="token-punctuation">.</span><span class="token-function">throwException</span><span class="token-punctuation">(</span><span class="token-plain">e</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-100"><span class="token-line-number">101 </span><span class="token-plain">                </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-101"><span class="token-line-number">102 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-102"><span class="token-line-number">103 </span><span class="token-plain">                </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">mapelements_funcResult_0 </span><span class="token-operator">!=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-103"><span class="token-line-number">104 </span><span class="token-plain">                    mapelements_value_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-class-name">Pair</span><span class="token-punctuation">)</span><span class="token-plain"> mapelements_funcResult_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-104"><span class="token-line-number">105 </span><span class="token-plain">                </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">else</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-105"><span class="token-line-number">106 </span><span class="token-plain">                    mapelements_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-106"><span class="token-line-number">107 </span><span class="token-plain">                </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-107"><span class="token-line-number">108 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-108"><span class="token-line-number">109 </span><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-109"><span class="token-line-number">110 </span><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-110"><span class="token-line-number">111 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-111"><span class="token-line-number">112 </span><span class="token-plain">        </span><span class="token-function">serializefromobject_doConsume_0</span><span class="token-punctuation">(</span><span class="token-plain">mapelements_value_1</span><span class="token-punctuation">,</span><span class="token-plain"> mapelements_isNull_1</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-112"><span class="token-line-number">113 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-113"><span class="token-line-number">114 </span><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-114"><span class="token-line-number">115 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-115"><span class="token-line-number">116 </span><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">void</span><span class="token-plain"> </span><span class="token-function">serializefromobject_doConsume_0</span><span class="token-punctuation">(</span><span class="token-class-name">Pair</span><span class="token-plain"> serializefromobject_expr_0_0</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-116"><span class="token-line-number">117 </span><span class="token-plain">                                                 </span><span class="token-keyword">boolean</span><span class="token-plain"> serializefromobject_exprIsNull_0_0</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">throws</span><span class="token-plain"> </span><span class="token-class-name">IOException</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-117"><span class="token-line-number">118 </span><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">serializefromobject_exprIsNull_0_0</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-118"><span class="token-line-number">119 </span><span class="token-plain">            </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">NullPointerException</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-class-name">String</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">2</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* errMsg */</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-119"><span class="token-line-number">120 </span><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-120"><span class="token-line-number">121 </span><span class="token-plain">        </span><span class="token-keyword">boolean</span><span class="token-plain"> serializefromobject_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-121"><span class="token-line-number">122 </span><span class="token-plain">        </span><span class="token-keyword">int</span><span class="token-plain"> serializefromobject_value_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-operator">-</span><span class="token-number">1</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-122"><span class="token-line-number">123 </span><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-123"><span class="token-line-number">124 </span><span class="token-plain">            serializefromobject_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-124"><span class="token-line-number">125 </span><span class="token-plain">            </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-plain">serializefromobject_isNull_1</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-125"><span class="token-line-number">126 </span><span class="token-plain">                </span><span class="token-class-name">Object</span><span class="token-plain"> serializefromobject_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-126"><span class="token-line-number">127 </span><span class="token-plain">                serializefromobject_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> serializefromobject_expr_0_0</span><span class="token-punctuation">.</span><span class="token-function">getFirst</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-127"><span class="token-line-number">128 </span><span class="token-plain">                serializefromobject_value_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-class-name">Integer</span><span class="token-punctuation">)</span><span class="token-plain"> serializefromobject_funcResult_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-128"><span class="token-line-number">129 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-129"><span class="token-line-number">130 </span><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-130"><span class="token-line-number">131 </span><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-131"><span class="token-line-number">132 </span><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">serializefromobject_exprIsNull_0_0</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-132"><span class="token-line-number">133 </span><span class="token-plain">            </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">NullPointerException</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-class-name">String</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">3</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* errMsg */</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-133"><span class="token-line-number">134 </span><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-134"><span class="token-line-number">135 </span><span class="token-plain">        </span><span class="token-keyword">boolean</span><span class="token-plain"> serializefromobject_isNull_5 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-135"><span class="token-line-number">136 </span><span class="token-plain">        </span><span class="token-class-name">String</span><span class="token-plain"> serializefromobject_value_5 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-136"><span class="token-line-number">137 </span><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-137"><span class="token-line-number">138 </span><span class="token-plain">            serializefromobject_isNull_5 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-138"><span class="token-line-number">139 </span><span class="token-plain">            </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-plain">serializefromobject_isNull_5</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-139"><span class="token-line-number">140 </span><span class="token-plain">                </span><span class="token-class-name">Object</span><span class="token-plain"> serializefromobject_funcResult_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-140"><span class="token-line-number">141 </span><span class="token-plain">                serializefromobject_funcResult_1 </span><span class="token-operator">=</span><span class="token-plain"> serializefromobject_expr_0_0</span><span class="token-punctuation">.</span><span class="token-function">getSecond</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-141"><span class="token-line-number">142 </span><span class="token-plain">                serializefromobject_value_5 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-class-name">String</span><span class="token-punctuation">)</span><span class="token-plain"> serializefromobject_funcResult_1</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-142"><span class="token-line-number">143 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-143"><span class="token-line-number">144 </span><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-144"><span class="token-line-number">145 </span><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-145"><span class="token-line-number">146 </span><span class="token-plain">        deserializetoobject_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> serializefromobject_value_5</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-146"><span class="token-line-number">147 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-147"><span class="token-line-number">148 </span><span class="token-plain">        </span><span class="token-class-name">UTF8String</span><span class="token-plain"> serializefromobject_value_4 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-148"><span class="token-line-number">149 </span><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-149"><span class="token-line-number">150 </span><span class="token-plain">            serializefromobject_value_4 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-class-name">UTF8String</span><span class="token-punctuation">.</span><span class="token-function">fromString</span><span class="token-punctuation">(</span><span class="token-plain">deserializetoobject_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-150"><span class="token-line-number">151 </span><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-151"><span class="token-line-number">152 </span><span class="token-plain">        deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">4</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-function">reset</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-152"><span class="token-line-number">153 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-153"><span class="token-line-number">154 </span><span class="token-plain">        deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">4</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-function">zeroOutNullBytes</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-154"><span class="token-line-number">155 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-155"><span class="token-line-number">156 </span><span class="token-plain">        deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">4</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-function">write</span><span class="token-punctuation">(</span><span class="token-number">0</span><span class="token-punctuation">,</span><span class="token-plain"> serializefromobject_value_1</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-156"><span class="token-line-number">157 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-157"><span class="token-line-number">158 </span><span class="token-plain">        deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">4</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-function">write</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> serializefromobject_value_4</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-158"><span class="token-line-number">159 </span><span class="token-plain">        </span><span class="token-function">append</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-plain">deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">4</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-function">getRow</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-159"><span class="token-line-number">160 </span><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-160"><span class="token-line-number">161 </span><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">161 </span><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">  1 </span><div style="display:inline-block" class="cs-line cs-line-97"><span class="token-plain">                    mapelements_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-class-name">MapFunction</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* literal */</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">call</span><span class="token-punctuation">(</span><span class="token-plain">mapelements_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">What&#x27;s wrong here?</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">161 </span><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">  1 </span><div style="display:inline-block" class="cs-line cs-line-97"><span class="token-plain">                    mapelements_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-class-name">MapFunction</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* literal */</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">call</span><span class="token-punctuation">(</span><span class="token-plain">mapelements_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Janino script!</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">161 </span><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">  1 </span><div style="display:inline-block" class="cs-line cs-line-97"><span class="token-plain">                    mapelements_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-class-name">MapFunction</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* literal */</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">call</span><span class="token-punctuation">(</span><span class="token-plain">mapelements_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">161 </span><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">  1 </span><div style="display:inline-block" class="cs-line cs-line-97"><span class="token-plain">                    mapelements_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-class-name">MapFunction</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* literal */</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">call</span><span class="token-punctuation">(</span><span class="token-plain">mapelements_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">161 </span><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">  1 </span><div style="display:inline-block" class="cs-line cs-line-97"><span class="token-plain">                    mapelements_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-class-name">MapFunction</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* literal */</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">call</span><span class="token-punctuation">(</span><span class="token-plain">mapelements_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">It stops!</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">161 </span><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">  1 </span><div style="display:inline-block" class="cs-line cs-line-97"><span class="token-plain">                    mapelements_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-class-name">MapFunction</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* literal */</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">call</span><span class="token-punctuation">(</span><span class="token-plain">mapelements_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">161 </span><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">  1 </span><div style="display:inline-block" class="cs-line cs-line-97"><span class="token-plain">                    mapelements_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-class-name">MapFunction</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* literal */</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">call</span><span class="token-punctuation">(</span><span class="token-plain">mapelements_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">161 </span><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">  1 </span><div style="display:inline-block" class="cs-line cs-line-97"><span class="token-plain">                    mapelements_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-class-name">MapFunction</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* literal */</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">call</span><span class="token-punctuation">(</span><span class="token-plain">mapelements_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">161 </span><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">  1 </span><div style="display:inline-block" class="cs-line cs-line-97"><span class="token-plain">                    mapelements_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-class-name">MapFunction</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* literal */</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">call</span><span class="token-punctuation">(</span><span class="token-plain">mapelements_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">161 </span><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">  1 </span><div style="display:inline-block" class="cs-line cs-line-97"><span class="token-plain">                    mapelements_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-class-name">MapFunction</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* literal */</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">call</span><span class="token-punctuation">(</span><span class="token-plain">mapelements_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">161 </span><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><span class="token-line-number">  1 </span><div style="display:inline-block" class="cs-line cs-line-97"><span class="token-plain">                    mapelements_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-class-name">MapFunction</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* literal */</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">call</span><span class="token-punctuation">(</span><span class="token-plain">mapelements_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-line-number">161 </span><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-97"><span class="token-line-number">  1 </span><span class="token-plain">                    mapelements_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-class-name">MapFunction</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* literal */</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">call</span><span class="token-punctuation">(</span><span class="token-plain">mapelements_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-zv3p95"><h1 class="css-1djqpdg">Still not clear</h1><ul class="css-1uk1gs8"><li class="css-0">Code is generated</li><li class="css-0">There is a cycle inside this code</li><li class="css-0">Something is being written somewhere</li></ul></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">fun</span><span class="token-plain"> </span><span class="token-function">main</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    withSpark </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">        </span><span class="token-function">dsOf</span><span class="token-punctuation">(</span><span class="token-string">&quot;a&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;b&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">2</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;c&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">3</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;d&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">4</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;e&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">5</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;f&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">6</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">            </span><span class="token-string">&quot;g&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">7</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;h&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">8</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;i&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">9</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;j&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">10</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;k&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">11</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;l&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">12</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;m&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">13</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">map</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">second </span><span class="token-operator">-</span><span class="token-plain"> </span><span class="token-number">1</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">first </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">sort</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-function">arrayOf</span><span class="token-punctuation">(</span><span class="token-plain">it</span><span class="token-punctuation">.</span><span class="token-function">col</span><span class="token-punctuation">(</span><span class="token-string">&quot;first&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">desc</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">debugCodegen</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">            </span><span class="token-punctuation">.</span><span class="token-function">show</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">            </span><span class="token-string">&quot;g&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">7</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;h&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">8</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;i&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">9</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;j&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">10</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;k&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">11</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;l&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">12</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;m&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> </span><span class="token-number">13</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">final</span><span class="token-plain"> </span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-class-name">GeneratedIteratorForCodegenStage1</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">sql</span><span class="token-punctuation">.</span><span class="token-namespace">execution</span><span class="token-punctuation">.</span><span class="token-class-name">BufferedRowIterator</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-class-name">Object</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> references</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-namespace">scala</span><span class="token-punctuation">.</span><span class="token-namespace">collection</span><span class="token-punctuation">.</span><span class="token-class-name">Iterator</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> inputs</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-namespace">scala</span><span class="token-punctuation">.</span><span class="token-namespace">collection</span><span class="token-punctuation">.</span><span class="token-class-name">Iterator</span><span class="token-plain"> localtablescan_input_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">int</span><span class="token-plain"> deserializetoobject_argValue_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-class-name">String</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> deserializetoobject_mutableStateArray_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">String</span><span class="token-punctuation">[</span><span class="token-number">2</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> deserializetoobject_mutableStateArray_2 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">[</span><span class="token-number">5</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-class-name">Integer</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> deserializetoobject_mutableStateArray_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">Integer</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-class-name">Pair</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> mapelements_mutableStateArray_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">Pair</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">    </span><span class="token-keyword">public</span><span class="token-plain"> </span><span class="token-class-name">GeneratedIteratorForCodegenStage1</span><span class="token-punctuation">(</span><span class="token-class-name">Object</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> references</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">        </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">references </span><span class="token-operator">=</span><span class="token-plain"> references</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">    </span><span class="token-keyword">public</span><span class="token-plain"> </span><span class="token-keyword">void</span><span class="token-plain"> </span><span class="token-function">init</span><span class="token-punctuation">(</span><span class="token-keyword">int</span><span class="token-plain"> index</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-namespace">scala</span><span class="token-punctuation">.</span><span class="token-namespace">collection</span><span class="token-punctuation">.</span><span class="token-class-name">Iterator</span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-plain"> inputs</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">        partitionIndex </span><span class="token-operator">=</span><span class="token-plain"> index</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">        </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">inputs </span><span class="token-operator">=</span><span class="token-plain"> inputs</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">        localtablescan_input_0 </span><span class="token-operator">=</span><span class="token-plain"> inputs</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">        deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">32</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">        deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">32</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">        deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">2</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">32</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">        deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">3</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">32</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">        deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">4</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">UnsafeRowWriter</span><span class="token-punctuation">(</span><span class="token-number">2</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">32</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-plain">    </span><span class="token-keyword">protected</span><span class="token-plain"> </span><span class="token-keyword">void</span><span class="token-plain"> </span><span class="token-function">processNext</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">throws</span><span class="token-plain"> </span><span class="token-class-name">IOException</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">        </span><span class="token-comment">// PRODUCE: SerializeFromObject [assertnotnull(input[0, kotlin.Pair, true]).getFirst AS first#25, </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-plain">        </span><span class="token-comment">//      staticinvoke(class org.apache.spark.unsafe.types.UTF8String, StringType, fromString, </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-plain">        </span><span class="token-comment">//              assertnotnull(input[0, kotlin.Pair, true]).getSecond, true, false) AS second#26]</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">        </span><span class="token-comment">// PRODUCE: MapElements me.MainKt$inlined$sam$i$org_apache_spark_api_java_function_MapFunction$0@346a2799, </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-plain">        </span><span class="token-comment">//      obj#24: kotlin.Pair</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-plain">        </span><span class="token-comment">// PRODUCE: DeserializeToObject newInstance(class kotlin.Pair), obj#23: kotlin.Pair</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-34"><span class="token-plain">        </span><span class="token-comment">// PRODUCE: LocalTableScan [first#16, second#17]</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-plain">        </span><span class="token-keyword">while</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">localtablescan_input_0</span><span class="token-punctuation">.</span><span class="token-function">hasNext</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-plain">            </span><span class="token-class-name">InternalRow</span><span class="token-plain"> localtablescan_row_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-class-name">InternalRow</span><span class="token-punctuation">)</span><span class="token-plain"> localtablescan_input_0</span><span class="token-punctuation">.</span><span class="token-function">next</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-37"><span class="token-plain">            </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">sql</span><span class="token-punctuation">.</span><span class="token-namespace">execution</span><span class="token-punctuation">.</span><span class="token-namespace">metric</span><span class="token-punctuation">.</span><span class="token-class-name">SQLMetric</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* numOutputRows */</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">add</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-38"><span class="token-plain">            </span><span class="token-comment">// CONSUME: DeserializeToObject newInstance(class kotlin.Pair), obj#23: kotlin.Pair</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-39"><span class="token-plain">            </span><span class="token-comment">// input[0, string, false]</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-40"><span class="token-plain">            </span><span class="token-class-name">UTF8String</span><span class="token-plain"> localtablescan_value_0 </span><span class="token-operator">=</span><span class="token-plain"> localtablescan_row_0</span><span class="token-punctuation">.</span><span class="token-function">getUTF8String</span><span class="token-punctuation">(</span><span class="token-number">0</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-41"><span class="token-plain">            </span><span class="token-comment">// input[1, int, false]</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-42"><span class="token-plain">            </span><span class="token-keyword">int</span><span class="token-plain"> localtablescan_value_1 </span><span class="token-operator">=</span><span class="token-plain"> localtablescan_row_0</span><span class="token-punctuation">.</span><span class="token-function">getInt</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-43"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-44"><span class="token-plain">            </span><span class="token-function">deserializetoobject_doConsume_0</span><span class="token-punctuation">(</span><span class="token-plain">localtablescan_row_0</span><span class="token-punctuation">,</span><span class="token-plain"> localtablescan_value_0</span><span class="token-punctuation">,</span><span class="token-plain"> localtablescan_value_1</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-plain">            </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-function">shouldStop</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">return</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-46"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-47"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-48"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-49"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-keyword">p</span><span class="token-keyword">r</span><span class="token-keyword">i</span><span class="token-keyword">v</span><span class="token-keyword">a</span><span class="token-keyword">t</span><span class="token-keyword">e</span><span class="token-plain"> </span><span class="token-keyword">v</span><span class="token-keyword">o</span><span class="token-keyword">i</span><span class="token-keyword">d</span><span class="token-plain"> </span><span class="token-function">d</span><span class="token-function">e</span><span class="token-function">s</span><span class="token-function">e</span><span class="token-function">r</span><span class="token-function">i</span><span class="token-function">a</span><span class="token-function">l</span><span class="token-function">i</span><span class="token-function">z</span><span class="token-function">e</span><span class="token-function">t</span><span class="token-function">o</span><span class="token-function">o</span><span class="token-function">b</span><span class="token-function">j</span><span class="token-function">e</span><span class="token-function">c</span><span class="token-function">t</span><span class="token-function">_</span><span class="token-function">d</span><span class="token-function">o</span><span class="token-function">C</span><span class="token-function">o</span><span class="token-function">n</span><span class="token-function">s</span><span class="token-function">u</span><span class="token-function">m</span><span class="token-function">e</span><span class="token-function">_</span><span class="token-function">0</span><span class="token-punctuation">(</span><span class="token-class-name">I</span><span class="token-class-name">n</span><span class="token-class-name">t</span><span class="token-class-name">e</span><span class="token-class-name">r</span><span class="token-class-name">n</span><span class="token-class-name">a</span><span class="token-class-name">l</span><span class="token-class-name">R</span><span class="token-class-name">o</span><span class="token-class-name">w</span><span class="token-plain"> </span><span class="token-plain">l</span><span class="token-plain">o</span><span class="token-plain">c</span><span class="token-plain">a</span><span class="token-plain">l</span><span class="token-plain">t</span><span class="token-plain">a</span><span class="token-plain">b</span><span class="token-plain">l</span><span class="token-plain">e</span><span class="token-plain">s</span><span class="token-plain">c</span><span class="token-plain">a</span><span class="token-plain">n</span><span class="token-plain">_</span><span class="token-plain">r</span><span class="token-plain">o</span><span class="token-plain">w</span><span class="token-plain">_</span><span class="token-plain">0</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-50"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-class-name">U</span><span class="token-class-name">T</span><span class="token-class-name">F</span><span class="token-class-name">8</span><span class="token-class-name">S</span><span class="token-class-name">t</span><span class="token-class-name">r</span><span class="token-class-name">i</span><span class="token-class-name">n</span><span class="token-class-name">g</span><span class="token-plain"> </span><span class="token-plain">d</span><span class="token-plain">e</span><span class="token-plain">s</span><span class="token-plain">e</span><span class="token-plain">r</span><span class="token-plain">i</span><span class="token-plain">a</span><span class="token-plain">l</span><span class="token-plain">i</span><span class="token-plain">z</span><span class="token-plain">e</span><span class="token-plain">t</span><span class="token-plain">o</span><span class="token-plain">o</span><span class="token-plain">b</span><span class="token-plain">j</span><span class="token-plain">e</span><span class="token-plain">c</span><span class="token-plain">t</span><span class="token-plain">_</span><span class="token-plain">e</span><span class="token-plain">x</span><span class="token-plain">p</span><span class="token-plain">r</span><span class="token-plain">_</span><span class="token-plain">0</span><span class="token-plain">_</span><span class="token-plain">0</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-51"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-keyword">i</span><span class="token-keyword">n</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-plain">d</span><span class="token-plain">e</span><span class="token-plain">s</span><span class="token-plain">e</span><span class="token-plain">r</span><span class="token-plain">i</span><span class="token-plain">a</span><span class="token-plain">l</span><span class="token-plain">i</span><span class="token-plain">z</span><span class="token-plain">e</span><span class="token-plain">t</span><span class="token-plain">o</span><span class="token-plain">o</span><span class="token-plain">b</span><span class="token-plain">j</span><span class="token-plain">e</span><span class="token-plain">c</span><span class="token-plain">t</span><span class="token-plain">_</span><span class="token-plain">e</span><span class="token-plain">x</span><span class="token-plain">p</span><span class="token-plain">r</span><span class="token-plain">_</span><span class="token-plain">1</span><span class="token-plain">_</span><span class="token-plain">0</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">t</span><span class="token-keyword">h</span><span class="token-keyword">r</span><span class="token-keyword">o</span><span class="token-keyword">w</span><span class="token-keyword">s</span><span class="token-plain"> </span><span class="token-class-name">I</span><span class="token-class-name">O</span><span class="token-class-name">E</span><span class="token-class-name">x</span><span class="token-class-name">c</span><span class="token-class-name">e</span><span class="token-class-name">p</span><span class="token-class-name">t</span><span class="token-class-name">i</span><span class="token-class-name">o</span><span class="token-class-name">n</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-52"><span class="token-plain">        </span><span class="token-comment">// CONSUME: MapElements me.MainKt$inlined$sam$i$org_apache_spark_api_java_function_MapFunction$0@346a2799, </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-53"><span class="token-plain">        </span><span class="token-comment">//          obj#24: kotlin.Pair</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-54"><span class="token-plain">        </span><span class="token-comment">// newInstance(class kotlin.Pair)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-55"><span class="token-plain">        </span><span class="token-comment">// input[0, string, false].toString</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-56"><span class="token-plain">        </span><span class="token-keyword">boolean</span><span class="token-plain"> deserializetoobject_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-57"><span class="token-plain">        </span><span class="token-class-name">String</span><span class="token-plain"> deserializetoobject_value_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-58"><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-59"><span class="token-plain">            deserializetoobject_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-60"><span class="token-plain">            </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-plain">deserializetoobject_isNull_1</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-61"><span class="token-plain">                </span><span class="token-class-name">Object</span><span class="token-plain"> deserializetoobject_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-62"><span class="token-plain">                deserializetoobject_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> deserializetoobject_expr_0_0</span><span class="token-punctuation">.</span><span class="token-function">toString</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-63"><span class="token-plain">                deserializetoobject_value_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-class-name">String</span><span class="token-punctuation">)</span><span class="token-plain"> deserializetoobject_funcResult_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-64"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-65"><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-66"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-67"><span class="token-plain">        deserializetoobject_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> deserializetoobject_value_1</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-68"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-70"><span class="token-plain">        deserializetoobject_argValue_0 </span><span class="token-operator">=</span><span class="token-plain"> deserializetoobject_expr_1_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-71"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-72"><span class="token-plain">        </span><span class="token-class-name">Integer</span><span class="token-plain"> deserializetoobject_value_3 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-73"><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-74"><span class="token-plain">            deserializetoobject_value_3 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-class-name">Integer</span><span class="token-punctuation">.</span><span class="token-function">valueOf</span><span class="token-punctuation">(</span><span class="token-plain">deserializetoobject_argValue_0</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-75"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-76"><span class="token-plain">        deserializetoobject_mutableStateArray_1</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> deserializetoobject_value_3</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-77"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-78"><span class="token-plain">        </span><span class="token-keyword">final</span><span class="token-plain"> </span><span class="token-class-name">Pair</span><span class="token-plain"> deserializetoobject_value_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-plain"> </span><span class="token-operator">?</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-plain"> </span><span class="token-operator">:</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-79"><span class="token-plain">                </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">Pair</span><span class="token-punctuation">(</span><span class="token-plain">deserializetoobject_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span><span class="token-plain"> deserializetoobject_mutableStateArray_1</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-80"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-81"><span class="token-plain">        </span><span class="token-function">mapelements_doConsume_0</span><span class="token-punctuation">(</span><span class="token-plain">deserializetoobject_value_0</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-82"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-83"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-84"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-85"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-keyword">p</span><span class="token-keyword">r</span><span class="token-keyword">i</span><span class="token-keyword">v</span><span class="token-keyword">a</span><span class="token-keyword">t</span><span class="token-keyword">e</span><span class="token-plain"> </span><span class="token-keyword">v</span><span class="token-keyword">o</span><span class="token-keyword">i</span><span class="token-keyword">d</span><span class="token-plain"> </span><span class="token-function">m</span><span class="token-function">a</span><span class="token-function">p</span><span class="token-function">e</span><span class="token-function">l</span><span class="token-function">e</span><span class="token-function">m</span><span class="token-function">e</span><span class="token-function">n</span><span class="token-function">t</span><span class="token-function">s</span><span class="token-function">_</span><span class="token-function">d</span><span class="token-function">o</span><span class="token-function">C</span><span class="token-function">o</span><span class="token-function">n</span><span class="token-function">s</span><span class="token-function">u</span><span class="token-function">m</span><span class="token-function">e</span><span class="token-function">_</span><span class="token-function">0</span><span class="token-punctuation">(</span><span class="token-class-name">P</span><span class="token-class-name">a</span><span class="token-class-name">i</span><span class="token-class-name">r</span><span class="token-plain"> </span><span class="token-plain">m</span><span class="token-plain">a</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-plain">l</span><span class="token-plain">e</span><span class="token-plain">m</span><span class="token-plain">e</span><span class="token-plain">n</span><span class="token-plain">t</span><span class="token-plain">s</span><span class="token-plain">_</span><span class="token-plain">e</span><span class="token-plain">x</span><span class="token-plain">p</span><span class="token-plain">r</span><span class="token-plain">_</span><span class="token-plain">0</span><span class="token-plain">_</span><span class="token-plain">0</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">b</span><span class="token-keyword">o</span><span class="token-keyword">o</span><span class="token-keyword">l</span><span class="token-keyword">e</span><span class="token-keyword">a</span><span class="token-keyword">n</span><span class="token-plain"> </span><span class="token-plain">m</span><span class="token-plain">a</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-plain">l</span><span class="token-plain">e</span><span class="token-plain">m</span><span class="token-plain">e</span><span class="token-plain">n</span><span class="token-plain">t</span><span class="token-plain">s</span><span class="token-plain">_</span><span class="token-plain">e</span><span class="token-plain">x</span><span class="token-plain">p</span><span class="token-plain">r</span><span class="token-plain">I</span><span class="token-plain">s</span><span class="token-plain">N</span><span class="token-plain">u</span><span class="token-plain">l</span><span class="token-plain">l</span><span class="token-plain">_</span><span class="token-plain">0</span><span class="token-plain">_</span><span class="token-plain">0</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">t</span><span class="token-keyword">h</span><span class="token-keyword">r</span><span class="token-keyword">o</span><span class="token-keyword">w</span><span class="token-keyword">s</span><span class="token-plain"> </span><span class="token-class-name">I</span><span class="token-class-name">O</span><span class="token-class-name">E</span><span class="token-class-name">x</span><span class="token-class-name">c</span><span class="token-class-name">e</span><span class="token-class-name">p</span><span class="token-class-name">t</span><span class="token-class-name">i</span><span class="token-class-name">o</span><span class="token-class-name">n</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-86"><span class="token-plain">        </span><span class="token-comment">// CONSUME: SerializeFromObject [assertnotnull(input[0, kotlin.Pair, true]).getFirst AS first#25, </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-87"><span class="token-plain">        </span><span class="token-comment">//      staticinvoke(class org.apache.spark.unsafe.types.UTF8String, StringType, fromString, </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-88"><span class="token-plain">        </span><span class="token-comment">//          assertnotnull(input[0, kotlin.Pair, true]).getSecond, true, false) AS second#26]</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-89"><span class="token-plain">        </span><span class="token-comment">// me.MainKt$inlined$sam$i$org_apache_spark_api_java_function_MapFunction$0@346a2799.call</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-90"><span class="token-plain">        </span><span class="token-keyword">boolean</span><span class="token-plain"> mapelements_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-91"><span class="token-plain">        </span><span class="token-class-name">Pair</span><span class="token-plain"> mapelements_value_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-92"><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-93"><span class="token-plain">            mapelements_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> mapelements_expr_0_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-94"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-95"><span class="token-plain">            mapelements_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-96"><span class="token-plain">            </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-plain">mapelements_isNull_1</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-97"><span class="token-plain">                </span><span class="token-class-name">Object</span><span class="token-plain"> mapelements_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-98"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-99"><span class="token-plain">                </span><span class="token-keyword">try</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-100"><span class="token-plain">                    mapelements_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-class-name">MapFunction</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* literal */</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-101"><span class="token-plain">                            </span><span class="token-punctuation">.</span><span class="token-function">call</span><span class="token-punctuation">(</span><span class="token-plain">mapelements_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-102"><span class="token-plain">                </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">catch</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-class-name">Exception</span><span class="token-plain"> e</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-103"><span class="token-plain">                    </span><span class="token-namespace">org</span><span class="token-punctuation">.</span><span class="token-namespace">apache</span><span class="token-punctuation">.</span><span class="token-namespace">spark</span><span class="token-punctuation">.</span><span class="token-namespace">unsafe</span><span class="token-punctuation">.</span><span class="token-class-name">Platform</span><span class="token-punctuation">.</span><span class="token-function">throwException</span><span class="token-punctuation">(</span><span class="token-plain">e</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-104"><span class="token-plain">                </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-105"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-106"><span class="token-plain">                </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">mapelements_funcResult_0 </span><span class="token-operator">!=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-107"><span class="token-plain">                    mapelements_value_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-class-name">Pair</span><span class="token-punctuation">)</span><span class="token-plain"> mapelements_funcResult_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-108"><span class="token-plain">                </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">else</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-109"><span class="token-plain">                    mapelements_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-110"><span class="token-plain">                </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-111"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-112"><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-113"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-114"><span class="token-plain">        </span><span class="token-function">serializefromobject_doConsume_0</span><span class="token-punctuation">(</span><span class="token-plain">mapelements_value_1</span><span class="token-punctuation">,</span><span class="token-plain"> mapelements_isNull_1</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-115"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-116"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-117"><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">void</span><span class="token-plain"> </span><span class="token-function">serializefromobject_doConsume_0</span><span class="token-punctuation">(</span><span class="token-class-name">Pair</span><span class="token-plain"> serializefromobject_expr_0_0</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-118"><span class="token-plain">                                                 </span><span class="token-keyword">boolean</span><span class="token-plain"> serializefromobject_exprIsNull_0_0</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">throws</span><span class="token-plain"> </span><span class="token-class-name">IOException</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-119"><span class="token-plain">        </span><span class="token-comment">// CONSUME: WholeStageCodegen (1)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-120"><span class="token-plain">        </span><span class="token-comment">// assertnotnull(input[0, kotlin.Pair, true]).getFirst</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-121"><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">serializefromobject_exprIsNull_0_0</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-122"><span class="token-plain">            </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">NullPointerException</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-class-name">String</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">2</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* errMsg */</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-123"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-124"><span class="token-plain">        </span><span class="token-keyword">boolean</span><span class="token-plain"> serializefromobject_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-125"><span class="token-plain">        </span><span class="token-keyword">int</span><span class="token-plain"> serializefromobject_value_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-operator">-</span><span class="token-number">1</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-126"><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-127"><span class="token-plain">            serializefromobject_isNull_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-128"><span class="token-plain">            </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-plain">serializefromobject_isNull_1</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-129"><span class="token-plain">                </span><span class="token-class-name">Object</span><span class="token-plain"> serializefromobject_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-130"><span class="token-plain">                serializefromobject_funcResult_0 </span><span class="token-operator">=</span><span class="token-plain"> serializefromobject_expr_0_0</span><span class="token-punctuation">.</span><span class="token-function">getFirst</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-131"><span class="token-plain">                serializefromobject_value_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-class-name">Integer</span><span class="token-punctuation">)</span><span class="token-plain"> serializefromobject_funcResult_0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-132"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-133"><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-134"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-135"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class org.apache.spark.unsafe.types.UTF8String, StringType,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-136"><span class="token-plain">        </span><span class="token-comment">// fromString, assertnotnull(input[0, kotlin.Pair, true]).getSecond, true, false)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-137"><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">serializefromobject_exprIsNull_0_0</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-138"><span class="token-plain">            </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">NullPointerException</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-class-name">String</span><span class="token-punctuation">)</span><span class="token-plain"> references</span><span class="token-punctuation">[</span><span class="token-number">3</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-comment">/* errMsg */</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-139"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-140"><span class="token-plain">        </span><span class="token-keyword">boolean</span><span class="token-plain"> serializefromobject_isNull_5 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-141"><span class="token-plain">        </span><span class="token-class-name">String</span><span class="token-plain"> serializefromobject_value_5 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-142"><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-143"><span class="token-plain">            serializefromobject_isNull_5 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-144"><span class="token-plain">            </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-plain">serializefromobject_isNull_5</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-145"><span class="token-plain">                </span><span class="token-class-name">Object</span><span class="token-plain"> serializefromobject_funcResult_1 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-146"><span class="token-plain">                serializefromobject_funcResult_1 </span><span class="token-operator">=</span><span class="token-plain"> serializefromobject_expr_0_0</span><span class="token-punctuation">.</span><span class="token-function">getSecond</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-147"><span class="token-plain">                serializefromobject_value_5 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-class-name">String</span><span class="token-punctuation">)</span><span class="token-plain"> serializefromobject_funcResult_1</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-148"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-149"><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-150"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-151"><span class="token-plain">        deserializetoobject_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> serializefromobject_value_5</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-152"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-153"><span class="token-plain">        </span><span class="token-class-name">UTF8String</span><span class="token-plain"> serializefromobject_value_4 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-154"><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-operator">!</span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-155"><span class="token-plain">            serializefromobject_value_4 </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-class-name">UTF8String</span><span class="token-punctuation">.</span><span class="token-function">fromString</span><span class="token-punctuation">(</span><span class="token-plain">deserializetoobject_mutableStateArray_0</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-156"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-157"><span class="token-plain">        deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">4</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-function">reset</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-158"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-159"><span class="token-plain">        deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">4</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-function">zeroOutNullBytes</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-160"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-161"><span class="token-plain">        deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">4</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-function">write</span><span class="token-punctuation">(</span><span class="token-number">0</span><span class="token-punctuation">,</span><span class="token-plain"> serializefromobject_value_1</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-162"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-163"><span class="token-plain">        deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">4</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-function">write</span><span class="token-punctuation">(</span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> serializefromobject_value_4</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-164"><span class="token-plain">        </span><span class="token-function">append</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-plain">deserializetoobject_mutableStateArray_2</span><span class="token-punctuation">[</span><span class="token-number">4</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-function">getRow</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-165"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-166"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Convert input to it&#x27;s contents</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">map them?</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Always writing to mutable state arrays! </span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Pair, pair is null</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// staticinvoke(class java.lang.Integer, ObjectType(class java.lang.Integer), valueOf, input[1, int, false], true, false)</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">public</span><span class="token-plain"> </span><span class="token-keyword">static</span><span class="token-plain"> </span><span class="token-keyword">void</span><span class="token-plain"> </span><span class="token-function">copyMemory</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">    </span><span class="token-class-name">Object</span><span class="token-plain"> src</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">long</span><span class="token-plain"> srcOffset</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-class-name">Object</span><span class="token-plain"> dst</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">long</span><span class="token-plain"> dstOffset</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">long</span><span class="token-plain"> length</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-comment">// Check if dstOffset is before or after srcOffset to determine if we should copy</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    </span><span class="token-comment">// forward or backwards. This is necessary in case src and dst overlap.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">    </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">dstOffset </span><span class="token-operator">&lt;</span><span class="token-plain"> srcOffset</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">        </span><span class="token-keyword">while</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">length </span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-number">0</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">            </span><span class="token-keyword">long</span><span class="token-plain"> size </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-class-name">Math</span><span class="token-punctuation">.</span><span class="token-function">min</span><span class="token-punctuation">(</span><span class="token-plain">length</span><span class="token-punctuation">,</span><span class="token-plain"> UNSAFE_COPY_THRESHOLD</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">            _UNSAFE</span><span class="token-punctuation">.</span><span class="token-function">copyMemory</span><span class="token-punctuation">(</span><span class="token-plain">src</span><span class="token-punctuation">,</span><span class="token-plain"> srcOffset</span><span class="token-punctuation">,</span><span class="token-plain"> dst</span><span class="token-punctuation">,</span><span class="token-plain"> dstOffset</span><span class="token-punctuation">,</span><span class="token-plain"> size</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">            length </span><span class="token-operator">-=</span><span class="token-plain"> size</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">            srcOffset </span><span class="token-operator">+=</span><span class="token-plain"> size</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">            dstOffset </span><span class="token-operator">+=</span><span class="token-plain"> size</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">else</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">        srcOffset </span><span class="token-operator">+=</span><span class="token-plain"> length</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">        dstOffset </span><span class="token-operator">+=</span><span class="token-plain"> length</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">        </span><span class="token-keyword">while</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">length </span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-number">0</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">        </span><span class="token-keyword">long</span><span class="token-plain"> size </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-class-name">Math</span><span class="token-punctuation">.</span><span class="token-function">min</span><span class="token-punctuation">(</span><span class="token-plain">length</span><span class="token-punctuation">,</span><span class="token-plain"> UNSAFE_COPY_THRESHOLD</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">        srcOffset </span><span class="token-operator">-=</span><span class="token-plain"> size</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">        dstOffset </span><span class="token-operator">-=</span><span class="token-plain"> size</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">        _UNSAFE</span><span class="token-punctuation">.</span><span class="token-function">copyMemory</span><span class="token-punctuation">(</span><span class="token-plain">src</span><span class="token-punctuation">,</span><span class="token-plain"> srcOffset</span><span class="token-punctuation">,</span><span class="token-plain"> dst</span><span class="token-punctuation">,</span><span class="token-plain"> dstOffset</span><span class="token-punctuation">,</span><span class="token-plain"> size</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">        length </span><span class="token-operator">-=</span><span class="token-plain"> size</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-punctuation">}</span></div></div><div></div></code></pre><h4 class="cs-title css-d84v96"><span>What is this write?</span></h4><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-comment">// Check if dstOffset is before or after srcOffset to determine if we should copy</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-punctuation">}</span></div></div><div></div></code></pre><h4 class="cs-title css-d84v96" style="opacity:1"><span style="opacity:1">What is this write?</span></h4><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">sun.misc.Unsafe O_o</span></p></div></div></div></div></div><div class="css-zv3p95"><h1 class="css-1djqpdg">Why did we stop on <code class="css-vgof0f">_UNSAFE</code>?</h1><p class="css-0">Because there is a sorting ahead</p><p style="visibility:visible" class="css-0">I don&#x27;t gonna show it to you</p><p style="visibility:visible" class="css-0">We need to understand how did we get this code</p></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-function">d</span><span class="token-function">s</span><span class="token-function">O</span><span class="token-function">f</span><span class="token-punctuation">(</span><span class="token-string">&quot;</span><span class="token-string">a</span><span class="token-string">&quot;</span><span class="token-plain"> </span><span class="token-keyword">t</span><span class="token-keyword">o</span><span class="token-plain"> </span><span class="token-number">1</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;</span><span class="token-string">b</span><span class="token-string">&quot;</span><span class="token-plain"> </span><span class="token-keyword">t</span><span class="token-keyword">o</span><span class="token-plain"> </span><span class="token-number">2</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;</span><span class="token-string">c</span><span class="token-string">&quot;</span><span class="token-plain"> </span><span class="token-keyword">t</span><span class="token-keyword">o</span><span class="token-plain"> </span><span class="token-number">3</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;</span><span class="token-string">d</span><span class="token-string">&quot;</span><span class="token-plain"> </span><span class="token-keyword">t</span><span class="token-keyword">o</span><span class="token-plain"> </span><span class="token-number">4</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;</span><span class="token-string">e</span><span class="token-string">&quot;</span><span class="token-plain"> </span><span class="token-keyword">t</span><span class="token-keyword">o</span><span class="token-plain"> </span><span class="token-number">5</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;</span><span class="token-string">f</span><span class="token-string">&quot;</span><span class="token-plain"> </span><span class="token-keyword">t</span><span class="token-keyword">o</span><span class="token-plain"> </span><span class="token-number">6</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain" style="opacity:1">    </span><span class="token-string" style="opacity:1">&quot;g&quot;</span><span class="token-plain" style="opacity:1"> </span><span class="token-keyword" style="opacity:1">to</span><span class="token-plain" style="opacity:1"> </span><span class="token-number" style="opacity:1">7</span><span class="token-punctuation" style="opacity:1">,</span><span class="token-plain" style="opacity:1"> </span><span class="token-string" style="opacity:1">&quot;h&quot;</span><span class="token-plain" style="opacity:1"> </span><span class="token-keyword" style="opacity:1">to</span><span class="token-plain" style="opacity:1"> </span><span class="token-number" style="opacity:1">8</span><span class="token-punctuation" style="opacity:1">,</span><span class="token-plain" style="opacity:1"> </span><span class="token-string" style="opacity:1">&quot;i&quot;</span><span class="token-plain" style="opacity:1"> </span><span class="token-keyword" style="opacity:1">to</span><span class="token-plain" style="opacity:1"> </span><span class="token-number" style="opacity:1">9</span><span class="token-punctuation" style="opacity:1">,</span><span class="token-plain" style="opacity:1"> </span><span class="token-string" style="opacity:1">&quot;j&quot;</span><span class="token-plain" style="opacity:1"> </span><span class="token-keyword" style="opacity:1">to</span><span class="token-plain" style="opacity:1"> </span><span class="token-number" style="opacity:1">10</span><span class="token-punctuation" style="opacity:1">,</span><span class="token-plain" style="opacity:1"> </span><span class="token-string" style="opacity:1">&quot;k&quot;</span><span class="token-plain" style="opacity:1"> </span><span class="token-keyword" style="opacity:1">to</span><span class="token-plain" style="opacity:1"> </span><span class="token-number" style="opacity:1">11</span><span class="token-punctuation" style="opacity:1">,</span><span class="token-plain" style="opacity:1"> </span><span class="token-string" style="opacity:1">&quot;l&quot;</span><span class="token-plain" style="opacity:1"> </span><span class="token-keyword" style="opacity:1">to</span><span class="token-plain" style="opacity:1"> </span><span class="token-number" style="opacity:1">12</span><span class="token-punctuation" style="opacity:1">,</span><span class="token-plain" style="opacity:1"> </span><span class="token-string" style="opacity:1">&quot;m&quot;</span><span class="token-plain" style="opacity:1"> </span><span class="token-keyword" style="opacity:1">to</span><span class="token-plain" style="opacity:1"> </span><span class="token-number" style="opacity:1">13</span><span class="token-punctuation" style="opacity:1">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-punctuation">.</span><span class="token-function">map</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">second </span><span class="token-operator">-</span><span class="token-plain"> </span><span class="token-number">1</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">first </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    </span><span class="token-punctuation">.</span><span class="token-function">sort</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-function">arrayOf</span><span class="token-punctuation">(</span><span class="token-plain">it</span><span class="token-punctuation">.</span><span class="token-function">col</span><span class="token-punctuation">(</span><span class="token-string">&quot;first&quot;</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">desc</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">    </span><span class="token-punctuation">.</span><span class="token-function">debugCodegen</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">    </span><span class="token-punctuation">.</span><span class="token-function">show</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain" style="opacity:1">    </span><span class="token-string" style="opacity:1">&quot;g&quot;</span><span class="token-plain" style="opacity:1"> </span><span class="token-keyword" style="opacity:1">to</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-number" style="opacity:0.3">7</span><span class="token-punctuation" style="opacity:0.3">,</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-string" style="opacity:0.3">&quot;h&quot;</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-keyword" style="opacity:0.3">to</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-number" style="opacity:0.3">8</span><span class="token-punctuation" style="opacity:0.3">,</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-string" style="opacity:0.3">&quot;i&quot;</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-keyword" style="opacity:0.3">to</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-number" style="opacity:0.3">9</span><span class="token-punctuation" style="opacity:0.3">,</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-string" style="opacity:0.3">&quot;j&quot;</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-keyword" style="opacity:0.3">to</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-number" style="opacity:0.3">10</span><span class="token-punctuation" style="opacity:0.3">,</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-string" style="opacity:0.3">&quot;k&quot;</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-keyword" style="opacity:0.3">to</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-number" style="opacity:0.3">11</span><span class="token-punctuation" style="opacity:0.3">,</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-string" style="opacity:0.3">&quot;l&quot;</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-keyword" style="opacity:0.3">to</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-number" style="opacity:0.3">12</span><span class="token-punctuation" style="opacity:0.3">,</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-string" style="opacity:0.3">&quot;m&quot;</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-keyword" style="opacity:0.3">to</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-number" style="opacity:0.3">13</span><span class="token-punctuation" style="opacity:0.3">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">    </span><span class="token-punctuation">.</span><span class="token-function">debugCodegen</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">inline</span><span class="token-plain"> </span><span class="token-keyword">fun</span><span class="token-plain"> </span><span class="token-operator">&lt;</span><span class="token-keyword">reified</span><span class="token-plain"> T</span><span class="token-operator">&gt;</span><span class="token-plain"> SparkSession</span><span class="token-punctuation">.</span><span class="token-function">dsOf</span><span class="token-punctuation">(</span><span class="token-keyword">vararg</span><span class="token-plain"> t</span><span class="token-operator">:</span><span class="token-plain"> T</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> Dataset</span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-operator">=</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain" style="opacity:1"> </span><span class="token-plain" style="opacity:1"> </span><span class="token-plain" style="opacity:1"> </span><span class="token-plain" style="opacity:1"> </span><span class="token-function" style="opacity:1">c</span><span class="token-function" style="opacity:1">r</span><span class="token-function" style="opacity:1">e</span><span class="token-function" style="opacity:1">a</span><span class="token-function" style="opacity:1">t</span><span class="token-function" style="opacity:1">e</span><span class="token-function" style="opacity:1">D</span><span class="token-function" style="opacity:1">a</span><span class="token-function" style="opacity:1">t</span><span class="token-function" style="opacity:1">a</span><span class="token-function" style="opacity:1">s</span><span class="token-function" style="opacity:1">e</span><span class="token-function" style="opacity:1">t</span><span class="token-punctuation" style="opacity:1">(</span><span class="token-function" style="opacity:1">l</span><span class="token-function" style="opacity:1">i</span><span class="token-function" style="opacity:1">s</span><span class="token-function" style="opacity:1">t</span><span class="token-function" style="opacity:1">O</span><span class="token-function" style="opacity:1">f</span><span class="token-punctuation" style="opacity:1">(</span><span class="token-operator" style="opacity:1">*</span><span class="token-plain" style="opacity:1">t</span><span class="token-punctuation" style="opacity:1">)</span><span class="token-punctuation" style="opacity:1">,</span><span class="token-plain" style="opacity:1"> </span><span class="token-plain" style="opacity:1">e</span><span class="token-plain" style="opacity:1">n</span><span class="token-plain" style="opacity:1">c</span><span class="token-plain" style="opacity:1">o</span><span class="token-plain" style="opacity:1">d</span><span class="token-plain" style="opacity:1">e</span><span class="token-plain" style="opacity:1">r</span><span class="token-operator" style="opacity:1">&lt;</span><span class="token-plain" style="opacity:1">T</span><span class="token-operator" style="opacity:1">&gt;</span><span class="token-punctuation" style="opacity:1">(</span><span class="token-punctuation" style="opacity:1">)</span><span class="token-punctuation" style="opacity:1">)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">inline</span><span class="token-plain"> </span><span class="token-keyword">fun</span><span class="token-plain"> </span><span class="token-operator">&lt;</span><span class="token-keyword">reified</span><span class="token-plain"> T</span><span class="token-operator">&gt;</span><span class="token-plain"> SparkSession</span><span class="token-punctuation">.</span><span class="token-function">dsOf</span><span class="token-punctuation">(</span><span class="token-keyword">vararg</span><span class="token-plain"> t</span><span class="token-operator">:</span><span class="token-plain"> T</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> Dataset</span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-operator">=</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3"> </span><span class="token-function" style="opacity:0.3">c</span><span class="token-function" style="opacity:0.3">r</span><span class="token-function" style="opacity:0.3">e</span><span class="token-function" style="opacity:0.3">a</span><span class="token-function" style="opacity:0.3">t</span><span class="token-function" style="opacity:0.3">e</span><span class="token-function" style="opacity:0.3">D</span><span class="token-function" style="opacity:0.3">a</span><span class="token-function" style="opacity:0.3">t</span><span class="token-function" style="opacity:0.3">a</span><span class="token-function" style="opacity:0.3">s</span><span class="token-function" style="opacity:0.3">e</span><span class="token-function" style="opacity:0.3">t</span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-function" style="opacity:0.3">l</span><span class="token-function" style="opacity:0.3">i</span><span class="token-function" style="opacity:0.3">s</span><span class="token-function" style="opacity:0.3">t</span><span class="token-function" style="opacity:0.3">O</span><span class="token-function" style="opacity:0.3">f</span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-operator" style="opacity:0.3">*</span><span class="token-plain" style="opacity:0.3">t</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-punctuation" style="opacity:0.3">,</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:1">e</span><span class="token-plain" style="opacity:1">n</span><span class="token-plain" style="opacity:1">c</span><span class="token-plain" style="opacity:1">o</span><span class="token-plain" style="opacity:1">d</span><span class="token-plain" style="opacity:1">e</span><span class="token-plain" style="opacity:1">r</span><span class="token-operator" style="opacity:1">&lt;</span><span class="token-plain" style="opacity:1">T</span><span class="token-operator" style="opacity:1">&gt;</span><span class="token-punctuation" style="opacity:1">(</span><span class="token-punctuation" style="opacity:1">)</span><span class="token-punctuation" style="opacity:0.3">)</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-annotation">@OptIn</span><span class="token-punctuation">(</span><span class="token-plain">ExperimentalStdlibApi</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword" style="opacity:1">i</span><span class="token-keyword" style="opacity:1">n</span><span class="token-keyword" style="opacity:1">l</span><span class="token-keyword" style="opacity:1">i</span><span class="token-keyword" style="opacity:1">n</span><span class="token-keyword" style="opacity:1">e</span><span class="token-plain" style="opacity:1"> </span><span class="token-keyword" style="opacity:1">f</span><span class="token-keyword" style="opacity:1">u</span><span class="token-keyword" style="opacity:1">n</span><span class="token-plain" style="opacity:1"> </span><span class="token-operator" style="opacity:1">&lt;</span><span class="token-keyword" style="opacity:1">r</span><span class="token-keyword" style="opacity:1">e</span><span class="token-keyword" style="opacity:1">i</span><span class="token-keyword" style="opacity:1">f</span><span class="token-keyword" style="opacity:1">i</span><span class="token-keyword" style="opacity:1">e</span><span class="token-keyword" style="opacity:1">d</span><span class="token-plain" style="opacity:1"> </span><span class="token-plain" style="opacity:1">T</span><span class="token-operator" style="opacity:1">&gt;</span><span class="token-plain" style="opacity:1"> </span><span class="token-function" style="opacity:1">e</span><span class="token-function" style="opacity:1">n</span><span class="token-function" style="opacity:1">c</span><span class="token-function" style="opacity:1">o</span><span class="token-function" style="opacity:1">d</span><span class="token-function" style="opacity:1">e</span><span class="token-function" style="opacity:1">r</span><span class="token-punctuation" style="opacity:1">(</span><span class="token-punctuation" style="opacity:1">)</span><span class="token-operator" style="opacity:1">:</span><span class="token-plain" style="opacity:1"> </span><span class="token-plain" style="opacity:1">E</span><span class="token-plain" style="opacity:1">n</span><span class="token-plain" style="opacity:1">c</span><span class="token-plain" style="opacity:1">o</span><span class="token-plain" style="opacity:1">d</span><span class="token-plain" style="opacity:1">e</span><span class="token-plain" style="opacity:1">r</span><span class="token-operator" style="opacity:1">&lt;</span><span class="token-plain" style="opacity:1">T</span><span class="token-operator" style="opacity:1">&gt;</span><span class="token-plain" style="opacity:1"> </span><span class="token-operator" style="opacity:1">=</span><span class="token-plain" style="opacity:1"> </span><span class="token-function" style="opacity:1">g</span><span class="token-function" style="opacity:1">e</span><span class="token-function" style="opacity:1">n</span><span class="token-function" style="opacity:1">e</span><span class="token-function" style="opacity:1">r</span><span class="token-function" style="opacity:1">a</span><span class="token-function" style="opacity:1">t</span><span class="token-function" style="opacity:1">e</span><span class="token-function" style="opacity:1">E</span><span class="token-function" style="opacity:1">n</span><span class="token-function" style="opacity:1">c</span><span class="token-function" style="opacity:1">o</span><span class="token-function" style="opacity:1">d</span><span class="token-function" style="opacity:1">e</span><span class="token-function" style="opacity:1">r</span><span class="token-punctuation" style="opacity:1">(</span><span class="token-plain" style="opacity:1">t</span><span class="token-plain" style="opacity:1">y</span><span class="token-plain" style="opacity:1">p</span><span class="token-plain" style="opacity:1">e</span><span class="token-plain" style="opacity:1">O</span><span class="token-plain" style="opacity:1">f</span><span class="token-operator" style="opacity:1">&lt;</span><span class="token-plain" style="opacity:1">T</span><span class="token-operator" style="opacity:1">&gt;</span><span class="token-punctuation" style="opacity:1">(</span><span class="token-punctuation" style="opacity:1">)</span><span class="token-punctuation" style="opacity:1">,</span><span class="token-plain" style="opacity:1"> </span><span class="token-plain" style="opacity:1">T</span><span class="token-operator" style="opacity:1">:</span><span class="token-operator" style="opacity:1">:</span><span class="token-keyword" style="opacity:1">c</span><span class="token-keyword" style="opacity:1">l</span><span class="token-keyword" style="opacity:1">a</span><span class="token-keyword" style="opacity:1">s</span><span class="token-keyword" style="opacity:1">s</span><span class="token-punctuation" style="opacity:1">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword" style="opacity:0.3">i</span><span class="token-keyword" style="opacity:0.3">n</span><span class="token-keyword" style="opacity:0.3">l</span><span class="token-keyword" style="opacity:0.3">i</span><span class="token-keyword" style="opacity:0.3">n</span><span class="token-keyword" style="opacity:0.3">e</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-keyword" style="opacity:0.3">f</span><span class="token-keyword" style="opacity:0.3">u</span><span class="token-keyword" style="opacity:0.3">n</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:0.3">&lt;</span><span class="token-keyword" style="opacity:0.3">r</span><span class="token-keyword" style="opacity:0.3">e</span><span class="token-keyword" style="opacity:0.3">i</span><span class="token-keyword" style="opacity:0.3">f</span><span class="token-keyword" style="opacity:0.3">i</span><span class="token-keyword" style="opacity:0.3">e</span><span class="token-keyword" style="opacity:0.3">d</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">T</span><span class="token-operator" style="opacity:0.3">&gt;</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-function" style="opacity:0.3">e</span><span class="token-function" style="opacity:0.3">n</span><span class="token-function" style="opacity:0.3">c</span><span class="token-function" style="opacity:0.3">o</span><span class="token-function" style="opacity:0.3">d</span><span class="token-function" style="opacity:0.3">e</span><span class="token-function" style="opacity:0.3">r</span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-operator" style="opacity:0.3">:</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">E</span><span class="token-plain" style="opacity:0.3">n</span><span class="token-plain" style="opacity:0.3">c</span><span class="token-plain" style="opacity:0.3">o</span><span class="token-plain" style="opacity:0.3">d</span><span class="token-plain" style="opacity:0.3">e</span><span class="token-plain" style="opacity:0.3">r</span><span class="token-operator" style="opacity:0.3">&lt;</span><span class="token-plain" style="opacity:0.3">T</span><span class="token-operator" style="opacity:0.3">&gt;</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:0.3">=</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-function" style="opacity:0.3">g</span><span class="token-function" style="opacity:0.3">e</span><span class="token-function" style="opacity:0.3">n</span><span class="token-function" style="opacity:0.3">e</span><span class="token-function" style="opacity:0.3">r</span><span class="token-function" style="opacity:0.3">a</span><span class="token-function" style="opacity:0.3">t</span><span class="token-function" style="opacity:0.3">e</span><span class="token-function" style="opacity:0.3">E</span><span class="token-function" style="opacity:0.3">n</span><span class="token-function" style="opacity:0.3">c</span><span class="token-function" style="opacity:0.3">o</span><span class="token-function" style="opacity:0.3">d</span><span class="token-function" style="opacity:0.3">e</span><span class="token-function" style="opacity:0.3">r</span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-plain" style="opacity:1">t</span><span class="token-plain" style="opacity:1">y</span><span class="token-plain" style="opacity:1">p</span><span class="token-plain" style="opacity:1">e</span><span class="token-plain" style="opacity:1">O</span><span class="token-plain" style="opacity:1">f</span><span class="token-operator" style="opacity:1">&lt;</span><span class="token-plain" style="opacity:1">T</span><span class="token-operator" style="opacity:1">&gt;</span><span class="token-punctuation" style="opacity:1">(</span><span class="token-punctuation" style="opacity:1">)</span><span class="token-punctuation" style="opacity:0.3">,</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">T</span><span class="token-operator" style="opacity:0.3">:</span><span class="token-operator" style="opacity:0.3">:</span><span class="token-keyword" style="opacity:0.3">c</span><span class="token-keyword" style="opacity:0.3">l</span><span class="token-keyword" style="opacity:0.3">a</span><span class="token-keyword" style="opacity:0.3">s</span><span class="token-keyword" style="opacity:0.3">s</span><span class="token-punctuation" style="opacity:0.3">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Jackson&#x27;s ParametryzedTypeReferense in compile-time</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword" style="opacity:0.3">i</span><span class="token-keyword" style="opacity:0.3">n</span><span class="token-keyword" style="opacity:0.3">l</span><span class="token-keyword" style="opacity:0.3">i</span><span class="token-keyword" style="opacity:0.3">n</span><span class="token-keyword" style="opacity:0.3">e</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-keyword" style="opacity:0.3">f</span><span class="token-keyword" style="opacity:0.3">u</span><span class="token-keyword" style="opacity:0.3">n</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:0.3">&lt;</span><span class="token-keyword" style="opacity:0.3">r</span><span class="token-keyword" style="opacity:0.3">e</span><span class="token-keyword" style="opacity:0.3">i</span><span class="token-keyword" style="opacity:0.3">f</span><span class="token-keyword" style="opacity:0.3">i</span><span class="token-keyword" style="opacity:0.3">e</span><span class="token-keyword" style="opacity:0.3">d</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">T</span><span class="token-operator" style="opacity:0.3">&gt;</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-function" style="opacity:0.3">e</span><span class="token-function" style="opacity:0.3">n</span><span class="token-function" style="opacity:0.3">c</span><span class="token-function" style="opacity:0.3">o</span><span class="token-function" style="opacity:0.3">d</span><span class="token-function" style="opacity:0.3">e</span><span class="token-function" style="opacity:0.3">r</span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-operator" style="opacity:0.3">:</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">E</span><span class="token-plain" style="opacity:0.3">n</span><span class="token-plain" style="opacity:0.3">c</span><span class="token-plain" style="opacity:0.3">o</span><span class="token-plain" style="opacity:0.3">d</span><span class="token-plain" style="opacity:0.3">e</span><span class="token-plain" style="opacity:0.3">r</span><span class="token-operator" style="opacity:0.3">&lt;</span><span class="token-plain" style="opacity:0.3">T</span><span class="token-operator" style="opacity:0.3">&gt;</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:0.3">=</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-function" style="opacity:1">g</span><span class="token-function" style="opacity:1">e</span><span class="token-function" style="opacity:1">n</span><span class="token-function" style="opacity:1">e</span><span class="token-function" style="opacity:1">r</span><span class="token-function" style="opacity:1">a</span><span class="token-function" style="opacity:1">t</span><span class="token-function" style="opacity:1">e</span><span class="token-function" style="opacity:1">E</span><span class="token-function" style="opacity:1">n</span><span class="token-function" style="opacity:1">c</span><span class="token-function" style="opacity:1">o</span><span class="token-function" style="opacity:1">d</span><span class="token-function" style="opacity:1">e</span><span class="token-function" style="opacity:1">r</span><span class="token-punctuation" style="opacity:1">(</span><span class="token-plain" style="opacity:1">t</span><span class="token-plain" style="opacity:1">y</span><span class="token-plain" style="opacity:1">p</span><span class="token-plain" style="opacity:1">e</span><span class="token-plain" style="opacity:1">O</span><span class="token-plain" style="opacity:1">f</span><span class="token-operator" style="opacity:1">&lt;</span><span class="token-plain" style="opacity:1">T</span><span class="token-operator" style="opacity:1">&gt;</span><span class="token-punctuation" style="opacity:1">(</span><span class="token-punctuation" style="opacity:1">)</span><span class="token-punctuation" style="opacity:1">,</span><span class="token-plain" style="opacity:1"> </span><span class="token-plain" style="opacity:1">T</span><span class="token-operator" style="opacity:1">:</span><span class="token-operator" style="opacity:1">:</span><span class="token-keyword" style="opacity:1">c</span><span class="token-keyword" style="opacity:1">l</span><span class="token-keyword" style="opacity:1">a</span><span class="token-keyword" style="opacity:1">s</span><span class="token-keyword" style="opacity:1">s</span><span class="token-punctuation" style="opacity:1">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">encoder → generateEncoder</span></p></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">fun</span><span class="token-plain"> </span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-function">generateEncoder</span><span class="token-punctuation">(</span><span class="token-plain">type</span><span class="token-operator">:</span><span class="token-plain"> KType</span><span class="token-punctuation">,</span><span class="token-plain"> cls</span><span class="token-operator">:</span><span class="token-plain"> KClass</span><span class="token-operator">&lt;</span><span class="token-operator">*</span><span class="token-operator">&gt;</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> Encoder</span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">    </span><span class="token-annotation">@Suppress</span><span class="token-punctuation">(</span><span class="token-string">&quot;UNCHECKED_CAST&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-keyword">when</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-function">i</span><span class="token-function">s</span><span class="token-function">S</span><span class="token-function">u</span><span class="token-function">p</span><span class="token-function">p</span><span class="token-function">o</span><span class="token-function">r</span><span class="token-function">t</span><span class="token-function">e</span><span class="token-function">d</span><span class="token-function">C</span><span class="token-function">l</span><span class="token-function">a</span><span class="token-function">s</span><span class="token-function">s</span><span class="token-punctuation">(</span><span class="token-plain">c</span><span class="token-plain">l</span><span class="token-plain">s</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-function">k</span><span class="token-function">o</span><span class="token-function">t</span><span class="token-function">l</span><span class="token-function">i</span><span class="token-function">n</span><span class="token-function">C</span><span class="token-function">l</span><span class="token-function">a</span><span class="token-function">s</span><span class="token-function">s</span><span class="token-function">E</span><span class="token-function">n</span><span class="token-function">c</span><span class="token-function">o</span><span class="token-function">d</span><span class="token-function">e</span><span class="token-function">r</span><span class="token-punctuation">(</span><span class="token-function">m</span><span class="token-function">e</span><span class="token-function">m</span><span class="token-function">o</span><span class="token-function">i</span><span class="token-function">z</span><span class="token-function">e</span><span class="token-function">d</span><span class="token-function">S</span><span class="token-function">c</span><span class="token-function">h</span><span class="token-function">e</span><span class="token-function">m</span><span class="token-function">a</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-plain">y</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-plain">c</span><span class="token-plain">l</span><span class="token-plain">s</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">        </span><span class="token-keyword">else</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> ENCODERS</span><span class="token-punctuation">[</span><span class="token-plain">cls</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-keyword">as</span><span class="token-operator">?</span><span class="token-plain"> Encoder</span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-operator">&gt;</span><span class="token-operator">?</span><span class="token-plain"> </span><span class="token-operator">?:</span><span class="token-plain"> </span><span class="token-function">bean</span><span class="token-punctuation">(</span><span class="token-plain">cls</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">as</span><span class="token-plain"> Encoder</span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-function">i</span><span class="token-function">s</span><span class="token-function">S</span><span class="token-function">u</span><span class="token-function">p</span><span class="token-function">p</span><span class="token-function">o</span><span class="token-function">r</span><span class="token-function">t</span><span class="token-function">e</span><span class="token-function">d</span><span class="token-function">C</span><span class="token-function">l</span><span class="token-function">a</span><span class="token-function">s</span><span class="token-function">s</span><span class="token-punctuation">(</span><span class="token-plain">c</span><span class="token-plain">l</span><span class="token-plain">s</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-function">k</span><span class="token-function">o</span><span class="token-function">t</span><span class="token-function">l</span><span class="token-function">i</span><span class="token-function">n</span><span class="token-function">C</span><span class="token-function">l</span><span class="token-function">a</span><span class="token-function">s</span><span class="token-function">s</span><span class="token-function">E</span><span class="token-function">n</span><span class="token-function">c</span><span class="token-function">o</span><span class="token-function">d</span><span class="token-function">e</span><span class="token-function">r</span><span class="token-punctuation">(</span><span class="token-function">m</span><span class="token-function">e</span><span class="token-function">m</span><span class="token-function">o</span><span class="token-function">i</span><span class="token-function">z</span><span class="token-function">e</span><span class="token-function">d</span><span class="token-function">S</span><span class="token-function">c</span><span class="token-function">h</span><span class="token-function">e</span><span class="token-function">m</span><span class="token-function">a</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-plain">y</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-plain">c</span><span class="token-plain">l</span><span class="token-plain">s</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">c</span><span class="token-keyword">l</span><span class="token-keyword">a</span><span class="token-keyword">s</span><span class="token-keyword">s</span><span class="token-plain"> </span><span class="token-plain">M</span><span class="token-plain">e</span><span class="token-plain">m</span><span class="token-plain">o</span><span class="token-plain">i</span><span class="token-plain">z</span><span class="token-plain">e</span><span class="token-plain">1</span><span class="token-operator">&lt;</span><span class="token-keyword">i</span><span class="token-keyword">n</span><span class="token-plain"> </span><span class="token-plain">T</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">o</span><span class="token-keyword">u</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-plain">R</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-keyword">v</span><span class="token-keyword">a</span><span class="token-keyword">l</span><span class="token-plain"> </span><span class="token-plain">f</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">T</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-plain">R</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">T</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-plain">R</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">    </span><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">val</span><span class="token-plain"> values </span><span class="token-operator">=</span><span class="token-plain"> ConcurrentHashMap</span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-punctuation">,</span><span class="token-plain"> R</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-keyword">o</span><span class="token-keyword">v</span><span class="token-keyword">e</span><span class="token-keyword">r</span><span class="token-keyword">r</span><span class="token-keyword">i</span><span class="token-keyword">d</span><span class="token-keyword">e</span><span class="token-plain"> </span><span class="token-keyword">f</span><span class="token-keyword">u</span><span class="token-keyword">n</span><span class="token-plain"> </span><span class="token-function">i</span><span class="token-function">n</span><span class="token-function">v</span><span class="token-function">o</span><span class="token-function">k</span><span class="token-function">e</span><span class="token-punctuation">(</span><span class="token-plain">x</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-plain">T</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain">v</span><span class="token-plain">a</span><span class="token-plain">l</span><span class="token-plain">u</span><span class="token-plain">e</span><span class="token-plain">s</span><span class="token-punctuation">.</span><span class="token-function">g</span><span class="token-function">e</span><span class="token-function">t</span><span class="token-function">O</span><span class="token-function">r</span><span class="token-function">P</span><span class="token-function">u</span><span class="token-function">t</span><span class="token-punctuation">(</span><span class="token-plain">x</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-function">f</span><span class="token-punctuation">(</span><span class="token-plain">x</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">fun</span><span class="token-plain"> </span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-punctuation">,</span><span class="token-plain"> R</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-plain">T</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> R</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">memoize</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">T</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> R </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">Memoize1</span><span class="token-punctuation">(</span><span class="token-keyword">this</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-keyword">p</span><span class="token-keyword">r</span><span class="token-keyword">i</span><span class="token-keyword">v</span><span class="token-keyword">a</span><span class="token-keyword">t</span><span class="token-keyword">e</span><span class="token-plain"> </span><span class="token-keyword">v</span><span class="token-keyword">a</span><span class="token-keyword">l</span><span class="token-plain"> </span><span class="token-plain">m</span><span class="token-plain">e</span><span class="token-plain">m</span><span class="token-plain">o</span><span class="token-plain">i</span><span class="token-plain">z</span><span class="token-plain">e</span><span class="token-plain">d</span><span class="token-plain">S</span><span class="token-plain">c</span><span class="token-plain">h</span><span class="token-plain">e</span><span class="token-plain">m</span><span class="token-plain">a</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-plain">x</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-plain">K</span><span class="token-plain">T</span><span class="token-plain">y</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-plain"> </span><span class="token-operator">-</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-function">s</span><span class="token-function">c</span><span class="token-function">h</span><span class="token-function">e</span><span class="token-function">m</span><span class="token-function">a</span><span class="token-punctuation">(</span><span class="token-plain">x</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-punctuation">.</span><span class="token-function">m</span><span class="token-function">e</span><span class="token-function">m</span><span class="token-function">o</span><span class="token-function">i</span><span class="token-function">z</span><span class="token-function">e</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><h4 class="cs-title css-d84v96"><span>Memoisation on your knee</span></h4><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">fun</span><span class="token-plain"> </span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-punctuation">,</span><span class="token-plain"> R</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-plain">T</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> R</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">memoize</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">T</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> R </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">Memoize1</span><span class="token-punctuation">(</span><span class="token-keyword">this</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><h4 class="cs-title css-d84v96"><span style="opacity:1">Memoisation on your knee</span></h4><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">I was tald it&#x27;s complex, so let&#x27;s dive into it</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-keyword" style="opacity:1">private</span><span class="token-plain" style="opacity:1"> </span><span class="token-keyword" style="opacity:1">fun</span><span class="token-plain" style="opacity:1"> </span><span class="token-operator" style="opacity:1">&lt;</span><span class="token-plain" style="opacity:1">T</span><span class="token-punctuation" style="opacity:1">,</span><span class="token-plain" style="opacity:1"> R</span><span class="token-operator" style="opacity:1">&gt;</span><span class="token-plain" style="opacity:1"> </span><span class="token-punctuation" style="opacity:1">(</span><span class="token-punctuation" style="opacity:1">(</span><span class="token-plain" style="opacity:1">T</span><span class="token-punctuation" style="opacity:1">)</span><span class="token-plain" style="opacity:1"> </span><span class="token-operator" style="opacity:1">-&gt;</span><span class="token-plain" style="opacity:1"> R</span><span class="token-punctuation" style="opacity:1">)</span><span class="token-punctuation" style="opacity:1">.</span><span class="token-function" style="opacity:1">memoize</span><span class="token-punctuation" style="opacity:1">(</span><span class="token-punctuation" style="opacity:1">)</span><span class="token-operator" style="opacity:1">:</span><span class="token-plain" style="opacity:1"> </span><span class="token-punctuation" style="opacity:1">(</span><span class="token-plain" style="opacity:1">T</span><span class="token-punctuation" style="opacity:1">)</span><span class="token-plain" style="opacity:1"> </span><span class="token-operator" style="opacity:1">-&gt;</span><span class="token-plain" style="opacity:1"> R </span><span class="token-operator" style="opacity:1">=</span><span class="token-plain" style="opacity:1"> </span><span class="token-function" style="opacity:1">Memoize1</span><span class="token-punctuation" style="opacity:1">(</span><span class="token-keyword" style="opacity:1">this</span><span class="token-punctuation" style="opacity:1">)</span></div></div><div></div></code></pre><h4 class="cs-title css-d84v96"><span>Cache</span></h4><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-keyword" style="opacity:0.3">private</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-keyword" style="opacity:0.3">fun</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:0.3">&lt;</span><span class="token-plain" style="opacity:0.3">T</span><span class="token-punctuation" style="opacity:0.3">,</span><span class="token-plain" style="opacity:0.3"> R</span><span class="token-operator" style="opacity:0.3">&gt;</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-plain" style="opacity:0.3">T</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:1">-&gt;</span><span class="token-plain" style="opacity:1"> R</span><span class="token-punctuation" style="opacity:1">)</span><span class="token-punctuation" style="opacity:1">.</span><span class="token-function" style="opacity:1">memoize</span><span class="token-punctuation" style="opacity:1">(</span><span class="token-punctuation" style="opacity:1">)</span><span class="token-operator" style="opacity:1">:</span><span class="token-plain" style="opacity:1"> </span><span class="token-punctuation" style="opacity:1">(</span><span class="token-plain" style="opacity:1">T</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:0.3">-&gt;</span><span class="token-plain" style="opacity:0.3"> R </span><span class="token-operator" style="opacity:0.3">=</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-function" style="opacity:0.3">Memoize1</span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-keyword" style="opacity:0.3">this</span><span class="token-punctuation" style="opacity:0.3">)</span></div></div><div></div></code></pre><h4 class="cs-title css-d84v96" style="opacity:1"><span style="opacity:1">Cache</span></h4><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Java PECS → Kotlin PICO</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-keyword" style="opacity:0.3">private</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-keyword" style="opacity:0.3">fun</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:0.3">&lt;</span><span class="token-plain" style="opacity:0.3">T</span><span class="token-punctuation" style="opacity:0.3">,</span><span class="token-plain" style="opacity:0.3"> R</span><span class="token-operator" style="opacity:0.3">&gt;</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-plain" style="opacity:0.3">T</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:0.3">-&gt;</span><span class="token-plain" style="opacity:0.3"> R</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-punctuation" style="opacity:0.3">.</span><span class="token-function" style="opacity:0.3">memoize</span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-operator" style="opacity:0.3">:</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-plain" style="opacity:0.3">T</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:0.3">-&gt;</span><span class="token-plain" style="opacity:0.3"> R </span><span class="token-operator" style="opacity:0.3">=</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-function" style="opacity:0.3">Memoize1</span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-keyword" style="opacity:0.3">this</span><span class="token-punctuation" style="opacity:0.3">)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-keyword" style="opacity:0.3">private</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-keyword" style="opacity:0.3">fun</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:0.3">&lt;</span><span class="token-plain" style="opacity:0.3">T</span><span class="token-punctuation" style="opacity:0.3">,</span><span class="token-plain" style="opacity:0.3"> R</span><span class="token-operator" style="opacity:0.3">&gt;</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-plain" style="opacity:0.3">T</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:0.3">-&gt;</span><span class="token-plain" style="opacity:0.3"> R</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-punctuation" style="opacity:0.3">.</span><span class="token-function" style="opacity:0.3">memoize</span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-operator" style="opacity:0.3">:</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-plain" style="opacity:0.3">T</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:1">-&gt;</span><span class="token-plain" style="opacity:1"> R </span><span class="token-operator" style="opacity:1">=</span><span class="token-plain" style="opacity:1"> </span><span class="token-function" style="opacity:1">Memoize1</span><span class="token-punctuation" style="opacity:1">(</span><span class="token-keyword" style="opacity:1">this</span><span class="token-punctuation" style="opacity:1">)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">fun</span><span class="token-plain"> </span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-punctuation">,</span><span class="token-plain"> R</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-plain">T</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> R</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">memoize</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">T</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> R </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">Memoize1</span><span class="token-punctuation">(</span><span class="token-keyword">this</span><span class="token-punctuation">)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">fun</span><span class="token-plain"> </span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-punctuation">,</span><span class="token-plain"> R</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-plain">T</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> R</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">memoize</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">T</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> R </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">Memoize1</span><span class="token-punctuation">(</span><span class="token-keyword">this</span><span class="token-punctuation">)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">fun</span><span class="token-plain"> </span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-punctuation">,</span><span class="token-plain"> R</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-plain">T</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> R</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">memoize</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">T</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> R </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">Memoize1</span><span class="token-punctuation">(</span><span class="token-keyword">this</span><span class="token-punctuation">)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-keyword" style="opacity:0.3">private</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-keyword" style="opacity:0.3">fun</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:0.3">&lt;</span><span class="token-plain" style="opacity:0.3">T</span><span class="token-punctuation" style="opacity:0.3">,</span><span class="token-plain" style="opacity:0.3"> R</span><span class="token-operator" style="opacity:0.3">&gt;</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-plain" style="opacity:0.3">T</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:0.3">-&gt;</span><span class="token-plain" style="opacity:0.3"> R</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-punctuation" style="opacity:0.3">.</span><span class="token-function" style="opacity:0.3">memoize</span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-operator" style="opacity:0.3">:</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-plain" style="opacity:0.3">T</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:0.3">-&gt;</span><span class="token-plain" style="opacity:0.3"> R </span><span class="token-operator" style="opacity:0.3">=</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-function" style="opacity:0.3">Memoize1</span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-keyword" style="opacity:0.3">this</span><span class="token-punctuation" style="opacity:0.3">)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-keyword" style="opacity:0.3">private</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-keyword" style="opacity:0.3">fun</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:0.3">&lt;</span><span class="token-plain" style="opacity:0.3">T</span><span class="token-punctuation" style="opacity:0.3">,</span><span class="token-plain" style="opacity:0.3"> R</span><span class="token-operator" style="opacity:0.3">&gt;</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-plain" style="opacity:0.3">T</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:0.3">-&gt;</span><span class="token-plain" style="opacity:0.3"> R</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-punctuation" style="opacity:0.3">.</span><span class="token-function" style="opacity:0.3">memoize</span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-operator" style="opacity:0.3">:</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-plain" style="opacity:0.3">T</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:1">-&gt;</span><span class="token-plain" style="opacity:1"> R </span><span class="token-operator" style="opacity:1">=</span><span class="token-plain" style="opacity:1"> </span><span class="token-function" style="opacity:1">Memoize1</span><span class="token-punctuation" style="opacity:1">(</span><span class="token-keyword" style="opacity:1">this</span><span class="token-punctuation" style="opacity:1">)</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">fun</span><span class="token-plain"> </span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-punctuation">,</span><span class="token-plain"> R</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-plain">T</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> R</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">memoize</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">T</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> R </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">Memoize1</span><span class="token-punctuation">(</span><span class="token-keyword">this</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation" style="opacity:1">}</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">fun</span><span class="token-plain"> </span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-punctuation">,</span><span class="token-plain"> R</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-plain">T</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> R</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">memoize</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">T</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> R </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">Memoize1</span><span class="token-punctuation">(</span><span class="token-keyword">this</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Field of functional type (T) -&gt; R</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation" style="opacity:0.3">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">fun</span><span class="token-plain"> </span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-punctuation">,</span><span class="token-plain"> R</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-plain">T</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> R</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">memoize</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">T</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> R </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">Memoize1</span><span class="token-punctuation">(</span><span class="token-keyword">this</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">schema?</span></p></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-annotation">@OptIn</span><span class="token-punctuation">(</span><span class="token-plain">ExperimentalStdlibApi</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword">f</span><span class="token-keyword">u</span><span class="token-keyword">n</span><span class="token-plain"> </span><span class="token-function">s</span><span class="token-function">c</span><span class="token-function">h</span><span class="token-function">e</span><span class="token-function">m</span><span class="token-function">a</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-plain">y</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-plain">K</span><span class="token-plain">T</span><span class="token-plain">y</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-plain">m</span><span class="token-plain">a</span><span class="token-plain">p</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-plain">M</span><span class="token-plain">a</span><span class="token-plain">p</span><span class="token-operator">&lt;</span><span class="token-plain">S</span><span class="token-plain">t</span><span class="token-plain">r</span><span class="token-plain">i</span><span class="token-plain">n</span><span class="token-plain">g</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-plain">K</span><span class="token-plain">T</span><span class="token-plain">y</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">m</span><span class="token-function">a</span><span class="token-function">p</span><span class="token-function">O</span><span class="token-function">f</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-plain">D</span><span class="token-plain">a</span><span class="token-plain">t</span><span class="token-plain">a</span><span class="token-plain">T</span><span class="token-plain">y</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> primitiveSchema </span><span class="token-operator">=</span><span class="token-plain"> knownDataTypes</span><span class="token-punctuation">[</span><span class="token-plain">type</span><span class="token-punctuation">.</span><span class="token-plain">classifier</span><span class="token-punctuation">]</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">primitiveSchema </span><span class="token-operator">!=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-function">KSimpleTypeWrapper</span><span class="token-punctuation">(</span><span class="token-plain">primitiveSchema</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">        </span><span class="token-punctuation">(</span><span class="token-plain">type</span><span class="token-punctuation">.</span><span class="token-plain">classifier</span><span class="token-operator">!!</span><span class="token-plain"> </span><span class="token-keyword">as</span><span class="token-plain"> KClass</span><span class="token-operator">&lt;</span><span class="token-operator">*</span><span class="token-operator">&gt;</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">        type</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> klass </span><span class="token-operator">=</span><span class="token-plain"> type</span><span class="token-punctuation">.</span><span class="token-plain">classifier </span><span class="token-keyword">as</span><span class="token-operator">?</span><span class="token-plain"> KClass</span><span class="token-operator">&lt;</span><span class="token-operator">*</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-operator">?:</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">        </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-function">IllegalArgumentException</span><span class="token-punctuation">(</span><span class="token-string">&quot;Unsupported type </span><span class="token-interpolation">$type</span><span class="token-string">&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> args</span><span class="token-operator">:</span><span class="token-plain"> List</span><span class="token-operator">&lt;</span><span class="token-plain">KTypeProjection</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> type</span><span class="token-punctuation">.</span><span class="token-plain">arguments</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> types </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">transitiveMerge</span><span class="token-punctuation">(</span><span class="token-plain">map</span><span class="token-punctuation">,</span><span class="token-plain"> klass</span><span class="token-punctuation">.</span><span class="token-plain">typeParameters</span><span class="token-punctuation">.</span><span class="token-function">zip</span><span class="token-punctuation">(</span><span class="token-plain">args</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">map</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">        it</span><span class="token-punctuation">.</span><span class="token-plain">first</span><span class="token-punctuation">.</span><span class="token-plain">name </span><span class="token-keyword">to</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">second</span><span class="token-punctuation">.</span><span class="token-plain">type</span><span class="token-operator">!!</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">.</span><span class="token-function">toMap</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">    </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-keyword">when</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">        klass</span><span class="token-punctuation">.</span><span class="token-function">isSubclassOf</span><span class="token-punctuation">(</span><span class="token-plain">Enum</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">            </span><span class="token-function">KSimpleTypeWrapper</span><span class="token-punctuation">(</span><span class="token-plain">DataTypes</span><span class="token-punctuation">.</span><span class="token-plain">StringType</span><span class="token-punctuation">,</span><span class="token-plain"> klass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">,</span><span class="token-plain"> type</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">        klass</span><span class="token-punctuation">.</span><span class="token-function">isSubclassOf</span><span class="token-punctuation">(</span><span class="token-plain">Iterable</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">||</span><span class="token-plain"> klass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">isArray </span><span class="token-operator">-&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> listParam </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">klass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">isArray</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">                </span><span class="token-keyword">when</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">klass</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">                    IntArray</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> typeOf</span><span class="token-operator">&lt;</span><span class="token-plain">Int</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">                    LongArray</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> typeOf</span><span class="token-operator">&lt;</span><span class="token-plain">Long</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">                    FloatArray</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> typeOf</span><span class="token-operator">&lt;</span><span class="token-plain">Float</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">                    DoubleArray</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> typeOf</span><span class="token-operator">&lt;</span><span class="token-plain">Double</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">                    BooleanArray</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> typeOf</span><span class="token-operator">&lt;</span><span class="token-plain">Boolean</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-plain">                    ShortArray</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> typeOf</span><span class="token-operator">&lt;</span><span class="token-plain">Short</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-plain">                    ByteArray</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> typeOf</span><span class="token-operator">&lt;</span><span class="token-plain">Byte</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-plain">                    </span><span class="token-keyword">else</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> types</span><span class="token-punctuation">.</span><span class="token-function">getValue</span><span class="token-punctuation">(</span><span class="token-plain">klass</span><span class="token-punctuation">.</span><span class="token-plain">typeParameters</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">                </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-plain">            </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">else</span><span class="token-plain"> types</span><span class="token-punctuation">.</span><span class="token-function">getValue</span><span class="token-punctuation">(</span><span class="token-plain">klass</span><span class="token-punctuation">.</span><span class="token-plain">typeParameters</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-plain">            </span><span class="token-function">KComplexTypeWrapper</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-plain">                klass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-plain">                listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-34"><span class="token-plain">            </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-plain">        klass</span><span class="token-punctuation">.</span><span class="token-function">isSubclassOf</span><span class="token-punctuation">(</span><span class="token-plain">Map</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-37"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> mapKeyParam </span><span class="token-operator">=</span><span class="token-plain"> types</span><span class="token-punctuation">.</span><span class="token-function">getValue</span><span class="token-punctuation">(</span><span class="token-plain">klass</span><span class="token-punctuation">.</span><span class="token-plain">typeParameters</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-38"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> mapValueParam </span><span class="token-operator">=</span><span class="token-plain"> types</span><span class="token-punctuation">.</span><span class="token-function">getValue</span><span class="token-punctuation">(</span><span class="token-plain">klass</span><span class="token-punctuation">.</span><span class="token-plain">typeParameters</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-39"><span class="token-plain">            </span><span class="token-function">KComplexTypeWrapper</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-40"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createMapType</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-41"><span class="token-plain">                    </span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">mapKeyParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-42"><span class="token-plain">                    </span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">mapValueParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-43"><span class="token-plain">                    </span><span class="token-boolean">true</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-44"><span class="token-plain">                </span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-plain">                klass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-46"><span class="token-plain">                mapValueParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-47"><span class="token-plain">            </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-48"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-49"><span class="token-plain">        klass</span><span class="token-punctuation">.</span><span class="token-plain">isData </span><span class="token-operator">-&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-50"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> structType </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">StructType</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-51"><span class="token-plain">                klass</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-52"><span class="token-plain">                    </span><span class="token-punctuation">.</span><span class="token-plain">primaryConstructor</span><span class="token-operator">!!</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-53"><span class="token-plain">                    </span><span class="token-punctuation">.</span><span class="token-plain">parameters</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-54"><span class="token-plain">                    </span><span class="token-punctuation">.</span><span class="token-function">filter</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">findAnnotation</span><span class="token-operator">&lt;</span><span class="token-plain">Transient</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">==</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-plain"> </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-55"><span class="token-plain">                    </span><span class="token-punctuation">.</span><span class="token-function">map</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-56"><span class="token-plain">                        </span><span class="token-keyword">val</span><span class="token-plain"> projectedType </span><span class="token-operator">=</span><span class="token-plain"> types</span><span class="token-punctuation">[</span><span class="token-plain">it</span><span class="token-punctuation">.</span><span class="token-plain">type</span><span class="token-punctuation">.</span><span class="token-function">toString</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">?:</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">type</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-57"><span class="token-plain">                        </span><span class="token-keyword">val</span><span class="token-plain"> propertyDescriptor </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">PropertyDescriptor</span><span class="token-punctuation">(</span><span class="token-plain">it</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-58"><span class="token-plain">                            klass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-59"><span class="token-plain">                            </span><span class="token-string">&quot;is&quot;</span><span class="token-plain"> </span><span class="token-operator">+</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-operator">?</span><span class="token-punctuation">.</span><span class="token-function">replaceFirstChar</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-60"><span class="token-plain">                                 </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">it</span><span class="token-punctuation">.</span><span class="token-function">isLowerCase</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-function">titlecase</span><span class="token-punctuation">(</span><span class="token-plain">Locale</span><span class="token-punctuation">.</span><span class="token-function">getDefault</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-61"><span class="token-plain">                                 </span><span class="token-keyword">else</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-function">toString</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-62"><span class="token-plain">                            </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-63"><span class="token-plain">                            </span><span class="token-keyword">null</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-64"><span class="token-plain">                        </span><span class="token-function">KStructField</span><span class="token-punctuation">(</span><span class="token-plain">propertyDescriptor</span><span class="token-punctuation">.</span><span class="token-plain">readMethod</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-65"><span class="token-plain">                            </span><span class="token-function">StructField</span><span class="token-punctuation">(</span><span class="token-plain">it</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-66"><span class="token-plain">                                </span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">projectedType</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-67"><span class="token-plain">                                projectedType</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-68"><span class="token-plain">                                Metadata</span><span class="token-punctuation">.</span><span class="token-function">empty</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">                    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-70"><span class="token-plain">                    </span><span class="token-punctuation">.</span><span class="token-function">toTypedArray</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-71"><span class="token-plain">            </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-72"><span class="token-plain">            </span><span class="token-function">KDataTypeWrapper</span><span class="token-punctuation">(</span><span class="token-plain">structType</span><span class="token-punctuation">,</span><span class="token-plain"> klass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-73"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-74"><span class="token-plain">        klass</span><span class="token-punctuation">.</span><span class="token-function">isSubclassOf</span><span class="token-punctuation">(</span><span class="token-plain">Product</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-75"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> params </span><span class="token-operator">=</span><span class="token-plain"> type</span><span class="token-punctuation">.</span><span class="token-plain">arguments</span><span class="token-punctuation">.</span><span class="token-function">mapIndexed</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> i</span><span class="token-punctuation">,</span><span class="token-plain"> it </span><span class="token-operator">-&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-76"><span class="token-plain">                </span><span class="token-string">&quot;_</span><span class="token-delimiter">${</span><span class="token-interpolation">i </span><span class="token-operator">+</span><span class="token-interpolation"> </span><span class="token-number">1</span><span class="token-delimiter">}</span><span class="token-string">&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">type</span><span class="token-operator">!!</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-77"><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-78"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-79"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> structType </span><span class="token-operator">=</span><span class="token-plain"> DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createStructType</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-80"><span class="token-plain">                params</span><span class="token-punctuation">.</span><span class="token-function">map</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">fieldName</span><span class="token-punctuation">,</span><span class="token-plain"> fieldType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-81"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> dataType </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">fieldType</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-82"><span class="token-plain">                    </span><span class="token-function">KStructField</span><span class="token-punctuation">(</span><span class="token-plain">fieldName</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-83"><span class="token-plain">                        </span><span class="token-function">StructField</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-84"><span class="token-plain">                            fieldName</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-85"><span class="token-plain">                            dataType</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-86"><span class="token-plain">                            fieldType</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">,</span><span class="token-plain"> Metadata</span><span class="token-punctuation">.</span><span class="token-function">empty</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-87"><span class="token-plain">                        </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-88"><span class="token-plain">                    </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-89"><span class="token-plain">                </span><span class="token-punctuation">}</span><span class="token-punctuation">.</span><span class="token-function">toTypedArray</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-90"><span class="token-plain">            </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-91"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-92"><span class="token-plain">            </span><span class="token-function">KComplexTypeWrapper</span><span class="token-punctuation">(</span><span class="token-plain">structType</span><span class="token-punctuation">,</span><span class="token-plain"> klass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-93"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-94"><span class="token-plain">        </span><span class="token-keyword">else</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-function">IllegalArgumentException</span><span class="token-punctuation">(</span><span class="token-string">&quot;</span><span class="token-interpolation">$type</span><span class="token-string"> is unsupported&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-95"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-96"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">val</span><span class="token-plain"> knownDataTypes </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">mapOf</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">    Byte</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> DataTypes</span><span class="token-punctuation">.</span><span class="token-plain">ByteType</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    Short</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> DataTypes</span><span class="token-punctuation">.</span><span class="token-plain">ShortType</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    Int</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> DataTypes</span><span class="token-punctuation">.</span><span class="token-plain">IntegerType</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">    Long</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> DataTypes</span><span class="token-punctuation">.</span><span class="token-plain">LongType</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">    Boolean</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> DataTypes</span><span class="token-punctuation">.</span><span class="token-plain">BooleanType</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">    Float</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> DataTypes</span><span class="token-punctuation">.</span><span class="token-plain">FloatType</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">    Double</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> DataTypes</span><span class="token-punctuation">.</span><span class="token-plain">DoubleType</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">    String</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> DataTypes</span><span class="token-punctuation">.</span><span class="token-plain">StringType</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">    LocalDate</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> `DateType$`</span><span class="token-punctuation">.</span><span class="token-plain">`MODULE$`</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">    Date</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> `DateType$`</span><span class="token-punctuation">.</span><span class="token-plain">`MODULE$`</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">    Timestamp</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> `TimestampType$`</span><span class="token-punctuation">.</span><span class="token-plain">`MODULE$`</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">    Instant</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> `TimestampType$`</span><span class="token-punctuation">.</span><span class="token-plain">`MODULE$`</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-punctuation">)</span></div></div><div></div></code></pre><h4 class="cs-title css-d84v96" style="opacity:1"><span style="opacity:1">Known types</span></h4></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-annotation">@OptIn</span><span class="token-punctuation">(</span><span class="token-plain">ExperimentalStdlibApi</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword">f</span><span class="token-keyword">u</span><span class="token-keyword">n</span><span class="token-plain"> </span><span class="token-function">s</span><span class="token-function">c</span><span class="token-function">h</span><span class="token-function">e</span><span class="token-function">m</span><span class="token-function">a</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-plain">y</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-plain">K</span><span class="token-plain">T</span><span class="token-plain">y</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-plain">m</span><span class="token-plain">a</span><span class="token-plain">p</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-plain">M</span><span class="token-plain">a</span><span class="token-plain">p</span><span class="token-operator">&lt;</span><span class="token-plain">S</span><span class="token-plain">t</span><span class="token-plain">r</span><span class="token-plain">i</span><span class="token-plain">n</span><span class="token-plain">g</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-plain">K</span><span class="token-plain">T</span><span class="token-plain">y</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">m</span><span class="token-function">a</span><span class="token-function">p</span><span class="token-function">O</span><span class="token-function">f</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-plain">D</span><span class="token-plain">a</span><span class="token-plain">t</span><span class="token-plain">a</span><span class="token-plain">T</span><span class="token-plain">y</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> primitiveSchema </span><span class="token-operator">=</span><span class="token-plain"> knownDataTypes</span><span class="token-punctuation">[</span><span class="token-plain">type</span><span class="token-punctuation">.</span><span class="token-plain">classifier</span><span class="token-punctuation">]</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">primitiveSchema </span><span class="token-operator">!=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-function">KSimpleTypeWrapper</span><span class="token-punctuation">(</span><span class="token-plain">primitiveSchema</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">        </span><span class="token-punctuation">(</span><span class="token-plain">type</span><span class="token-punctuation">.</span><span class="token-plain">classifier</span><span class="token-operator">!!</span><span class="token-plain"> </span><span class="token-keyword">as</span><span class="token-plain"> KClass</span><span class="token-operator">&lt;</span><span class="token-operator">*</span><span class="token-operator">&gt;</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">        type</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> klass </span><span class="token-operator">=</span><span class="token-plain"> type</span><span class="token-punctuation">.</span><span class="token-plain">classifier </span><span class="token-keyword">as</span><span class="token-operator">?</span><span class="token-plain"> KClass</span><span class="token-operator">&lt;</span><span class="token-operator">*</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-operator">?:</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">        </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-function">IllegalArgumentException</span><span class="token-punctuation">(</span><span class="token-string">&quot;Unsupported type </span><span class="token-interpolation">$type</span><span class="token-string">&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> args</span><span class="token-operator">:</span><span class="token-plain"> List</span><span class="token-operator">&lt;</span><span class="token-plain">KTypeProjection</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> type</span><span class="token-punctuation">.</span><span class="token-plain">arguments</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-keyword">v</span><span class="token-keyword">a</span><span class="token-keyword">l</span><span class="token-plain"> </span><span class="token-plain">t</span><span class="token-plain">y</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-plain">s</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">t</span><span class="token-function">r</span><span class="token-function">a</span><span class="token-function">n</span><span class="token-function">s</span><span class="token-function">i</span><span class="token-function">t</span><span class="token-function">i</span><span class="token-function">v</span><span class="token-function">e</span><span class="token-function">M</span><span class="token-function">e</span><span class="token-function">r</span><span class="token-function">g</span><span class="token-function">e</span><span class="token-punctuation">(</span><span class="token-plain">m</span><span class="token-plain">a</span><span class="token-plain">p</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-plain">k</span><span class="token-plain">l</span><span class="token-plain">a</span><span class="token-plain">s</span><span class="token-plain">s</span><span class="token-punctuation">.</span><span class="token-plain">t</span><span class="token-plain">y</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-plain">P</span><span class="token-plain">a</span><span class="token-plain">r</span><span class="token-plain">a</span><span class="token-plain">m</span><span class="token-plain">e</span><span class="token-plain">t</span><span class="token-plain">e</span><span class="token-plain">r</span><span class="token-plain">s</span><span class="token-punctuation">.</span><span class="token-function">z</span><span class="token-function">i</span><span class="token-function">p</span><span class="token-punctuation">(</span><span class="token-plain">a</span><span class="token-plain">r</span><span class="token-plain">g</span><span class="token-plain">s</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-function">m</span><span class="token-function">a</span><span class="token-function">p</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">        it</span><span class="token-punctuation">.</span><span class="token-plain">first</span><span class="token-punctuation">.</span><span class="token-plain">name </span><span class="token-keyword">to</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">second</span><span class="token-punctuation">.</span><span class="token-plain">type</span><span class="token-operator">!!</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">.</span><span class="token-function">toMap</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">    </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-keyword">when</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">        klass</span><span class="token-punctuation">.</span><span class="token-function">isSubclassOf</span><span class="token-punctuation">(</span><span class="token-plain">Enum</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">            </span><span class="token-function">KSimpleTypeWrapper</span><span class="token-punctuation">(</span><span class="token-plain">DataTypes</span><span class="token-punctuation">.</span><span class="token-plain">StringType</span><span class="token-punctuation">,</span><span class="token-plain"> klass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">,</span><span class="token-plain"> type</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">        klass</span><span class="token-punctuation">.</span><span class="token-function">isSubclassOf</span><span class="token-punctuation">(</span><span class="token-plain">Iterable</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">||</span><span class="token-plain"> klass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">isArray </span><span class="token-operator">-&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-keyword">v</span><span class="token-keyword">a</span><span class="token-keyword">l</span><span class="token-plain"> </span><span class="token-plain">l</span><span class="token-plain">i</span><span class="token-plain">s</span><span class="token-plain">t</span><span class="token-plain">P</span><span class="token-plain">a</span><span class="token-plain">r</span><span class="token-plain">a</span><span class="token-plain">m</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">i</span><span class="token-keyword">f</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">k</span><span class="token-plain">l</span><span class="token-plain">a</span><span class="token-plain">s</span><span class="token-plain">s</span><span class="token-punctuation">.</span><span class="token-plain">j</span><span class="token-plain">a</span><span class="token-plain">v</span><span class="token-plain">a</span><span class="token-punctuation">.</span><span class="token-plain">i</span><span class="token-plain">s</span><span class="token-plain">A</span><span class="token-plain">r</span><span class="token-plain">r</span><span class="token-plain">a</span><span class="token-plain">y</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">                </span><span class="token-keyword">when</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">klass</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">                    IntArray</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> typeOf</span><span class="token-operator">&lt;</span><span class="token-plain">Int</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">                    LongArray</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> typeOf</span><span class="token-operator">&lt;</span><span class="token-plain">Long</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">                    FloatArray</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> typeOf</span><span class="token-operator">&lt;</span><span class="token-plain">Float</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">                    DoubleArray</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> typeOf</span><span class="token-operator">&lt;</span><span class="token-plain">Double</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">                    BooleanArray</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> typeOf</span><span class="token-operator">&lt;</span><span class="token-plain">Boolean</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-plain">                    ShortArray</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> typeOf</span><span class="token-operator">&lt;</span><span class="token-plain">Short</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-plain">                    ByteArray</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> typeOf</span><span class="token-operator">&lt;</span><span class="token-plain">Byte</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-plain">                    </span><span class="token-keyword">else</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> types</span><span class="token-punctuation">.</span><span class="token-function">getValue</span><span class="token-punctuation">(</span><span class="token-plain">klass</span><span class="token-punctuation">.</span><span class="token-plain">typeParameters</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">                </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">e</span><span class="token-keyword">l</span><span class="token-keyword">s</span><span class="token-keyword">e</span><span class="token-plain"> </span><span class="token-plain">t</span><span class="token-plain">y</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-plain">s</span><span class="token-punctuation">.</span><span class="token-function">g</span><span class="token-function">e</span><span class="token-function">t</span><span class="token-function">V</span><span class="token-function">a</span><span class="token-function">l</span><span class="token-function">u</span><span class="token-function">e</span><span class="token-punctuation">(</span><span class="token-plain">k</span><span class="token-plain">l</span><span class="token-plain">a</span><span class="token-plain">s</span><span class="token-plain">s</span><span class="token-punctuation">.</span><span class="token-plain">t</span><span class="token-plain">y</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-plain">P</span><span class="token-plain">a</span><span class="token-plain">r</span><span class="token-plain">a</span><span class="token-plain">m</span><span class="token-plain">e</span><span class="token-plain">t</span><span class="token-plain">e</span><span class="token-plain">r</span><span class="token-plain">s</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">n</span><span class="token-plain">a</span><span class="token-plain">m</span><span class="token-plain">e</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-plain">            </span><span class="token-function">KComplexTypeWrapper</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-plain">                klass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-plain">                listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-34"><span class="token-plain">            </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-plain">        klass</span><span class="token-punctuation">.</span><span class="token-function">isSubclassOf</span><span class="token-punctuation">(</span><span class="token-plain">Map</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-37"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> mapKeyParam </span><span class="token-operator">=</span><span class="token-plain"> types</span><span class="token-punctuation">.</span><span class="token-function">getValue</span><span class="token-punctuation">(</span><span class="token-plain">klass</span><span class="token-punctuation">.</span><span class="token-plain">typeParameters</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-38"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> mapValueParam </span><span class="token-operator">=</span><span class="token-plain"> types</span><span class="token-punctuation">.</span><span class="token-function">getValue</span><span class="token-punctuation">(</span><span class="token-plain">klass</span><span class="token-punctuation">.</span><span class="token-plain">typeParameters</span><span class="token-punctuation">[</span><span class="token-number">1</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-39"><span class="token-plain">            </span><span class="token-function">KComplexTypeWrapper</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-40"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createMapType</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-41"><span class="token-plain">                    </span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">mapKeyParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-42"><span class="token-plain">                    </span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">mapValueParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-43"><span class="token-plain">                    </span><span class="token-boolean">true</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-44"><span class="token-plain">                </span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-plain">                klass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-46"><span class="token-plain">                mapValueParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-47"><span class="token-plain">            </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-48"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-49"><span class="token-plain">        klass</span><span class="token-punctuation">.</span><span class="token-plain">isData </span><span class="token-operator">-&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-50"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> structType </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">StructType</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-51"><span class="token-plain">                klass</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-52"><span class="token-plain">                    </span><span class="token-punctuation">.</span><span class="token-plain">primaryConstructor</span><span class="token-operator">!!</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-53"><span class="token-plain">                    </span><span class="token-punctuation">.</span><span class="token-plain">parameters</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-54"><span class="token-plain">                    </span><span class="token-punctuation">.</span><span class="token-function">filter</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">findAnnotation</span><span class="token-operator">&lt;</span><span class="token-plain">Transient</span><span class="token-operator">&gt;</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">==</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-plain"> </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-55"><span class="token-plain">                    </span><span class="token-punctuation">.</span><span class="token-function">map</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-56"><span class="token-plain">                        </span><span class="token-keyword">val</span><span class="token-plain"> projectedType </span><span class="token-operator">=</span><span class="token-plain"> types</span><span class="token-punctuation">[</span><span class="token-plain">it</span><span class="token-punctuation">.</span><span class="token-plain">type</span><span class="token-punctuation">.</span><span class="token-function">toString</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">?:</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">type</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-57"><span class="token-plain">                        </span><span class="token-keyword">val</span><span class="token-plain"> propertyDescriptor </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">PropertyDescriptor</span><span class="token-punctuation">(</span><span class="token-plain">it</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-58"><span class="token-plain">                            klass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-59"><span class="token-plain">                            </span><span class="token-string">&quot;is&quot;</span><span class="token-plain"> </span><span class="token-operator">+</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-operator">?</span><span class="token-punctuation">.</span><span class="token-function">replaceFirstChar</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-60"><span class="token-plain">                                 </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">it</span><span class="token-punctuation">.</span><span class="token-function">isLowerCase</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-function">titlecase</span><span class="token-punctuation">(</span><span class="token-plain">Locale</span><span class="token-punctuation">.</span><span class="token-function">getDefault</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-61"><span class="token-plain">                                 </span><span class="token-keyword">else</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-function">toString</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-62"><span class="token-plain">                            </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-63"><span class="token-plain">                            </span><span class="token-keyword">null</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-64"><span class="token-plain">                        </span><span class="token-function">KStructField</span><span class="token-punctuation">(</span><span class="token-plain">propertyDescriptor</span><span class="token-punctuation">.</span><span class="token-plain">readMethod</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-65"><span class="token-plain">                            </span><span class="token-function">StructField</span><span class="token-punctuation">(</span><span class="token-plain">it</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-66"><span class="token-plain">                                </span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">projectedType</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-67"><span class="token-plain">                                projectedType</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-68"><span class="token-plain">                                Metadata</span><span class="token-punctuation">.</span><span class="token-function">empty</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">                    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-70"><span class="token-plain">                    </span><span class="token-punctuation">.</span><span class="token-function">toTypedArray</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-71"><span class="token-plain">            </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-72"><span class="token-plain">            </span><span class="token-function">KDataTypeWrapper</span><span class="token-punctuation">(</span><span class="token-plain">structType</span><span class="token-punctuation">,</span><span class="token-plain"> klass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-73"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-74"><span class="token-plain">        klass</span><span class="token-punctuation">.</span><span class="token-function">isSubclassOf</span><span class="token-punctuation">(</span><span class="token-plain">Product</span><span class="token-operator">::</span><span class="token-keyword">class</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-75"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> params </span><span class="token-operator">=</span><span class="token-plain"> type</span><span class="token-punctuation">.</span><span class="token-plain">arguments</span><span class="token-punctuation">.</span><span class="token-function">mapIndexed</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> i</span><span class="token-punctuation">,</span><span class="token-plain"> it </span><span class="token-operator">-&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-76"><span class="token-plain">                </span><span class="token-string">&quot;_</span><span class="token-delimiter">${</span><span class="token-interpolation">i </span><span class="token-operator">+</span><span class="token-interpolation"> </span><span class="token-number">1</span><span class="token-delimiter">}</span><span class="token-string">&quot;</span><span class="token-plain"> </span><span class="token-keyword">to</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">type</span><span class="token-operator">!!</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-77"><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-78"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-79"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> structType </span><span class="token-operator">=</span><span class="token-plain"> DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createStructType</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-80"><span class="token-plain">                params</span><span class="token-punctuation">.</span><span class="token-function">map</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">fieldName</span><span class="token-punctuation">,</span><span class="token-plain"> fieldType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-81"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> dataType </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">fieldType</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-82"><span class="token-plain">                    </span><span class="token-function">KStructField</span><span class="token-punctuation">(</span><span class="token-plain">fieldName</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-83"><span class="token-plain">                        </span><span class="token-function">StructField</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-84"><span class="token-plain">                            fieldName</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-85"><span class="token-plain">                            dataType</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-86"><span class="token-plain">                            fieldType</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">,</span><span class="token-plain"> Metadata</span><span class="token-punctuation">.</span><span class="token-function">empty</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-87"><span class="token-plain">                        </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-88"><span class="token-plain">                    </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-89"><span class="token-plain">                </span><span class="token-punctuation">}</span><span class="token-punctuation">.</span><span class="token-function">toTypedArray</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-90"><span class="token-plain">            </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-91"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-92"><span class="token-plain">            </span><span class="token-function">KComplexTypeWrapper</span><span class="token-punctuation">(</span><span class="token-plain">structType</span><span class="token-punctuation">,</span><span class="token-plain"> klass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-93"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-94"><span class="token-plain">        </span><span class="token-keyword">else</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-function">IllegalArgumentException</span><span class="token-punctuation">(</span><span class="token-string">&quot;</span><span class="token-interpolation">$type</span><span class="token-string"> is unsupported&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-95"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-96"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">List&lt;Pair&lt;KTypeParameter, KTypeProjection&gt;&gt;</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">&quot;A&quot; to String</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Merge types with previous iteration</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">                DataTypes</span><span class="token-punctuation">.</span><span class="token-function">createArrayType</span><span class="token-punctuation">(</span><span class="token-function">schema</span><span class="token-punctuation">(</span><span class="token-plain">listParam</span><span class="token-punctuation">,</span><span class="token-plain"> types</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> listParam</span><span class="token-punctuation">.</span><span class="token-plain">isMarkedNullable</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">trait</span><span class="token-plain"> DataTypeWithClass </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">  </span><span class="token-keyword">val</span><span class="token-plain"> dt</span><span class="token-operator">:</span><span class="token-plain"> DataType</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">  </span><span class="token-keyword">val</span><span class="token-plain"> cls</span><span class="token-operator">:</span><span class="token-plain"> Class</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">  </span><span class="token-keyword">val</span><span class="token-plain"> nullable</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-builtin">Boolean</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-keyword">trait</span><span class="token-plain"> ComplexWrapper </span><span class="token-keyword">extends</span><span class="token-plain"> DataTypeWithClass</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-keyword">class</span><span class="token-plain"> KDataTypeWrapper</span><span class="token-punctuation">(</span><span class="token-keyword">val</span><span class="token-plain"> dt</span><span class="token-operator">:</span><span class="token-plain"> StructType </span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">val</span><span class="token-plain"> cls</span><span class="token-operator">:</span><span class="token-plain"> Class</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">val</span><span class="token-plain"> nullable</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-builtin">Boolean</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">                    </span><span class="token-keyword">extends</span><span class="token-plain"> StructType </span><span class="token-keyword">with</span><span class="token-plain"> ComplexWrapper </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">    </span><span class="token-comment">// delegate everything</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-keyword">case</span><span class="token-plain"> </span><span class="token-keyword">class</span><span class="token-plain"> KComplexTypeWrapper</span><span class="token-punctuation">(</span><span class="token-plain">dt</span><span class="token-operator">:</span><span class="token-plain"> DataType</span><span class="token-punctuation">,</span><span class="token-plain"> cls</span><span class="token-operator">:</span><span class="token-plain"> Class</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span><span class="token-plain"> nullable</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-builtin">Boolean</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">                    </span><span class="token-keyword">extends</span><span class="token-plain"> DataType </span><span class="token-keyword">with</span><span class="token-plain"> ComplexWrapper </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">    </span><span class="token-comment">// delegate everything</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-keyword">case</span><span class="token-plain"> </span><span class="token-keyword">class</span><span class="token-plain"> KSimpleTypeWrapper</span><span class="token-punctuation">(</span><span class="token-plain">dt</span><span class="token-operator">:</span><span class="token-plain"> DataType</span><span class="token-punctuation">,</span><span class="token-plain"> cls</span><span class="token-operator">:</span><span class="token-plain"> Class</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span><span class="token-plain"> nullable</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-builtin">Boolean</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">                    </span><span class="token-keyword">extends</span><span class="token-plain"> DataType </span><span class="token-keyword">with</span><span class="token-plain"> DataTypeWithClass </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">    </span><span class="token-comment">// delegate everything</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-keyword">class</span><span class="token-plain"> KStructField</span><span class="token-punctuation">(</span><span class="token-keyword">val</span><span class="token-plain"> getterName</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-builtin">String</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">val</span><span class="token-plain"> delegate</span><span class="token-operator">:</span><span class="token-plain"> StructField</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">                    </span><span class="token-keyword">extends</span><span class="token-plain"> StructField </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-plain">    </span><span class="token-comment">// delegate everything</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">fun</span><span class="token-plain"> </span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-function">generateEncoder</span><span class="token-punctuation">(</span><span class="token-plain">type</span><span class="token-operator">:</span><span class="token-plain"> KType</span><span class="token-punctuation">,</span><span class="token-plain"> cls</span><span class="token-operator">:</span><span class="token-plain"> KClass</span><span class="token-operator">&lt;</span><span class="token-operator">*</span><span class="token-operator">&gt;</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> Encoder</span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">    </span><span class="token-annotation">@Suppress</span><span class="token-punctuation">(</span><span class="token-string">&quot;UNCHECKED_CAST&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-keyword">when</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">        </span><span class="token-function">isSupportedClass</span><span class="token-punctuation">(</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> </span><span class="token-function">kotlinClassEncoder</span><span class="token-punctuation">(</span><span class="token-function">memoizedSchema</span><span class="token-punctuation">(</span><span class="token-plain">type</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> cls</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">        </span><span class="token-keyword">else</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> ENCODERS</span><span class="token-punctuation">[</span><span class="token-plain">cls</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-keyword">as</span><span class="token-operator">?</span><span class="token-plain"> Encoder</span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-operator">&gt;</span><span class="token-operator">?</span><span class="token-plain"> </span><span class="token-operator">?:</span><span class="token-plain"> </span><span class="token-function">bean</span><span class="token-punctuation">(</span><span class="token-plain">cls</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">as</span><span class="token-plain"> Encoder</span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-zv3p95"><h1 class="css-1djqpdg">Why do we memoize only schema?</h1><p style="visibility:visible" class="css-0">Because encoder is mutable!</p></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">fun</span><span class="token-plain"> </span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-function">generateEncoder</span><span class="token-punctuation">(</span><span class="token-plain">type</span><span class="token-operator">:</span><span class="token-plain"> KType</span><span class="token-punctuation">,</span><span class="token-plain"> cls</span><span class="token-operator">:</span><span class="token-plain"> KClass</span><span class="token-operator">&lt;</span><span class="token-operator">*</span><span class="token-operator">&gt;</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> Encoder</span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">    </span><span class="token-annotation">@Suppress</span><span class="token-punctuation">(</span><span class="token-string">&quot;UNCHECKED_CAST&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-keyword">when</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-function">i</span><span class="token-function">s</span><span class="token-function">S</span><span class="token-function">u</span><span class="token-function">p</span><span class="token-function">p</span><span class="token-function">o</span><span class="token-function">r</span><span class="token-function">t</span><span class="token-function">e</span><span class="token-function">d</span><span class="token-function">C</span><span class="token-function">l</span><span class="token-function">a</span><span class="token-function">s</span><span class="token-function">s</span><span class="token-punctuation">(</span><span class="token-plain">c</span><span class="token-plain">l</span><span class="token-plain">s</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-function">k</span><span class="token-function">o</span><span class="token-function">t</span><span class="token-function">l</span><span class="token-function">i</span><span class="token-function">n</span><span class="token-function">C</span><span class="token-function">l</span><span class="token-function">a</span><span class="token-function">s</span><span class="token-function">s</span><span class="token-function">E</span><span class="token-function">n</span><span class="token-function">c</span><span class="token-function">o</span><span class="token-function">d</span><span class="token-function">e</span><span class="token-function">r</span><span class="token-punctuation">(</span><span class="token-function">m</span><span class="token-function">e</span><span class="token-function">m</span><span class="token-function">o</span><span class="token-function">i</span><span class="token-function">z</span><span class="token-function">e</span><span class="token-function">d</span><span class="token-function">S</span><span class="token-function">c</span><span class="token-function">h</span><span class="token-function">e</span><span class="token-function">m</span><span class="token-function">a</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-plain">y</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-plain">c</span><span class="token-plain">l</span><span class="token-plain">s</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">        </span><span class="token-keyword">else</span><span class="token-plain"> </span><span class="token-operator">-&gt;</span><span class="token-plain"> ENCODERS</span><span class="token-punctuation">[</span><span class="token-plain">cls</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-keyword">as</span><span class="token-operator">?</span><span class="token-plain"> Encoder</span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-operator">&gt;</span><span class="token-operator">?</span><span class="token-plain"> </span><span class="token-operator">?:</span><span class="token-plain"> </span><span class="token-function">bean</span><span class="token-punctuation">(</span><span class="token-plain">cls</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">as</span><span class="token-plain"> Encoder</span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-function">i</span><span class="token-function">s</span><span class="token-function">S</span><span class="token-function">u</span><span class="token-function">p</span><span class="token-function">p</span><span class="token-function">o</span><span class="token-function">r</span><span class="token-function">t</span><span class="token-function">e</span><span class="token-function">d</span><span class="token-function">C</span><span class="token-function">l</span><span class="token-function">a</span><span class="token-function">s</span><span class="token-function">s</span><span class="token-punctuation">(</span><span class="token-plain">c</span><span class="token-plain">l</span><span class="token-plain">s</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">-</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-function">k</span><span class="token-function">o</span><span class="token-function">t</span><span class="token-function">l</span><span class="token-function">i</span><span class="token-function">n</span><span class="token-function">C</span><span class="token-function">l</span><span class="token-function">a</span><span class="token-function">s</span><span class="token-function">s</span><span class="token-function">E</span><span class="token-function">n</span><span class="token-function">c</span><span class="token-function">o</span><span class="token-function">d</span><span class="token-function">e</span><span class="token-function">r</span><span class="token-punctuation">(</span><span class="token-function">m</span><span class="token-function">e</span><span class="token-function">m</span><span class="token-function">o</span><span class="token-function">i</span><span class="token-function">z</span><span class="token-function">e</span><span class="token-function">d</span><span class="token-function">S</span><span class="token-function">c</span><span class="token-function">h</span><span class="token-function">e</span><span class="token-function">m</span><span class="token-function">a</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-plain">y</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-plain">c</span><span class="token-plain">l</span><span class="token-plain">s</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">fun</span><span class="token-plain"> </span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-function">kotlinClassEncoder</span><span class="token-punctuation">(</span><span class="token-plain">schema</span><span class="token-operator">:</span><span class="token-plain"> DataType</span><span class="token-punctuation">,</span><span class="token-plain"> kClass</span><span class="token-operator">:</span><span class="token-plain"> KClass</span><span class="token-operator">&lt;</span><span class="token-operator">*</span><span class="token-operator">&gt;</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> Encoder</span><span class="token-operator">&lt;</span><span class="token-plain">T</span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-keyword">r</span><span class="token-keyword">e</span><span class="token-keyword">t</span><span class="token-keyword">u</span><span class="token-keyword">r</span><span class="token-keyword">n</span><span class="token-plain"> </span><span class="token-function">E</span><span class="token-function">x</span><span class="token-function">p</span><span class="token-function">r</span><span class="token-function">e</span><span class="token-function">s</span><span class="token-function">s</span><span class="token-function">i</span><span class="token-function">o</span><span class="token-function">n</span><span class="token-function">E</span><span class="token-function">n</span><span class="token-function">c</span><span class="token-function">o</span><span class="token-function">d</span><span class="token-function">e</span><span class="token-function">r</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">schema </span><span class="token-keyword">is</span><span class="token-plain"> DataTypeWithClass</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">            KotlinReflection</span><span class="token-punctuation">.</span><span class="token-function">serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">kClass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">,</span><span class="token-plain"> schema</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">        </span><span class="token-keyword">else</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">            KotlinReflection</span><span class="token-punctuation">.</span><span class="token-function">serializerForType</span><span class="token-punctuation">(</span><span class="token-plain">KotlinReflection</span><span class="token-punctuation">.</span><span class="token-function">getType</span><span class="token-punctuation">(</span><span class="token-plain">kClass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">schema </span><span class="token-keyword">is</span><span class="token-plain"> DataTypeWithClass</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">            KotlinReflection</span><span class="token-punctuation">.</span><span class="token-function">deserializerFor</span><span class="token-punctuation">(</span><span class="token-plain">kClass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">,</span><span class="token-plain"> schema</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">        </span><span class="token-keyword">else</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">            KotlinReflection</span><span class="token-punctuation">.</span><span class="token-function">deserializerForType</span><span class="token-punctuation">(</span><span class="token-plain">KotlinReflection</span><span class="token-punctuation">.</span><span class="token-function">getType</span><span class="token-punctuation">(</span><span class="token-plain">kClass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">        ClassTag</span><span class="token-punctuation">.</span><span class="token-function">apply</span><span class="token-punctuation">(</span><span class="token-plain">kClass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">    </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">            KotlinReflection</span><span class="token-punctuation">.</span><span class="token-function">deserializerForType</span><span class="token-punctuation">(</span><span class="token-plain">KotlinReflection</span><span class="token-punctuation">.</span><span class="token-function">getType</span><span class="token-punctuation">(</span><span class="token-plain">kClass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">            KotlinReflection</span><span class="token-punctuation">.</span><span class="token-function">deserializerForType</span><span class="token-punctuation">(</span><span class="token-plain">KotlinReflection</span><span class="token-punctuation">.</span><span class="token-function">getType</span><span class="token-punctuation">(</span><span class="token-plain">kClass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">            KotlinReflection</span><span class="token-punctuation">.</span><span class="token-function">deserializerForType</span><span class="token-punctuation">(</span><span class="token-plain">KotlinReflection</span><span class="token-punctuation">.</span><span class="token-function">getType</span><span class="token-punctuation">(</span><span class="token-plain">kClass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">            KotlinReflection</span><span class="token-punctuation">.</span><span class="token-function">deserializerForType</span><span class="token-punctuation">(</span><span class="token-plain">KotlinReflection</span><span class="token-punctuation">.</span><span class="token-function">getType</span><span class="token-punctuation">(</span><span class="token-plain">kClass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">            KotlinReflection</span><span class="token-punctuation">.</span><span class="token-function">deserializerForType</span><span class="token-punctuation">(</span><span class="token-plain">KotlinReflection</span><span class="token-punctuation">.</span><span class="token-function">getType</span><span class="token-punctuation">(</span><span class="token-plain">kClass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">            KotlinReflection</span><span class="token-punctuation">.</span><span class="token-function">deserializerForType</span><span class="token-punctuation">(</span><span class="token-plain">KotlinReflection</span><span class="token-punctuation">.</span><span class="token-function">getType</span><span class="token-punctuation">(</span><span class="token-plain">kClass</span><span class="token-punctuation">.</span><span class="token-plain">java</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">d</span><span class="token-keyword">e</span><span class="token-keyword">f</span><span class="token-plain"> </span><span class="token-plain">s</span><span class="token-plain">e</span><span class="token-plain">r</span><span class="token-plain">i</span><span class="token-plain">a</span><span class="token-plain">l</span><span class="token-plain">i</span><span class="token-plain">z</span><span class="token-plain">e</span><span class="token-plain">r</span><span class="token-plain">F</span><span class="token-plain">o</span><span class="token-plain">r</span><span class="token-punctuation">(</span><span class="token-plain">c</span><span class="token-plain">l</span><span class="token-plain">s</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-plain">j</span><span class="token-plain">a</span><span class="token-plain">v</span><span class="token-plain">a</span><span class="token-punctuation">.</span><span class="token-plain">l</span><span class="token-plain">a</span><span class="token-plain">n</span><span class="token-plain">g</span><span class="token-punctuation">.</span><span class="token-plain">C</span><span class="token-plain">l</span><span class="token-plain">a</span><span class="token-plain">s</span><span class="token-plain">s</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-plain">d</span><span class="token-plain">t</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-plain">D</span><span class="token-plain">a</span><span class="token-plain">t</span><span class="token-plain">a</span><span class="token-plain">T</span><span class="token-plain">y</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-plain">W</span><span class="token-plain">i</span><span class="token-plain">t</span><span class="token-plain">h</span><span class="token-plain">C</span><span class="token-plain">l</span><span class="token-plain">a</span><span class="token-plain">s</span><span class="token-plain">s</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-plain">E</span><span class="token-plain">x</span><span class="token-plain">p</span><span class="token-plain">r</span><span class="token-plain">e</span><span class="token-plain">s</span><span class="token-plain">s</span><span class="token-plain">i</span><span class="token-plain">o</span><span class="token-plain">n</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> tpe </span><span class="token-operator">=</span><span class="token-plain"> getType</span><span class="token-punctuation">(</span><span class="token-plain">cls</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> clsName </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">tpe</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> walkedTypePath </span><span class="token-operator">=</span><span class="token-plain"> WalkedTypePath</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">recordRoot</span><span class="token-punctuation">(</span><span class="token-plain">clsName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> inputObject </span><span class="token-operator">=</span><span class="token-plain"> BoundReference</span><span class="token-punctuation">(</span><span class="token-number">0</span><span class="token-punctuation">,</span><span class="token-plain"> ObjectType</span><span class="token-punctuation">(</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> nullable </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">    serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">,</span><span class="token-plain"> tpe</span><span class="token-punctuation">,</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">,</span><span class="token-plain"> predefinedDt </span><span class="token-operator">=</span><span class="token-plain"> Some</span><span class="token-punctuation">(</span><span class="token-plain">dt</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword" style="opacity:1">d</span><span class="token-keyword" style="opacity:1">e</span><span class="token-keyword" style="opacity:1">f</span><span class="token-plain" style="opacity:1"> </span><span class="token-plain" style="opacity:1">s</span><span class="token-plain" style="opacity:1">e</span><span class="token-plain" style="opacity:1">r</span><span class="token-plain" style="opacity:1">i</span><span class="token-plain" style="opacity:1">a</span><span class="token-plain" style="opacity:1">l</span><span class="token-plain" style="opacity:1">i</span><span class="token-plain" style="opacity:1">z</span><span class="token-plain" style="opacity:1">e</span><span class="token-plain" style="opacity:1">r</span><span class="token-plain" style="opacity:1">F</span><span class="token-plain" style="opacity:1">o</span><span class="token-plain" style="opacity:1">r</span><span class="token-punctuation" style="opacity:1">(</span><span class="token-plain" style="opacity:1">c</span><span class="token-plain" style="opacity:1">l</span><span class="token-plain" style="opacity:1">s</span><span class="token-operator" style="opacity:1">:</span><span class="token-plain" style="opacity:1"> </span><span class="token-plain" style="opacity:1">j</span><span class="token-plain" style="opacity:1">a</span><span class="token-plain" style="opacity:1">v</span><span class="token-plain" style="opacity:1">a</span><span class="token-punctuation" style="opacity:1">.</span><span class="token-plain" style="opacity:1">l</span><span class="token-plain" style="opacity:1">a</span><span class="token-plain" style="opacity:1">n</span><span class="token-plain" style="opacity:1">g</span><span class="token-punctuation" style="opacity:1">.</span><span class="token-plain" style="opacity:1">C</span><span class="token-plain" style="opacity:1">l</span><span class="token-plain" style="opacity:1">a</span><span class="token-plain" style="opacity:1">s</span><span class="token-plain" style="opacity:1">s</span><span class="token-punctuation" style="opacity:1">[</span><span class="token-plain" style="opacity:1">_</span><span class="token-punctuation" style="opacity:1">]</span><span class="token-punctuation" style="opacity:1">,</span><span class="token-plain" style="opacity:1"> </span><span class="token-plain" style="opacity:1">d</span><span class="token-plain" style="opacity:1">t</span><span class="token-operator" style="opacity:1">:</span><span class="token-plain" style="opacity:1"> </span><span class="token-plain" style="opacity:1">D</span><span class="token-plain" style="opacity:1">a</span><span class="token-plain" style="opacity:1">t</span><span class="token-plain" style="opacity:1">a</span><span class="token-plain" style="opacity:1">T</span><span class="token-plain" style="opacity:1">y</span><span class="token-plain" style="opacity:1">p</span><span class="token-plain" style="opacity:1">e</span><span class="token-plain" style="opacity:1">W</span><span class="token-plain" style="opacity:1">i</span><span class="token-plain" style="opacity:1">t</span><span class="token-plain" style="opacity:1">h</span><span class="token-plain" style="opacity:1">C</span><span class="token-plain" style="opacity:1">l</span><span class="token-plain" style="opacity:1">a</span><span class="token-plain" style="opacity:1">s</span><span class="token-plain" style="opacity:1">s</span><span class="token-punctuation" style="opacity:1">)</span><span class="token-operator" style="opacity:1">:</span><span class="token-plain" style="opacity:1"> </span><span class="token-plain" style="opacity:1">E</span><span class="token-plain" style="opacity:1">x</span><span class="token-plain" style="opacity:1">p</span><span class="token-plain" style="opacity:1">r</span><span class="token-plain" style="opacity:1">e</span><span class="token-plain" style="opacity:1">s</span><span class="token-plain" style="opacity:1">s</span><span class="token-plain" style="opacity:1">i</span><span class="token-plain" style="opacity:1">o</span><span class="token-plain" style="opacity:1">n</span><span class="token-plain" style="opacity:1"> </span><span class="token-operator" style="opacity:1">=</span><span class="token-plain" style="opacity:1"> </span><span class="token-punctuation" style="opacity:1">{</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword" style="opacity:0.3">d</span><span class="token-keyword" style="opacity:0.3">e</span><span class="token-keyword" style="opacity:0.3">f</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">s</span><span class="token-plain" style="opacity:0.3">e</span><span class="token-plain" style="opacity:0.3">r</span><span class="token-plain" style="opacity:0.3">i</span><span class="token-plain" style="opacity:0.3">a</span><span class="token-plain" style="opacity:0.3">l</span><span class="token-plain" style="opacity:0.3">i</span><span class="token-plain" style="opacity:0.3">z</span><span class="token-plain" style="opacity:0.3">e</span><span class="token-plain" style="opacity:0.3">r</span><span class="token-plain" style="opacity:0.3">F</span><span class="token-plain" style="opacity:0.3">o</span><span class="token-plain" style="opacity:0.3">r</span><span class="token-punctuation" style="opacity:0.3">(</span><span class="token-plain" style="opacity:0.3">c</span><span class="token-plain" style="opacity:0.3">l</span><span class="token-plain" style="opacity:0.3">s</span><span class="token-operator" style="opacity:0.3">:</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">j</span><span class="token-plain" style="opacity:0.3">a</span><span class="token-plain" style="opacity:0.3">v</span><span class="token-plain" style="opacity:0.3">a</span><span class="token-punctuation" style="opacity:0.3">.</span><span class="token-plain" style="opacity:0.3">l</span><span class="token-plain" style="opacity:0.3">a</span><span class="token-plain" style="opacity:0.3">n</span><span class="token-plain" style="opacity:0.3">g</span><span class="token-punctuation" style="opacity:0.3">.</span><span class="token-plain" style="opacity:0.3">C</span><span class="token-plain" style="opacity:0.3">l</span><span class="token-plain" style="opacity:0.3">a</span><span class="token-plain" style="opacity:0.3">s</span><span class="token-plain" style="opacity:0.3">s</span><span class="token-punctuation" style="opacity:0.3">[</span><span class="token-plain" style="opacity:0.3">_</span><span class="token-punctuation" style="opacity:0.3">]</span><span class="token-punctuation" style="opacity:0.3">,</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">d</span><span class="token-plain" style="opacity:0.3">t</span><span class="token-operator" style="opacity:0.3">:</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:0.3">D</span><span class="token-plain" style="opacity:0.3">a</span><span class="token-plain" style="opacity:0.3">t</span><span class="token-plain" style="opacity:0.3">a</span><span class="token-plain" style="opacity:0.3">T</span><span class="token-plain" style="opacity:0.3">y</span><span class="token-plain" style="opacity:0.3">p</span><span class="token-plain" style="opacity:0.3">e</span><span class="token-plain" style="opacity:0.3">W</span><span class="token-plain" style="opacity:0.3">i</span><span class="token-plain" style="opacity:0.3">t</span><span class="token-plain" style="opacity:0.3">h</span><span class="token-plain" style="opacity:0.3">C</span><span class="token-plain" style="opacity:0.3">l</span><span class="token-plain" style="opacity:0.3">a</span><span class="token-plain" style="opacity:0.3">s</span><span class="token-plain" style="opacity:0.3">s</span><span class="token-punctuation" style="opacity:0.3">)</span><span class="token-operator" style="opacity:0.3">:</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-plain" style="opacity:1">E</span><span class="token-plain" style="opacity:1">x</span><span class="token-plain" style="opacity:1">p</span><span class="token-plain" style="opacity:1">r</span><span class="token-plain" style="opacity:1">e</span><span class="token-plain" style="opacity:1">s</span><span class="token-plain" style="opacity:1">s</span><span class="token-plain" style="opacity:1">i</span><span class="token-plain" style="opacity:1">o</span><span class="token-plain" style="opacity:1">n</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-operator" style="opacity:0.3">=</span><span class="token-plain" style="opacity:0.3"> </span><span class="token-punctuation" style="opacity:0.3">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">It&#x27;s called expression, but really it may be the giant code block</span></p></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-plain">  </span><span class="token-comment">/**</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">   * Returns an [[ExprCode]], that contains the Java source code to generate the result of</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">   * evaluating the expression on an input row.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-comment">   *</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-comment">   * @param ctx a [[CodegenContext]]</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-comment">   * @return [[ExprCode]]</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-comment">   */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">  </span><span class="token-keyword">def</span><span class="token-plain"> genCode</span><span class="token-punctuation">(</span><span class="token-plain">ctx</span><span class="token-operator">:</span><span class="token-plain"> CodegenContext</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> ExprCode </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">      </span><span class="token-comment">// ommited</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">  </span><span class="token-punctuation">}</span></div></div><div></div></code></pre><h4 class="cs-title css-d84v96" style="opacity:1"><span style="opacity:1">The most important method</span></h4></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">def</span><span class="token-plain"> serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">cls</span><span class="token-operator">:</span><span class="token-plain"> java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-plain">Class</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span><span class="token-plain"> dt</span><span class="token-operator">:</span><span class="token-plain"> DataTypeWithClass</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> Expression </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> tpe </span><span class="token-operator">=</span><span class="token-plain"> getType</span><span class="token-punctuation">(</span><span class="token-plain">cls</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> clsName </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">tpe</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> walkedTypePath </span><span class="token-operator">=</span><span class="token-plain"> WalkedTypePath</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">recordRoot</span><span class="token-punctuation">(</span><span class="token-plain">clsName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> inputObject </span><span class="token-operator">=</span><span class="token-plain"> BoundReference</span><span class="token-punctuation">(</span><span class="token-number">0</span><span class="token-punctuation">,</span><span class="token-plain"> ObjectType</span><span class="token-punctuation">(</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> nullable </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain">s</span><span class="token-plain">e</span><span class="token-plain">r</span><span class="token-plain">i</span><span class="token-plain">a</span><span class="token-plain">l</span><span class="token-plain">i</span><span class="token-plain">z</span><span class="token-plain">e</span><span class="token-plain">r</span><span class="token-plain">F</span><span class="token-plain">o</span><span class="token-plain">r</span><span class="token-punctuation">(</span><span class="token-plain">i</span><span class="token-plain">n</span><span class="token-plain">p</span><span class="token-plain">u</span><span class="token-plain">t</span><span class="token-plain">O</span><span class="token-plain">b</span><span class="token-plain">j</span><span class="token-plain">e</span><span class="token-plain">c</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-plain">t</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-plain">w</span><span class="token-plain">a</span><span class="token-plain">l</span><span class="token-plain">k</span><span class="token-plain">e</span><span class="token-plain">d</span><span class="token-plain">T</span><span class="token-plain">y</span><span class="token-plain">p</span><span class="token-plain">e</span><span class="token-plain">P</span><span class="token-plain">a</span><span class="token-plain">t</span><span class="token-plain">h</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-plain">p</span><span class="token-plain">r</span><span class="token-plain">e</span><span class="token-plain">d</span><span class="token-plain">e</span><span class="token-plain">f</span><span class="token-plain">i</span><span class="token-plain">n</span><span class="token-plain">e</span><span class="token-plain">d</span><span class="token-plain">D</span><span class="token-plain">t</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-plain">S</span><span class="token-plain">o</span><span class="token-plain">m</span><span class="token-plain">e</span><span class="token-punctuation">(</span><span class="token-plain">d</span><span class="token-plain">t</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Obtain Scala type from Java class</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">def</span><span class="token-plain"> serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">cls</span><span class="token-operator">:</span><span class="token-plain"> java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-plain">Class</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span><span class="token-plain"> dt</span><span class="token-operator">:</span><span class="token-plain"> DataTypeWithClass</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> Expression </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Obtain class name</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">def</span><span class="token-plain"> serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">cls</span><span class="token-operator">:</span><span class="token-plain"> java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-plain">Class</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span><span class="token-plain"> dt</span><span class="token-operator">:</span><span class="token-plain"> DataTypeWithClass</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> Expression </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Walked typed path is used for exceptions to determine what&#x27;s going wrong</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">def</span><span class="token-plain"> serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">cls</span><span class="token-operator">:</span><span class="token-plain"> java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-plain">Class</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span><span class="token-plain"> dt</span><span class="token-operator">:</span><span class="token-plain"> DataTypeWithClass</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> Expression </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Calling recursive serializer creation</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">def</span><span class="token-plain"> serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">cls</span><span class="token-operator">:</span><span class="token-plain"> java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-plain">Class</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span><span class="token-plain"> dt</span><span class="token-operator">:</span><span class="token-plain"> DataTypeWithClass</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> Expression </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Supplying our predefined schema</span></p></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">def</span><span class="token-plain"> serializerFor</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">                            inputObject</span><span class="token-operator">:</span><span class="token-plain"> Expression</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">                            tpe</span><span class="token-operator">:</span><span class="token-plain"> `Type`</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">                            walkedTypePath</span><span class="token-operator">:</span><span class="token-plain"> WalkedTypePath</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">                            seenTypeSet</span><span class="token-operator">:</span><span class="token-plain"> Set</span><span class="token-punctuation">[</span><span class="token-plain">`Type`</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Set</span><span class="token-punctuation">.</span><span class="token-plain">empty</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">                            predefinedDt</span><span class="token-operator">:</span><span class="token-plain"> Option</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> None</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">                            </span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> Expression </span><span class="token-operator">=</span><span class="token-plain"> cleanUpReflectionObjects </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">    </span><span class="token-keyword">def</span><span class="token-plain"> toCatalystArray</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">        input</span><span class="token-operator">:</span><span class="token-plain"> Expression</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">        elementType</span><span class="token-operator">:</span><span class="token-plain"> `Type`</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">        predefinedDt</span><span class="token-operator">:</span><span class="token-plain"> Option</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> None</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> Expression </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">        predefinedDt</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">dt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">getOrElse</span><span class="token-punctuation">(</span><span class="token-plain">dataTypeFor</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">match</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> dt</span><span class="token-operator">:</span><span class="token-plain"> StructType </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> clsName </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> newPath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordArray</span><span class="token-punctuation">(</span><span class="token-plain">clsName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">            createSerializerForMapObjects</span><span class="token-punctuation">(</span><span class="token-plain">input</span><span class="token-punctuation">,</span><span class="token-plain"> ObjectType</span><span class="token-punctuation">(</span><span class="token-plain">predefinedDt</span><span class="token-punctuation">.</span><span class="token-plain">get</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">            serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> elementType</span><span class="token-punctuation">,</span><span class="token-plain"> newPath</span><span class="token-punctuation">,</span><span class="token-plain"> seenTypeSet</span><span class="token-punctuation">,</span><span class="token-plain"> predefinedDt</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> dt</span><span class="token-operator">:</span><span class="token-plain"> ObjectType </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> clsName </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> newPath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordArray</span><span class="token-punctuation">(</span><span class="token-plain">clsName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">            createSerializerForMapObjects</span><span class="token-punctuation">(</span><span class="token-plain">input</span><span class="token-punctuation">,</span><span class="token-plain"> dt</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">            serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> elementType</span><span class="token-punctuation">,</span><span class="token-plain"> newPath</span><span class="token-punctuation">,</span><span class="token-plain"> seenTypeSet</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> dt@</span><span class="token-punctuation">(</span><span class="token-plain">BooleanType </span><span class="token-operator">|</span><span class="token-plain"> ByteType </span><span class="token-operator">|</span><span class="token-plain"> ShortType </span><span class="token-operator">|</span><span class="token-plain"> IntegerType </span><span class="token-operator">|</span><span class="token-plain"> LongType </span><span class="token-operator">|</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-plain">                    FloatType </span><span class="token-operator">|</span><span class="token-plain"> DoubleType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> cls </span><span class="token-operator">=</span><span class="token-plain"> input</span><span class="token-punctuation">.</span><span class="token-plain">dataType</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">ObjectType</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">            </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">cls</span><span class="token-punctuation">.</span><span class="token-plain">isArray </span><span class="token-operator">&amp;&amp;</span><span class="token-plain"> cls</span><span class="token-punctuation">.</span><span class="token-plain">getComponentType</span><span class="token-punctuation">.</span><span class="token-plain">isPrimitive</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-plain">            createSerializerForPrimitiveArray</span><span class="token-punctuation">(</span><span class="token-plain">input</span><span class="token-punctuation">,</span><span class="token-plain"> dt</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-plain">            </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">else</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">            createSerializerForGenericArray</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-plain">                input</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-plain">                dt</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-34"><span class="token-plain">                nullable </span><span class="token-operator">=</span><span class="token-plain"> predefinedDt</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">nullable</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">getOrElse</span><span class="token-punctuation">(</span><span class="token-plain">schemaFor</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">nullable</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-plain">            </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-37"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-38"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> _</span><span class="token-operator">:</span><span class="token-plain"> StringType </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-39"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> clsName </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">typeOf</span><span class="token-punctuation">[</span><span class="token-builtin">String</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-40"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> newPath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordArray</span><span class="token-punctuation">(</span><span class="token-plain">clsName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-41"><span class="token-plain">            createSerializerForMapObjects</span><span class="token-punctuation">(</span><span class="token-plain">input</span><span class="token-punctuation">,</span><span class="token-plain"> ObjectType</span><span class="token-punctuation">(</span><span class="token-plain">Class</span><span class="token-punctuation">.</span><span class="token-plain">forName</span><span class="token-punctuation">(</span><span class="token-plain">getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-42"><span class="token-plain">            serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> elementType</span><span class="token-punctuation">,</span><span class="token-plain"> newPath</span><span class="token-punctuation">,</span><span class="token-plain"> seenTypeSet</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-43"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-44"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> dt </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-46"><span class="token-plain">            createSerializerForGenericArray</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-47"><span class="token-plain">                input</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-48"><span class="token-plain">                dt</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-49"><span class="token-plain">                nullable </span><span class="token-operator">=</span><span class="token-plain"> predefinedDt</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">nullable</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">getOrElse</span><span class="token-punctuation">(</span><span class="token-plain">schemaFor</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">nullable</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-50"><span class="token-plain">            </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-51"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-52"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-53"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-54"><span class="token-plain">    baseType</span><span class="token-punctuation">(</span><span class="token-plain">tpe</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">match</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-55"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-56"><span class="token-plain">        </span><span class="token-comment">//&lt;editor-fold desc=&quot;scala-like&quot;&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-57"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> _ </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-operator">!</span><span class="token-plain">inputObject</span><span class="token-punctuation">.</span><span class="token-plain">dataType</span><span class="token-punctuation">.</span><span class="token-plain">isInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">ObjectType</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">&amp;&amp;</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-58"><span class="token-plain">            </span><span class="token-operator">!</span><span class="token-plain">predefinedDt</span><span class="token-punctuation">.</span><span class="token-plain">exists</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">isInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">ComplexWrapper</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> inputObject</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-59"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-60"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">Option</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-61"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> TypeRef</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> _</span><span class="token-punctuation">,</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">optType</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> t</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-62"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> className </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">optType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-63"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> newPath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordOption</span><span class="token-punctuation">(</span><span class="token-plain">className</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-64"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> unwrapped </span><span class="token-operator">=</span><span class="token-plain"> UnwrapOption</span><span class="token-punctuation">(</span><span class="token-plain">dataTypeFor</span><span class="token-punctuation">(</span><span class="token-plain">optType</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-65"><span class="token-plain">            serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">unwrapped</span><span class="token-punctuation">,</span><span class="token-plain"> optType</span><span class="token-punctuation">,</span><span class="token-plain"> newPath</span><span class="token-punctuation">,</span><span class="token-plain"> seenTypeSet</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-66"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-67"><span class="token-plain">        </span><span class="token-comment">// Since List[_] also belongs to localTypeOf[Product], we put this case before</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-68"><span class="token-plain">        </span><span class="token-comment">// &quot;case t if definedByConstructorParams(t)&quot; to make sure it will match to the</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// case &quot;localTypeOf[Seq[_]]&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-70"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">Seq</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-71"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> TypeRef</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> _</span><span class="token-punctuation">,</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> t</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-72"><span class="token-plain">            toCatalystArray</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">,</span><span class="token-plain"> elementType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-73"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-74"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">Array</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">&amp;&amp;</span><span class="token-plain"> predefinedDt</span><span class="token-punctuation">.</span><span class="token-plain">isEmpty </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-75"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> TypeRef</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> _</span><span class="token-punctuation">,</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> t</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-76"><span class="token-plain">            toCatalystArray</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">,</span><span class="token-plain"> elementType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-77"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-78"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">Map</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> _</span><span class="token-punctuation">]</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-79"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> TypeRef</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> _</span><span class="token-punctuation">,</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> t</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-80"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> keyClsName </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-81"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> valueClsName </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">valueType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-82"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> keyPath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordKeyForMap</span><span class="token-punctuation">(</span><span class="token-plain">keyClsName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-83"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> valuePath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordValueForMap</span><span class="token-punctuation">(</span><span class="token-plain">valueClsName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-84"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-85"><span class="token-plain">            createSerializerForMap</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-86"><span class="token-plain">                inputObject</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-87"><span class="token-plain">                MapElementInformation</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-88"><span class="token-plain">                dataTypeFor</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-89"><span class="token-plain">                nullable </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-operator">!</span><span class="token-plain">keyType</span><span class="token-punctuation">.</span><span class="token-plain">typeSymbol</span><span class="token-punctuation">.</span><span class="token-plain">asClass</span><span class="token-punctuation">.</span><span class="token-plain">isPrimitive</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-90"><span class="token-plain">                serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> keyType</span><span class="token-punctuation">,</span><span class="token-plain"> keyPath</span><span class="token-punctuation">,</span><span class="token-plain"> seenTypeSet</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-91"><span class="token-plain">                MapElementInformation</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-92"><span class="token-plain">                dataTypeFor</span><span class="token-punctuation">(</span><span class="token-plain">valueType</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-93"><span class="token-plain">                nullable </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-operator">!</span><span class="token-plain">valueType</span><span class="token-punctuation">.</span><span class="token-plain">typeSymbol</span><span class="token-punctuation">.</span><span class="token-plain">asClass</span><span class="token-punctuation">.</span><span class="token-plain">isPrimitive</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-94"><span class="token-plain">                serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">,</span><span class="token-plain"> valuePath</span><span class="token-punctuation">,</span><span class="token-plain"> seenTypeSet</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-95"><span class="token-plain">            </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-96"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-97"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">scala</span><span class="token-punctuation">.</span><span class="token-plain">collection</span><span class="token-punctuation">.</span><span class="token-plain">Set</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-98"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> TypeRef</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> _</span><span class="token-punctuation">,</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> t</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-99"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-100"><span class="token-plain">            </span><span class="token-comment">// There&#x27;s no corresponding Catalyst type for `Set`, we serialize a `Set` to Catalyst array.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-101"><span class="token-plain">            </span><span class="token-comment">// Note that the property of `Set` is only kept when manipulating the data as domain object.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-102"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> newInput </span><span class="token-operator">=</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-103"><span class="token-plain">            Invoke</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-104"><span class="token-plain">                inputObject</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-105"><span class="token-plain">                </span><span class="token-string">&quot;toSeq&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-106"><span class="token-plain">                ObjectType</span><span class="token-punctuation">(</span><span class="token-plain">classOf</span><span class="token-punctuation">[</span><span class="token-plain">Seq</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-107"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-108"><span class="token-plain">            toCatalystArray</span><span class="token-punctuation">(</span><span class="token-plain">newInput</span><span class="token-punctuation">,</span><span class="token-plain"> elementType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-109"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-110"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-builtin">String</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-111"><span class="token-plain">            createSerializerForString</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-112"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">time</span><span class="token-punctuation">.</span><span class="token-plain">Instant</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-113"><span class="token-plain">            createSerializerForJavaInstant</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-114"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-115"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">sql</span><span class="token-punctuation">.</span><span class="token-plain">Timestamp</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-116"><span class="token-plain">            createSerializerForSqlTimestamp</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-117"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-118"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">time</span><span class="token-punctuation">.</span><span class="token-plain">LocalDate</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-119"><span class="token-plain">            createSerializerForJavaLocalDate</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-120"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-121"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">sql</span><span class="token-punctuation">.</span><span class="token-plain">Date</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForSqlDate</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-122"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-123"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">BigDecimal</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-124"><span class="token-plain">            createSerializerForScalaBigDecimal</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-125"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-126"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">math</span><span class="token-punctuation">.</span><span class="token-plain">BigDecimal</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-127"><span class="token-plain">            createSerializerForJavaBigDecimal</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-128"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-129"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">math</span><span class="token-punctuation">.</span><span class="token-plain">BigInteger</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-130"><span class="token-plain">            createSerializerForJavaBigInteger</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-131"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-132"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">scala</span><span class="token-punctuation">.</span><span class="token-plain">math</span><span class="token-punctuation">.</span><span class="token-plain">BigInt</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-133"><span class="token-plain">            createSerializerForScalaBigInt</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-134"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-135"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-plain">Integer</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-136"><span class="token-plain">            createSerializerForInteger</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-137"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-builtin">Int</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-138"><span class="token-plain">            createSerializerForInteger</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-139"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-builtin">Long</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForLong</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-140"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-builtin">Long</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForLong</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-141"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-builtin">Double</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForDouble</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-142"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-builtin">Double</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForDouble</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-143"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-builtin">Float</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForFloat</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-144"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-builtin">Float</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForFloat</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-145"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-builtin">Short</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForShort</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-146"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-builtin">Short</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForShort</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-147"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-builtin">Byte</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForByte</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-148"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-builtin">Byte</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForByte</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-149"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-builtin">Boolean</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForBoolean</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-150"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-builtin">Boolean</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForBoolean</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-151"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-152"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-plain">Enum</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-153"><span class="token-plain">            createSerializerForString</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-154"><span class="token-plain">                Invoke</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;name&quot;</span><span class="token-punctuation">,</span><span class="token-plain"> ObjectType</span><span class="token-punctuation">(</span><span class="token-plain">classOf</span><span class="token-punctuation">[</span><span class="token-builtin">String</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> returnNullable </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-155"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-156"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> t</span><span class="token-punctuation">.</span><span class="token-plain">typeSymbol</span><span class="token-punctuation">.</span><span class="token-plain">annotations</span><span class="token-punctuation">.</span><span class="token-plain">exists</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">tree</span><span class="token-punctuation">.</span><span class="token-plain">tpe </span><span class="token-operator">=</span><span class="token-operator">:</span><span class="token-operator">=</span><span class="token-plain"> typeOf</span><span class="token-punctuation">[</span><span class="token-plain">SQLUserDefinedType</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-157"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> udt </span><span class="token-operator">=</span><span class="token-plain"> getClassFromType</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-158"><span class="token-plain">                </span><span class="token-punctuation">.</span><span class="token-plain">getAnnotation</span><span class="token-punctuation">(</span><span class="token-plain">classOf</span><span class="token-punctuation">[</span><span class="token-plain">SQLUserDefinedType</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">udt</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">getConstructor</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">newInstance</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-159"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> udtClass </span><span class="token-operator">=</span><span class="token-plain"> udt</span><span class="token-punctuation">.</span><span class="token-plain">userClass</span><span class="token-punctuation">.</span><span class="token-plain">getAnnotation</span><span class="token-punctuation">(</span><span class="token-plain">classOf</span><span class="token-punctuation">[</span><span class="token-plain">SQLUserDefinedType</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">udt</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-160"><span class="token-plain">            createSerializerForUserDefinedType</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">,</span><span class="token-plain"> udt</span><span class="token-punctuation">,</span><span class="token-plain"> udtClass</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-161"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-162"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> UDTRegistration</span><span class="token-punctuation">.</span><span class="token-plain">exists</span><span class="token-punctuation">(</span><span class="token-plain">getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-163"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> udt </span><span class="token-operator">=</span><span class="token-plain"> UDTRegistration</span><span class="token-punctuation">.</span><span class="token-plain">getUDTFor</span><span class="token-punctuation">(</span><span class="token-plain">getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">get</span><span class="token-punctuation">.</span><span class="token-plain">getConstructor</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-164"><span class="token-plain">                newInstance</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">UserDefinedType</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">]</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-165"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> udtClass </span><span class="token-operator">=</span><span class="token-plain"> udt</span><span class="token-punctuation">.</span><span class="token-plain">getClass</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-166"><span class="token-plain">            createSerializerForUserDefinedType</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">,</span><span class="token-plain"> udt</span><span class="token-punctuation">,</span><span class="token-plain"> udtClass</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-167"><span class="token-plain">        </span><span class="token-comment">//&lt;/editor-fold&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-168"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-169"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> _ </span><span class="token-keyword">if</span><span class="token-plain"> predefinedDt</span><span class="token-punctuation">.</span><span class="token-plain">isDefined </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-170"><span class="token-plain">            predefinedDt</span><span class="token-punctuation">.</span><span class="token-plain">get </span><span class="token-keyword">match</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-171"><span class="token-plain">                </span><span class="token-keyword">case</span><span class="token-plain"> dataType</span><span class="token-operator">:</span><span class="token-plain"> KDataTypeWrapper </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-172"><span class="token-plain">                </span><span class="token-keyword">val</span><span class="token-plain"> cls </span><span class="token-operator">=</span><span class="token-plain"> dataType</span><span class="token-punctuation">.</span><span class="token-plain">cls</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-173"><span class="token-plain">                </span><span class="token-keyword">val</span><span class="token-plain"> properties </span><span class="token-operator">=</span><span class="token-plain"> getJavaBeanReadableProperties</span><span class="token-punctuation">(</span><span class="token-plain">cls</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-174"><span class="token-plain">                </span><span class="token-keyword">val</span><span class="token-plain"> structFields </span><span class="token-operator">=</span><span class="token-plain"> dataType</span><span class="token-punctuation">.</span><span class="token-plain">dt</span><span class="token-punctuation">.</span><span class="token-plain">fields</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">KStructField</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-175"><span class="token-plain">                </span><span class="token-keyword">val</span><span class="token-plain"> fields </span><span class="token-operator">=</span><span class="token-plain"> structFields</span><span class="token-punctuation">.</span><span class="token-plain">map </span><span class="token-punctuation">{</span><span class="token-plain"> structField </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-176"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> maybeProp </span><span class="token-operator">=</span><span class="token-plain"> properties</span><span class="token-punctuation">.</span><span class="token-plain">find</span><span class="token-punctuation">(</span><span class="token-plain">it </span><span class="token-keyword">=&gt;</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">getReadMethod</span><span class="token-punctuation">.</span><span class="token-plain">getName </span><span class="token-operator">==</span><span class="token-plain"> structField</span><span class="token-punctuation">.</span><span class="token-plain">getterName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-177"><span class="token-plain">                    </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">maybeProp</span><span class="token-punctuation">.</span><span class="token-plain">isEmpty</span><span class="token-punctuation">)</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-178"><span class="token-plain">                        </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> IllegalArgumentException</span><span class="token-punctuation">(</span><span class="token-plain">s</span><span class="token-triple-quoted-string">&quot;&quot;&quot;Field ${structField.name} is not</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-179"><span class="token-triple-quoted-string">                            found among available props, which are: ${properties.map(_.getName).mkString(&quot;, &quot;)}&quot;&quot;&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-180"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> fieldName </span><span class="token-operator">=</span><span class="token-plain"> structField</span><span class="token-punctuation">.</span><span class="token-plain">name</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-181"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> propClass </span><span class="token-operator">=</span><span class="token-plain"> structField</span><span class="token-punctuation">.</span><span class="token-plain">dataType</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-182"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> propDt </span><span class="token-operator">=</span><span class="token-plain"> structField</span><span class="token-punctuation">.</span><span class="token-plain">dataType</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-183"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> fieldValue </span><span class="token-operator">=</span><span class="token-plain"> Invoke</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-184"><span class="token-plain">                        inputObject</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-185"><span class="token-plain">                        maybeProp</span><span class="token-punctuation">.</span><span class="token-plain">get</span><span class="token-punctuation">.</span><span class="token-plain">getReadMethod</span><span class="token-punctuation">.</span><span class="token-plain">getName</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-186"><span class="token-plain">                        inferExternalType</span><span class="token-punctuation">(</span><span class="token-plain">propClass</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-187"><span class="token-plain">                        returnNullable </span><span class="token-operator">=</span><span class="token-plain"> propDt</span><span class="token-punctuation">.</span><span class="token-plain">nullable</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-188"><span class="token-plain">                    </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-189"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> newPath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordField</span><span class="token-punctuation">(</span><span class="token-plain">propClass</span><span class="token-punctuation">.</span><span class="token-plain">getName</span><span class="token-punctuation">,</span><span class="token-plain"> fieldName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-190"><span class="token-plain">                    </span><span class="token-punctuation">(</span><span class="token-plain">fieldName</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-191"><span class="token-plain">                    serializerFor</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-192"><span class="token-plain">                        fieldValue</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-193"><span class="token-plain">                        getType</span><span class="token-punctuation">(</span><span class="token-plain">propClass</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-194"><span class="token-plain">                        newPath</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-195"><span class="token-plain">                        seenTypeSet</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">propDt</span><span class="token-punctuation">.</span><span class="token-plain">isInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">ComplexWrapper</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> Some</span><span class="token-punctuation">(</span><span class="token-plain">propDt</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">else</span><span class="token-plain"> None</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-196"><span class="token-plain">                    </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-197"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-198"><span class="token-plain">                </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-199"><span class="token-plain">                createSerializerForObject</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">,</span><span class="token-plain"> fields</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-200"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-201"><span class="token-plain">                </span><span class="token-keyword">case</span><span class="token-plain"> otherTypeWrapper</span><span class="token-operator">:</span><span class="token-plain"> ComplexWrapper </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-202"><span class="token-plain">                otherTypeWrapper</span><span class="token-punctuation">.</span><span class="token-plain">dt </span><span class="token-keyword">match</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-203"><span class="token-plain">                    </span><span class="token-keyword">case</span><span class="token-plain"> MapType</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">,</span><span class="token-plain"> _</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-204"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">getType</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-205"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyDT</span><span class="token-punctuation">,</span><span class="token-plain"> valueDT</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-206"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> keyClsName </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-207"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> valueClsName </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">valueType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-208"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> keyPath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordKeyForMap</span><span class="token-punctuation">(</span><span class="token-plain">keyClsName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-209"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> valuePath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordValueForMap</span><span class="token-punctuation">(</span><span class="token-plain">valueClsName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-210"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-211"><span class="token-plain">                    createSerializerForMap</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-212"><span class="token-plain">                        inputObject</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-213"><span class="token-plain">                        MapElementInformation</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-214"><span class="token-plain">                        dataTypeFor</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-215"><span class="token-plain">                        nullable </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-operator">!</span><span class="token-plain">keyType</span><span class="token-punctuation">.</span><span class="token-plain">typeSymbol</span><span class="token-punctuation">.</span><span class="token-plain">asClass</span><span class="token-punctuation">.</span><span class="token-plain">isPrimitive</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-216"><span class="token-plain">                        serializerFor</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-217"><span class="token-plain">                            _</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-218"><span class="token-plain">                            keyType</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-219"><span class="token-plain">                            keyPath</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-220"><span class="token-plain">                            seenTypeSet</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-221"><span class="token-plain">                            Some</span><span class="token-punctuation">(</span><span class="token-plain">keyDT</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">filter</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">isInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">ComplexWrapper</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-222"><span class="token-plain">                        </span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-223"><span class="token-plain">                        MapElementInformation</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-224"><span class="token-plain">                        dataTypeFor</span><span class="token-punctuation">(</span><span class="token-plain">valueType</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-225"><span class="token-plain">                        nullable </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-operator">!</span><span class="token-plain">valueType</span><span class="token-punctuation">.</span><span class="token-plain">typeSymbol</span><span class="token-punctuation">.</span><span class="token-plain">asClass</span><span class="token-punctuation">.</span><span class="token-plain">isPrimitive</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-226"><span class="token-plain">                        serializerFor</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-227"><span class="token-plain">                            _</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-228"><span class="token-plain">                            valueType</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-229"><span class="token-plain">                            valuePath</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-230"><span class="token-plain">                            seenTypeSet</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-231"><span class="token-plain">                            Some</span><span class="token-punctuation">(</span><span class="token-plain">valueDT</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">filter</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">isInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">ComplexWrapper</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-232"><span class="token-plain">                        </span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-233"><span class="token-plain">                    </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-234"><span class="token-plain">                    </span><span class="token-keyword">case</span><span class="token-plain"> ArrayType</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">,</span><span class="token-plain"> _</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-235"><span class="token-plain">                    toCatalystArray</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-236"><span class="token-plain">                        inputObject</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-237"><span class="token-plain">                        getType</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-238"><span class="token-plain">                        Some</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-239"><span class="token-plain">                    </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-240"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-241"><span class="token-plain">                    </span><span class="token-keyword">case</span><span class="token-plain"> StructType</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-operator">:</span><span class="token-plain"> Array</span><span class="token-punctuation">[</span><span class="token-plain">StructField</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-242"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> cls </span><span class="token-operator">=</span><span class="token-plain"> otherTypeWrapper</span><span class="token-punctuation">.</span><span class="token-plain">cls</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-243"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> names </span><span class="token-operator">=</span><span class="token-plain"> elementType</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-244"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-245"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> beanInfo </span><span class="token-operator">=</span><span class="token-plain"> Introspector</span><span class="token-punctuation">.</span><span class="token-plain">getBeanInfo</span><span class="token-punctuation">(</span><span class="token-plain">cls</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-246"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> methods </span><span class="token-operator">=</span><span class="token-plain"> beanInfo</span><span class="token-punctuation">.</span><span class="token-plain">getMethodDescriptors</span><span class="token-punctuation">.</span><span class="token-plain">filter</span><span class="token-punctuation">(</span><span class="token-plain">it </span><span class="token-keyword">=&gt;</span><span class="token-plain"> names</span><span class="token-punctuation">.</span><span class="token-plain">contains</span><span class="token-punctuation">(</span><span class="token-plain">it</span><span class="token-punctuation">.</span><span class="token-plain">getName</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-247"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-248"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-249"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> fields </span><span class="token-operator">=</span><span class="token-plain"> elementType</span><span class="token-punctuation">.</span><span class="token-plain">map </span><span class="token-punctuation">{</span><span class="token-plain"> structField </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-250"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-251"><span class="token-plain">                        </span><span class="token-keyword">val</span><span class="token-plain"> maybeProp </span><span class="token-operator">=</span><span class="token-plain"> methods</span><span class="token-punctuation">.</span><span class="token-plain">find</span><span class="token-punctuation">(</span><span class="token-plain">it </span><span class="token-keyword">=&gt;</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">getName </span><span class="token-operator">==</span><span class="token-plain"> structField</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-252"><span class="token-plain">                        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">maybeProp</span><span class="token-punctuation">.</span><span class="token-plain">isEmpty</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> IllegalArgumentException</span><span class="token-punctuation">(</span><span class="token-plain">s</span><span class="token-triple-quoted-string">&quot;&quot;&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-253"><span class="token-triple-quoted-string">                        Field ${structField.name} is not found among available props, </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-254"><span class="token-triple-quoted-string">                        which are: ${methods.map(_.getName).mkString(&quot;, &quot;)}&quot;&quot;&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-255"><span class="token-plain">                        </span><span class="token-keyword">val</span><span class="token-plain"> fieldName </span><span class="token-operator">=</span><span class="token-plain"> structField</span><span class="token-punctuation">.</span><span class="token-plain">name</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-256"><span class="token-plain">                        </span><span class="token-keyword">val</span><span class="token-plain"> propClass </span><span class="token-operator">=</span><span class="token-plain"> structField</span><span class="token-punctuation">.</span><span class="token-plain">dataType</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-257"><span class="token-plain">                        </span><span class="token-keyword">val</span><span class="token-plain"> propDt </span><span class="token-operator">=</span><span class="token-plain"> structField</span><span class="token-punctuation">.</span><span class="token-plain">dataType</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-258"><span class="token-plain">                        </span><span class="token-keyword">val</span><span class="token-plain"> fieldValue </span><span class="token-operator">=</span><span class="token-plain"> Invoke</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-259"><span class="token-plain">                        inputObject</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-260"><span class="token-plain">                        maybeProp</span><span class="token-punctuation">.</span><span class="token-plain">get</span><span class="token-punctuation">.</span><span class="token-plain">getName</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-261"><span class="token-plain">                        inferExternalType</span><span class="token-punctuation">(</span><span class="token-plain">propClass</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-262"><span class="token-plain">                        returnNullable </span><span class="token-operator">=</span><span class="token-plain"> propDt</span><span class="token-punctuation">.</span><span class="token-plain">nullable</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-263"><span class="token-plain">                        </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-264"><span class="token-plain">                        </span><span class="token-keyword">val</span><span class="token-plain"> newPath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordField</span><span class="token-punctuation">(</span><span class="token-plain">propClass</span><span class="token-punctuation">.</span><span class="token-plain">getName</span><span class="token-punctuation">,</span><span class="token-plain"> fieldName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-265"><span class="token-plain">                        </span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-266"><span class="token-plain">                            fieldName</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-267"><span class="token-plain">                            serializerFor</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-268"><span class="token-plain">                                fieldValue</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-269"><span class="token-plain">                                getType</span><span class="token-punctuation">(</span><span class="token-plain">propClass</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-270"><span class="token-plain">                                newPath</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-271"><span class="token-plain">                                seenTypeSet</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-272"><span class="token-plain">                                </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">propDt</span><span class="token-punctuation">.</span><span class="token-plain">isInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">ComplexWrapper</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> Some</span><span class="token-punctuation">(</span><span class="token-plain">propDt</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">else</span><span class="token-plain"> None</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-273"><span class="token-plain">                            </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-274"><span class="token-plain">                        </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-275"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-276"><span class="token-plain">                    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-277"><span class="token-plain">                    createSerializerForObject</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">,</span><span class="token-plain"> fields</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-278"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-279"><span class="token-plain">                </span><span class="token-keyword">case</span><span class="token-plain"> _ </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-280"><span class="token-plain">                    </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> UnsupportedOperationException</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-281"><span class="token-plain">                        s</span><span class="token-string">&quot;No Encoder found for $tpe\n&quot;</span><span class="token-plain"> </span><span class="token-operator">+</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-282"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-283"><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-284"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-285"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-286"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> definedByConstructorParams</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-287"><span class="token-plain">            </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">seenTypeSet</span><span class="token-punctuation">.</span><span class="token-plain">contains</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-288"><span class="token-plain">                </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> UnsupportedOperationException</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-289"><span class="token-plain">                s</span><span class="token-string">&quot;cannot have circular references in class, but got the circular reference of class $t&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-290"><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-291"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-292"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> params </span><span class="token-operator">=</span><span class="token-plain"> getConstructorParameters</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-293"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> fields </span><span class="token-operator">=</span><span class="token-plain"> params</span><span class="token-punctuation">.</span><span class="token-plain">map </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-keyword">case</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">fieldName</span><span class="token-punctuation">,</span><span class="token-plain"> fieldType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-294"><span class="token-plain">                </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">javaKeywords</span><span class="token-punctuation">.</span><span class="token-plain">contains</span><span class="token-punctuation">(</span><span class="token-plain">fieldName</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-295"><span class="token-plain">                </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> UnsupportedOperationException</span><span class="token-punctuation">(</span><span class="token-plain">s</span><span class="token-string">&quot;`$fieldName` is a reserved keyword and &quot;</span><span class="token-plain"> </span><span class="token-operator">+</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-296"><span class="token-plain">                    </span><span class="token-string">&quot;cannot be used as field name\n&quot;</span><span class="token-plain"> </span><span class="token-operator">+</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-297"><span class="token-plain">                </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-298"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-299"><span class="token-plain">                </span><span class="token-comment">// SPARK-26730 inputObject won&#x27;t be null with If&#x27;s guard below. And KnownNotNul</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-300"><span class="token-plain">                </span><span class="token-comment">// is necessary here. Because for a nullable nested inputObject with struct data</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-301"><span class="token-plain">                </span><span class="token-comment">// type, e.g. StructType(IntegerType, StringType), it will return nullable=true</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-302"><span class="token-plain">                </span><span class="token-comment">// for IntegerType without KnownNotNull. And that&#x27;s what we do not expect to.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-303"><span class="token-plain">                </span><span class="token-keyword">val</span><span class="token-plain"> fieldValue </span><span class="token-operator">=</span><span class="token-plain"> Invoke</span><span class="token-punctuation">(</span><span class="token-plain">KnownNotNull</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> fieldName</span><span class="token-punctuation">,</span><span class="token-plain"> dataTypeFor</span><span class="token-punctuation">(</span><span class="token-plain">fieldType</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-304"><span class="token-plain">                returnNullable </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-operator">!</span><span class="token-plain">fieldType</span><span class="token-punctuation">.</span><span class="token-plain">typeSymbol</span><span class="token-punctuation">.</span><span class="token-plain">asClass</span><span class="token-punctuation">.</span><span class="token-plain">isPrimitive</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-305"><span class="token-plain">                </span><span class="token-keyword">val</span><span class="token-plain"> clsName </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">fieldType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-306"><span class="token-plain">                </span><span class="token-keyword">val</span><span class="token-plain"> newPath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordField</span><span class="token-punctuation">(</span><span class="token-plain">clsName</span><span class="token-punctuation">,</span><span class="token-plain"> fieldName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-307"><span class="token-plain">                </span><span class="token-punctuation">(</span><span class="token-plain">fieldName</span><span class="token-punctuation">,</span><span class="token-plain"> serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">fieldValue</span><span class="token-punctuation">,</span><span class="token-plain"> fieldType</span><span class="token-punctuation">,</span><span class="token-plain"> newPath</span><span class="token-punctuation">,</span><span class="token-plain"> seenTypeSet </span><span class="token-operator">+</span><span class="token-plain"> t</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-308"><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-309"><span class="token-plain">            createSerializerForObject</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">,</span><span class="token-plain"> fields</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-310"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-311"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> _ </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-312"><span class="token-plain">            </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> UnsupportedOperationException</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-313"><span class="token-plain">                s</span><span class="token-string">&quot;No Encoder found for $tpe\n&quot;</span><span class="token-plain"> </span><span class="token-operator">+</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-314"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-315"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">316-line-height</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-204"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">getType</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-204"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">getType</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">simple input object</span></p></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">def</span><span class="token-plain"> createSerializerForString</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-operator">:</span><span class="token-plain"> Expression</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> Expression </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">    StaticInvoke</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">        classOf</span><span class="token-punctuation">[</span><span class="token-plain">UTF8String</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">        StringType</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">        </span><span class="token-string">&quot;fromString&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">        inputObject </span><span class="token-operator">::</span><span class="token-plain"> Nil</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">        returnNullable </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">def</span><span class="token-plain"> serializerFor</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">                            inputObject</span><span class="token-operator">:</span><span class="token-plain"> Expression</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">                            tpe</span><span class="token-operator">:</span><span class="token-plain"> `Type`</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">                            walkedTypePath</span><span class="token-operator">:</span><span class="token-plain"> WalkedTypePath</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">                            seenTypeSet</span><span class="token-operator">:</span><span class="token-plain"> Set</span><span class="token-punctuation">[</span><span class="token-plain">`Type`</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Set</span><span class="token-punctuation">.</span><span class="token-plain">empty</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">                            predefinedDt</span><span class="token-operator">:</span><span class="token-plain"> Option</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> None</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">                            </span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> Expression </span><span class="token-operator">=</span><span class="token-plain"> cleanUpReflectionObjects </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">    </span><span class="token-keyword">def</span><span class="token-plain"> toCatalystArray</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">        input</span><span class="token-operator">:</span><span class="token-plain"> Expression</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">        elementType</span><span class="token-operator">:</span><span class="token-plain"> `Type`</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">        predefinedDt</span><span class="token-operator">:</span><span class="token-plain"> Option</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> None</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> Expression </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">        predefinedDt</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">dt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">getOrElse</span><span class="token-punctuation">(</span><span class="token-plain">dataTypeFor</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">match</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> dt</span><span class="token-operator">:</span><span class="token-plain"> StructType </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> clsName </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> newPath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordArray</span><span class="token-punctuation">(</span><span class="token-plain">clsName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">            createSerializerForMapObjects</span><span class="token-punctuation">(</span><span class="token-plain">input</span><span class="token-punctuation">,</span><span class="token-plain"> ObjectType</span><span class="token-punctuation">(</span><span class="token-plain">predefinedDt</span><span class="token-punctuation">.</span><span class="token-plain">get</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">            serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> elementType</span><span class="token-punctuation">,</span><span class="token-plain"> newPath</span><span class="token-punctuation">,</span><span class="token-plain"> seenTypeSet</span><span class="token-punctuation">,</span><span class="token-plain"> predefinedDt</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> dt</span><span class="token-operator">:</span><span class="token-plain"> ObjectType </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> clsName </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> newPath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordArray</span><span class="token-punctuation">(</span><span class="token-plain">clsName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">            createSerializerForMapObjects</span><span class="token-punctuation">(</span><span class="token-plain">input</span><span class="token-punctuation">,</span><span class="token-plain"> dt</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">            serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> elementType</span><span class="token-punctuation">,</span><span class="token-plain"> newPath</span><span class="token-punctuation">,</span><span class="token-plain"> seenTypeSet</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> dt@</span><span class="token-punctuation">(</span><span class="token-plain">BooleanType </span><span class="token-operator">|</span><span class="token-plain"> ByteType </span><span class="token-operator">|</span><span class="token-plain"> ShortType </span><span class="token-operator">|</span><span class="token-plain"> IntegerType </span><span class="token-operator">|</span><span class="token-plain"> LongType </span><span class="token-operator">|</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-plain">                    FloatType </span><span class="token-operator">|</span><span class="token-plain"> DoubleType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> cls </span><span class="token-operator">=</span><span class="token-plain"> input</span><span class="token-punctuation">.</span><span class="token-plain">dataType</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">ObjectType</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">            </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">cls</span><span class="token-punctuation">.</span><span class="token-plain">isArray </span><span class="token-operator">&amp;&amp;</span><span class="token-plain"> cls</span><span class="token-punctuation">.</span><span class="token-plain">getComponentType</span><span class="token-punctuation">.</span><span class="token-plain">isPrimitive</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-plain">            createSerializerForPrimitiveArray</span><span class="token-punctuation">(</span><span class="token-plain">input</span><span class="token-punctuation">,</span><span class="token-plain"> dt</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-plain">            </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">else</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">            createSerializerForGenericArray</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-plain">                input</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-plain">                dt</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-34"><span class="token-plain">                nullable </span><span class="token-operator">=</span><span class="token-plain"> predefinedDt</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">nullable</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">getOrElse</span><span class="token-punctuation">(</span><span class="token-plain">schemaFor</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">nullable</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-plain">            </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-37"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-38"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> _</span><span class="token-operator">:</span><span class="token-plain"> StringType </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-39"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> clsName </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">typeOf</span><span class="token-punctuation">[</span><span class="token-builtin">String</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-40"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> newPath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordArray</span><span class="token-punctuation">(</span><span class="token-plain">clsName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-41"><span class="token-plain">            createSerializerForMapObjects</span><span class="token-punctuation">(</span><span class="token-plain">input</span><span class="token-punctuation">,</span><span class="token-plain"> ObjectType</span><span class="token-punctuation">(</span><span class="token-plain">Class</span><span class="token-punctuation">.</span><span class="token-plain">forName</span><span class="token-punctuation">(</span><span class="token-plain">getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-42"><span class="token-plain">            serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> elementType</span><span class="token-punctuation">,</span><span class="token-plain"> newPath</span><span class="token-punctuation">,</span><span class="token-plain"> seenTypeSet</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-43"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-44"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> dt </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-46"><span class="token-plain">            createSerializerForGenericArray</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-47"><span class="token-plain">                input</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-48"><span class="token-plain">                dt</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-49"><span class="token-plain">                nullable </span><span class="token-operator">=</span><span class="token-plain"> predefinedDt</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">nullable</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">getOrElse</span><span class="token-punctuation">(</span><span class="token-plain">schemaFor</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">nullable</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-50"><span class="token-plain">            </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-51"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-52"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-53"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-54"><span class="token-plain">    baseType</span><span class="token-punctuation">(</span><span class="token-plain">tpe</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">match</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-55"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-56"><span class="token-plain">        </span><span class="token-comment">//&lt;editor-fold desc=&quot;scala-like&quot;&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-57"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> _ </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-operator">!</span><span class="token-plain">inputObject</span><span class="token-punctuation">.</span><span class="token-plain">dataType</span><span class="token-punctuation">.</span><span class="token-plain">isInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">ObjectType</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">&amp;&amp;</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-58"><span class="token-plain">            </span><span class="token-operator">!</span><span class="token-plain">predefinedDt</span><span class="token-punctuation">.</span><span class="token-plain">exists</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">isInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">ComplexWrapper</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> inputObject</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-59"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-60"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">Option</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-61"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> TypeRef</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> _</span><span class="token-punctuation">,</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">optType</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> t</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-62"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> className </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">optType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-63"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> newPath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordOption</span><span class="token-punctuation">(</span><span class="token-plain">className</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-64"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> unwrapped </span><span class="token-operator">=</span><span class="token-plain"> UnwrapOption</span><span class="token-punctuation">(</span><span class="token-plain">dataTypeFor</span><span class="token-punctuation">(</span><span class="token-plain">optType</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-65"><span class="token-plain">            serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">unwrapped</span><span class="token-punctuation">,</span><span class="token-plain"> optType</span><span class="token-punctuation">,</span><span class="token-plain"> newPath</span><span class="token-punctuation">,</span><span class="token-plain"> seenTypeSet</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-66"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-67"><span class="token-plain">        </span><span class="token-comment">// Since List[_] also belongs to localTypeOf[Product], we put this case before</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-68"><span class="token-plain">        </span><span class="token-comment">// &quot;case t if definedByConstructorParams(t)&quot; to make sure it will match to the</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">        </span><span class="token-comment">// case &quot;localTypeOf[Seq[_]]&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-70"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">Seq</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-71"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> TypeRef</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> _</span><span class="token-punctuation">,</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> t</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-72"><span class="token-plain">            toCatalystArray</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">,</span><span class="token-plain"> elementType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-73"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-74"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">Array</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">&amp;&amp;</span><span class="token-plain"> predefinedDt</span><span class="token-punctuation">.</span><span class="token-plain">isEmpty </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-75"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> TypeRef</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> _</span><span class="token-punctuation">,</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> t</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-76"><span class="token-plain">            toCatalystArray</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">,</span><span class="token-plain"> elementType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-77"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-78"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">Map</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> _</span><span class="token-punctuation">]</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-79"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> TypeRef</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> _</span><span class="token-punctuation">,</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> t</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-80"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> keyClsName </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-81"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> valueClsName </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">valueType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-82"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> keyPath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordKeyForMap</span><span class="token-punctuation">(</span><span class="token-plain">keyClsName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-83"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> valuePath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordValueForMap</span><span class="token-punctuation">(</span><span class="token-plain">valueClsName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-84"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-85"><span class="token-plain">            createSerializerForMap</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-86"><span class="token-plain">                inputObject</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-87"><span class="token-plain">                MapElementInformation</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-88"><span class="token-plain">                dataTypeFor</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-89"><span class="token-plain">                nullable </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-operator">!</span><span class="token-plain">keyType</span><span class="token-punctuation">.</span><span class="token-plain">typeSymbol</span><span class="token-punctuation">.</span><span class="token-plain">asClass</span><span class="token-punctuation">.</span><span class="token-plain">isPrimitive</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-90"><span class="token-plain">                serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> keyType</span><span class="token-punctuation">,</span><span class="token-plain"> keyPath</span><span class="token-punctuation">,</span><span class="token-plain"> seenTypeSet</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-91"><span class="token-plain">                MapElementInformation</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-92"><span class="token-plain">                dataTypeFor</span><span class="token-punctuation">(</span><span class="token-plain">valueType</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-93"><span class="token-plain">                nullable </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-operator">!</span><span class="token-plain">valueType</span><span class="token-punctuation">.</span><span class="token-plain">typeSymbol</span><span class="token-punctuation">.</span><span class="token-plain">asClass</span><span class="token-punctuation">.</span><span class="token-plain">isPrimitive</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-94"><span class="token-plain">                serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">,</span><span class="token-plain"> valuePath</span><span class="token-punctuation">,</span><span class="token-plain"> seenTypeSet</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-95"><span class="token-plain">            </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-96"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-97"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">scala</span><span class="token-punctuation">.</span><span class="token-plain">collection</span><span class="token-punctuation">.</span><span class="token-plain">Set</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-98"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> TypeRef</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">,</span><span class="token-plain"> _</span><span class="token-punctuation">,</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> t</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-99"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-100"><span class="token-plain">            </span><span class="token-comment">// There&#x27;s no corresponding Catalyst type for `Set`, we serialize a `Set` to Catalyst array.</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-101"><span class="token-plain">            </span><span class="token-comment">// Note that the property of `Set` is only kept when manipulating the data as domain object.</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-102"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> newInput </span><span class="token-operator">=</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-103"><span class="token-plain">            Invoke</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-104"><span class="token-plain">                inputObject</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-105"><span class="token-plain">                </span><span class="token-string">&quot;toSeq&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-106"><span class="token-plain">                ObjectType</span><span class="token-punctuation">(</span><span class="token-plain">classOf</span><span class="token-punctuation">[</span><span class="token-plain">Seq</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-107"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-108"><span class="token-plain">            toCatalystArray</span><span class="token-punctuation">(</span><span class="token-plain">newInput</span><span class="token-punctuation">,</span><span class="token-plain"> elementType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-109"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-110"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-builtin">String</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-111"><span class="token-plain">            createSerializerForString</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-112"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">time</span><span class="token-punctuation">.</span><span class="token-plain">Instant</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-113"><span class="token-plain">            createSerializerForJavaInstant</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-114"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-115"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">sql</span><span class="token-punctuation">.</span><span class="token-plain">Timestamp</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-116"><span class="token-plain">            createSerializerForSqlTimestamp</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-117"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-118"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">time</span><span class="token-punctuation">.</span><span class="token-plain">LocalDate</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-119"><span class="token-plain">            createSerializerForJavaLocalDate</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-120"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-121"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">sql</span><span class="token-punctuation">.</span><span class="token-plain">Date</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForSqlDate</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-122"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-123"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">BigDecimal</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-124"><span class="token-plain">            createSerializerForScalaBigDecimal</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-125"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-126"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">math</span><span class="token-punctuation">.</span><span class="token-plain">BigDecimal</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-127"><span class="token-plain">            createSerializerForJavaBigDecimal</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-128"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-129"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">math</span><span class="token-punctuation">.</span><span class="token-plain">BigInteger</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-130"><span class="token-plain">            createSerializerForJavaBigInteger</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-131"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-132"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">scala</span><span class="token-punctuation">.</span><span class="token-plain">math</span><span class="token-punctuation">.</span><span class="token-plain">BigInt</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-133"><span class="token-plain">            createSerializerForScalaBigInt</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-134"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-135"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-plain">Integer</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-136"><span class="token-plain">            createSerializerForInteger</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-137"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-builtin">Int</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-138"><span class="token-plain">            createSerializerForInteger</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-139"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-builtin">Long</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForLong</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-140"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-builtin">Long</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForLong</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-141"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-builtin">Double</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForDouble</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-142"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-builtin">Double</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForDouble</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-143"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-builtin">Float</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForFloat</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-144"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-builtin">Float</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForFloat</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-145"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-builtin">Short</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForShort</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-146"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-builtin">Short</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForShort</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-147"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-builtin">Byte</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForByte</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-148"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-builtin">Byte</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForByte</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-149"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-builtin">Boolean</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForBoolean</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-150"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-builtin">Boolean</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> createSerializerForBoolean</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-151"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-152"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> isSubtype</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">,</span><span class="token-plain"> localTypeOf</span><span class="token-punctuation">[</span><span class="token-plain">java</span><span class="token-punctuation">.</span><span class="token-plain">lang</span><span class="token-punctuation">.</span><span class="token-plain">Enum</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-153"><span class="token-plain">            createSerializerForString</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-154"><span class="token-plain">                Invoke</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;name&quot;</span><span class="token-punctuation">,</span><span class="token-plain"> ObjectType</span><span class="token-punctuation">(</span><span class="token-plain">classOf</span><span class="token-punctuation">[</span><span class="token-builtin">String</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> returnNullable </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-155"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-156"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> t</span><span class="token-punctuation">.</span><span class="token-plain">typeSymbol</span><span class="token-punctuation">.</span><span class="token-plain">annotations</span><span class="token-punctuation">.</span><span class="token-plain">exists</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">tree</span><span class="token-punctuation">.</span><span class="token-plain">tpe </span><span class="token-operator">=</span><span class="token-operator">:</span><span class="token-operator">=</span><span class="token-plain"> typeOf</span><span class="token-punctuation">[</span><span class="token-plain">SQLUserDefinedType</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-157"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> udt </span><span class="token-operator">=</span><span class="token-plain"> getClassFromType</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-158"><span class="token-plain">                </span><span class="token-punctuation">.</span><span class="token-plain">getAnnotation</span><span class="token-punctuation">(</span><span class="token-plain">classOf</span><span class="token-punctuation">[</span><span class="token-plain">SQLUserDefinedType</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">udt</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">getConstructor</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">newInstance</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-159"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> udtClass </span><span class="token-operator">=</span><span class="token-plain"> udt</span><span class="token-punctuation">.</span><span class="token-plain">userClass</span><span class="token-punctuation">.</span><span class="token-plain">getAnnotation</span><span class="token-punctuation">(</span><span class="token-plain">classOf</span><span class="token-punctuation">[</span><span class="token-plain">SQLUserDefinedType</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">udt</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-160"><span class="token-plain">            createSerializerForUserDefinedType</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">,</span><span class="token-plain"> udt</span><span class="token-punctuation">,</span><span class="token-plain"> udtClass</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-161"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-162"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> UDTRegistration</span><span class="token-punctuation">.</span><span class="token-plain">exists</span><span class="token-punctuation">(</span><span class="token-plain">getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-163"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> udt </span><span class="token-operator">=</span><span class="token-plain"> UDTRegistration</span><span class="token-punctuation">.</span><span class="token-plain">getUDTFor</span><span class="token-punctuation">(</span><span class="token-plain">getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">get</span><span class="token-punctuation">.</span><span class="token-plain">getConstructor</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-164"><span class="token-plain">                newInstance</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">UserDefinedType</span><span class="token-punctuation">[</span><span class="token-plain">_</span><span class="token-punctuation">]</span><span class="token-punctuation">]</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-165"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> udtClass </span><span class="token-operator">=</span><span class="token-plain"> udt</span><span class="token-punctuation">.</span><span class="token-plain">getClass</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-166"><span class="token-plain">            createSerializerForUserDefinedType</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">,</span><span class="token-plain"> udt</span><span class="token-punctuation">,</span><span class="token-plain"> udtClass</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-167"><span class="token-plain">        </span><span class="token-comment">//&lt;/editor-fold&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-168"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-169"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> _ </span><span class="token-keyword">if</span><span class="token-plain"> predefinedDt</span><span class="token-punctuation">.</span><span class="token-plain">isDefined </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-170"><span class="token-plain">            predefinedDt</span><span class="token-punctuation">.</span><span class="token-plain">get </span><span class="token-keyword">match</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-171"><span class="token-plain">                </span><span class="token-keyword">case</span><span class="token-plain"> dataType</span><span class="token-operator">:</span><span class="token-plain"> KDataTypeWrapper </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-172"><span class="token-plain">                </span><span class="token-keyword">val</span><span class="token-plain"> cls </span><span class="token-operator">=</span><span class="token-plain"> dataType</span><span class="token-punctuation">.</span><span class="token-plain">cls</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-173"><span class="token-plain">                </span><span class="token-keyword">val</span><span class="token-plain"> properties </span><span class="token-operator">=</span><span class="token-plain"> getJavaBeanReadableProperties</span><span class="token-punctuation">(</span><span class="token-plain">cls</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-174"><span class="token-plain">                </span><span class="token-keyword">val</span><span class="token-plain"> structFields </span><span class="token-operator">=</span><span class="token-plain"> dataType</span><span class="token-punctuation">.</span><span class="token-plain">dt</span><span class="token-punctuation">.</span><span class="token-plain">fields</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">KStructField</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-175"><span class="token-plain">                </span><span class="token-keyword">val</span><span class="token-plain"> fields </span><span class="token-operator">=</span><span class="token-plain"> structFields</span><span class="token-punctuation">.</span><span class="token-plain">map </span><span class="token-punctuation">{</span><span class="token-plain"> structField </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-176"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> maybeProp </span><span class="token-operator">=</span><span class="token-plain"> properties</span><span class="token-punctuation">.</span><span class="token-plain">find</span><span class="token-punctuation">(</span><span class="token-plain">it </span><span class="token-keyword">=&gt;</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">getReadMethod</span><span class="token-punctuation">.</span><span class="token-plain">getName </span><span class="token-operator">==</span><span class="token-plain"> structField</span><span class="token-punctuation">.</span><span class="token-plain">getterName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-177"><span class="token-plain">                    </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">maybeProp</span><span class="token-punctuation">.</span><span class="token-plain">isEmpty</span><span class="token-punctuation">)</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-178"><span class="token-plain">                        </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> IllegalArgumentException</span><span class="token-punctuation">(</span><span class="token-plain">s</span><span class="token-triple-quoted-string">&quot;&quot;&quot;Field ${structField.name} is not</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-179"><span class="token-triple-quoted-string">                            found among available props, which are: ${properties.map(_.getName).mkString(&quot;, &quot;)}&quot;&quot;&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-180"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> fieldName </span><span class="token-operator">=</span><span class="token-plain"> structField</span><span class="token-punctuation">.</span><span class="token-plain">name</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-181"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> propClass </span><span class="token-operator">=</span><span class="token-plain"> structField</span><span class="token-punctuation">.</span><span class="token-plain">dataType</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-182"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> propDt </span><span class="token-operator">=</span><span class="token-plain"> structField</span><span class="token-punctuation">.</span><span class="token-plain">dataType</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-183"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> fieldValue </span><span class="token-operator">=</span><span class="token-plain"> Invoke</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-184"><span class="token-plain">                        inputObject</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-185"><span class="token-plain">                        maybeProp</span><span class="token-punctuation">.</span><span class="token-plain">get</span><span class="token-punctuation">.</span><span class="token-plain">getReadMethod</span><span class="token-punctuation">.</span><span class="token-plain">getName</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-186"><span class="token-plain">                        inferExternalType</span><span class="token-punctuation">(</span><span class="token-plain">propClass</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-187"><span class="token-plain">                        returnNullable </span><span class="token-operator">=</span><span class="token-plain"> propDt</span><span class="token-punctuation">.</span><span class="token-plain">nullable</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-188"><span class="token-plain">                    </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-189"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> newPath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordField</span><span class="token-punctuation">(</span><span class="token-plain">propClass</span><span class="token-punctuation">.</span><span class="token-plain">getName</span><span class="token-punctuation">,</span><span class="token-plain"> fieldName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-190"><span class="token-plain">                    </span><span class="token-punctuation">(</span><span class="token-plain">fieldName</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-191"><span class="token-plain">                    serializerFor</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-192"><span class="token-plain">                        fieldValue</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-193"><span class="token-plain">                        getType</span><span class="token-punctuation">(</span><span class="token-plain">propClass</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-194"><span class="token-plain">                        newPath</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-195"><span class="token-plain">                        seenTypeSet</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">propDt</span><span class="token-punctuation">.</span><span class="token-plain">isInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">ComplexWrapper</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> Some</span><span class="token-punctuation">(</span><span class="token-plain">propDt</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">else</span><span class="token-plain"> None</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-196"><span class="token-plain">                    </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-197"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-198"><span class="token-plain">                </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-199"><span class="token-plain">                createSerializerForObject</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">,</span><span class="token-plain"> fields</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-200"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-201"><span class="token-plain">                </span><span class="token-keyword">case</span><span class="token-plain"> otherTypeWrapper</span><span class="token-operator">:</span><span class="token-plain"> ComplexWrapper </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-202"><span class="token-plain">                otherTypeWrapper</span><span class="token-punctuation">.</span><span class="token-plain">dt </span><span class="token-keyword">match</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-203"><span class="token-plain">                    </span><span class="token-keyword">case</span><span class="token-plain"> MapType</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">,</span><span class="token-plain"> _</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-204"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">getType</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-205"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyDT</span><span class="token-punctuation">,</span><span class="token-plain"> valueDT</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-206"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> keyClsName </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-207"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> valueClsName </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">valueType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-208"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> keyPath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordKeyForMap</span><span class="token-punctuation">(</span><span class="token-plain">keyClsName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-209"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> valuePath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordValueForMap</span><span class="token-punctuation">(</span><span class="token-plain">valueClsName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-210"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-211"><span class="token-plain">                    createSerializerForMap</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-212"><span class="token-plain">                        inputObject</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-213"><span class="token-plain">                        MapElementInformation</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-214"><span class="token-plain">                        dataTypeFor</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-215"><span class="token-plain">                        nullable </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-operator">!</span><span class="token-plain">keyType</span><span class="token-punctuation">.</span><span class="token-plain">typeSymbol</span><span class="token-punctuation">.</span><span class="token-plain">asClass</span><span class="token-punctuation">.</span><span class="token-plain">isPrimitive</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-216"><span class="token-plain">                        serializerFor</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-217"><span class="token-plain">                            _</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-218"><span class="token-plain">                            keyType</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-219"><span class="token-plain">                            keyPath</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-220"><span class="token-plain">                            seenTypeSet</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-221"><span class="token-plain">                            Some</span><span class="token-punctuation">(</span><span class="token-plain">keyDT</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">filter</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">isInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">ComplexWrapper</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-222"><span class="token-plain">                        </span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-223"><span class="token-plain">                        MapElementInformation</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-224"><span class="token-plain">                        dataTypeFor</span><span class="token-punctuation">(</span><span class="token-plain">valueType</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-225"><span class="token-plain">                        nullable </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-operator">!</span><span class="token-plain">valueType</span><span class="token-punctuation">.</span><span class="token-plain">typeSymbol</span><span class="token-punctuation">.</span><span class="token-plain">asClass</span><span class="token-punctuation">.</span><span class="token-plain">isPrimitive</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-226"><span class="token-plain">                        serializerFor</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-227"><span class="token-plain">                            _</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-228"><span class="token-plain">                            valueType</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-229"><span class="token-plain">                            valuePath</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-230"><span class="token-plain">                            seenTypeSet</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-231"><span class="token-plain">                            Some</span><span class="token-punctuation">(</span><span class="token-plain">valueDT</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">filter</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">isInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">ComplexWrapper</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-232"><span class="token-plain">                        </span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-233"><span class="token-plain">                    </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-234"><span class="token-plain">                    </span><span class="token-keyword">case</span><span class="token-plain"> ArrayType</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">,</span><span class="token-plain"> _</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-235"><span class="token-plain">                    toCatalystArray</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-236"><span class="token-plain">                        inputObject</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-237"><span class="token-plain">                        getType</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-238"><span class="token-plain">                        Some</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-239"><span class="token-plain">                    </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-240"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-241"><span class="token-plain">                    </span><span class="token-keyword">case</span><span class="token-plain"> StructType</span><span class="token-punctuation">(</span><span class="token-plain">elementType</span><span class="token-operator">:</span><span class="token-plain"> Array</span><span class="token-punctuation">[</span><span class="token-plain">StructField</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-242"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> cls </span><span class="token-operator">=</span><span class="token-plain"> otherTypeWrapper</span><span class="token-punctuation">.</span><span class="token-plain">cls</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-243"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> names </span><span class="token-operator">=</span><span class="token-plain"> elementType</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-244"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-245"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> beanInfo </span><span class="token-operator">=</span><span class="token-plain"> Introspector</span><span class="token-punctuation">.</span><span class="token-plain">getBeanInfo</span><span class="token-punctuation">(</span><span class="token-plain">cls</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-246"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> methods </span><span class="token-operator">=</span><span class="token-plain"> beanInfo</span><span class="token-punctuation">.</span><span class="token-plain">getMethodDescriptors</span><span class="token-punctuation">.</span><span class="token-plain">filter</span><span class="token-punctuation">(</span><span class="token-plain">it </span><span class="token-keyword">=&gt;</span><span class="token-plain"> names</span><span class="token-punctuation">.</span><span class="token-plain">contains</span><span class="token-punctuation">(</span><span class="token-plain">it</span><span class="token-punctuation">.</span><span class="token-plain">getName</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-247"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-248"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-249"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> fields </span><span class="token-operator">=</span><span class="token-plain"> elementType</span><span class="token-punctuation">.</span><span class="token-plain">map </span><span class="token-punctuation">{</span><span class="token-plain"> structField </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-250"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-251"><span class="token-plain">                        </span><span class="token-keyword">val</span><span class="token-plain"> maybeProp </span><span class="token-operator">=</span><span class="token-plain"> methods</span><span class="token-punctuation">.</span><span class="token-plain">find</span><span class="token-punctuation">(</span><span class="token-plain">it </span><span class="token-keyword">=&gt;</span><span class="token-plain"> it</span><span class="token-punctuation">.</span><span class="token-plain">getName </span><span class="token-operator">==</span><span class="token-plain"> structField</span><span class="token-punctuation">.</span><span class="token-plain">name</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-252"><span class="token-plain">                        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">maybeProp</span><span class="token-punctuation">.</span><span class="token-plain">isEmpty</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> IllegalArgumentException</span><span class="token-punctuation">(</span><span class="token-plain">s</span><span class="token-triple-quoted-string">&quot;&quot;&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-253"><span class="token-triple-quoted-string">                        Field ${structField.name} is not found among available props, </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-254"><span class="token-triple-quoted-string">                        which are: ${methods.map(_.getName).mkString(&quot;, &quot;)}&quot;&quot;&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-255"><span class="token-plain">                        </span><span class="token-keyword">val</span><span class="token-plain"> fieldName </span><span class="token-operator">=</span><span class="token-plain"> structField</span><span class="token-punctuation">.</span><span class="token-plain">name</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-256"><span class="token-plain">                        </span><span class="token-keyword">val</span><span class="token-plain"> propClass </span><span class="token-operator">=</span><span class="token-plain"> structField</span><span class="token-punctuation">.</span><span class="token-plain">dataType</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-257"><span class="token-plain">                        </span><span class="token-keyword">val</span><span class="token-plain"> propDt </span><span class="token-operator">=</span><span class="token-plain"> structField</span><span class="token-punctuation">.</span><span class="token-plain">dataType</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-258"><span class="token-plain">                        </span><span class="token-keyword">val</span><span class="token-plain"> fieldValue </span><span class="token-operator">=</span><span class="token-plain"> Invoke</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-259"><span class="token-plain">                        inputObject</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-260"><span class="token-plain">                        maybeProp</span><span class="token-punctuation">.</span><span class="token-plain">get</span><span class="token-punctuation">.</span><span class="token-plain">getName</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-261"><span class="token-plain">                        inferExternalType</span><span class="token-punctuation">(</span><span class="token-plain">propClass</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-262"><span class="token-plain">                        returnNullable </span><span class="token-operator">=</span><span class="token-plain"> propDt</span><span class="token-punctuation">.</span><span class="token-plain">nullable</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-263"><span class="token-plain">                        </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-264"><span class="token-plain">                        </span><span class="token-keyword">val</span><span class="token-plain"> newPath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordField</span><span class="token-punctuation">(</span><span class="token-plain">propClass</span><span class="token-punctuation">.</span><span class="token-plain">getName</span><span class="token-punctuation">,</span><span class="token-plain"> fieldName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-265"><span class="token-plain">                        </span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-266"><span class="token-plain">                            fieldName</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-267"><span class="token-plain">                            serializerFor</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-268"><span class="token-plain">                                fieldValue</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-269"><span class="token-plain">                                getType</span><span class="token-punctuation">(</span><span class="token-plain">propClass</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-270"><span class="token-plain">                                newPath</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-271"><span class="token-plain">                                seenTypeSet</span><span class="token-punctuation">,</span><span class="token-plain"> </span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-272"><span class="token-plain">                                </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">propDt</span><span class="token-punctuation">.</span><span class="token-plain">isInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">ComplexWrapper</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-plain"> Some</span><span class="token-punctuation">(</span><span class="token-plain">propDt</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">else</span><span class="token-plain"> None</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-273"><span class="token-plain">                            </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-274"><span class="token-plain">                        </span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-275"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-276"><span class="token-plain">                    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-277"><span class="token-plain">                    createSerializerForObject</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">,</span><span class="token-plain"> fields</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-278"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-279"><span class="token-plain">                </span><span class="token-keyword">case</span><span class="token-plain"> _ </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-280"><span class="token-plain">                    </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> UnsupportedOperationException</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-281"><span class="token-plain">                        s</span><span class="token-string">&quot;No Encoder found for $tpe\n&quot;</span><span class="token-plain"> </span><span class="token-operator">+</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-282"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-283"><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-284"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-285"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-286"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> t </span><span class="token-keyword">if</span><span class="token-plain"> definedByConstructorParams</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-287"><span class="token-plain">            </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">seenTypeSet</span><span class="token-punctuation">.</span><span class="token-plain">contains</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-288"><span class="token-plain">                </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> UnsupportedOperationException</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-289"><span class="token-plain">                s</span><span class="token-string">&quot;cannot have circular references in class, but got the circular reference of class $t&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-290"><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-291"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-292"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> params </span><span class="token-operator">=</span><span class="token-plain"> getConstructorParameters</span><span class="token-punctuation">(</span><span class="token-plain">t</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-293"><span class="token-plain">            </span><span class="token-keyword">val</span><span class="token-plain"> fields </span><span class="token-operator">=</span><span class="token-plain"> params</span><span class="token-punctuation">.</span><span class="token-plain">map </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-keyword">case</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">fieldName</span><span class="token-punctuation">,</span><span class="token-plain"> fieldType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-294"><span class="token-plain">                </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">javaKeywords</span><span class="token-punctuation">.</span><span class="token-plain">contains</span><span class="token-punctuation">(</span><span class="token-plain">fieldName</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-295"><span class="token-plain">                </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> UnsupportedOperationException</span><span class="token-punctuation">(</span><span class="token-plain">s</span><span class="token-string">&quot;`$fieldName` is a reserved keyword and &quot;</span><span class="token-plain"> </span><span class="token-operator">+</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-296"><span class="token-plain">                    </span><span class="token-string">&quot;cannot be used as field name\n&quot;</span><span class="token-plain"> </span><span class="token-operator">+</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-297"><span class="token-plain">                </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-298"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-299"><span class="token-plain">                </span><span class="token-comment">// SPARK-26730 inputObject won&#x27;t be null with If&#x27;s guard below. And KnownNotNul</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-300"><span class="token-plain">                </span><span class="token-comment">// is necessary here. Because for a nullable nested inputObject with struct data</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-301"><span class="token-plain">                </span><span class="token-comment">// type, e.g. StructType(IntegerType, StringType), it will return nullable=true</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-302"><span class="token-plain">                </span><span class="token-comment">// for IntegerType without KnownNotNull. And that&#x27;s what we do not expect to.</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-303"><span class="token-plain">                </span><span class="token-keyword">val</span><span class="token-plain"> fieldValue </span><span class="token-operator">=</span><span class="token-plain"> Invoke</span><span class="token-punctuation">(</span><span class="token-plain">KnownNotNull</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> fieldName</span><span class="token-punctuation">,</span><span class="token-plain"> dataTypeFor</span><span class="token-punctuation">(</span><span class="token-plain">fieldType</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-304"><span class="token-plain">                returnNullable </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-operator">!</span><span class="token-plain">fieldType</span><span class="token-punctuation">.</span><span class="token-plain">typeSymbol</span><span class="token-punctuation">.</span><span class="token-plain">asClass</span><span class="token-punctuation">.</span><span class="token-plain">isPrimitive</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-305"><span class="token-plain">                </span><span class="token-keyword">val</span><span class="token-plain"> clsName </span><span class="token-operator">=</span><span class="token-plain"> getClassNameFromType</span><span class="token-punctuation">(</span><span class="token-plain">fieldType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-306"><span class="token-plain">                </span><span class="token-keyword">val</span><span class="token-plain"> newPath </span><span class="token-operator">=</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">.</span><span class="token-plain">recordField</span><span class="token-punctuation">(</span><span class="token-plain">clsName</span><span class="token-punctuation">,</span><span class="token-plain"> fieldName</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-307"><span class="token-plain">                </span><span class="token-punctuation">(</span><span class="token-plain">fieldName</span><span class="token-punctuation">,</span><span class="token-plain"> serializerFor</span><span class="token-punctuation">(</span><span class="token-plain">fieldValue</span><span class="token-punctuation">,</span><span class="token-plain"> fieldType</span><span class="token-punctuation">,</span><span class="token-plain"> newPath</span><span class="token-punctuation">,</span><span class="token-plain"> seenTypeSet </span><span class="token-operator">+</span><span class="token-plain"> t</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-308"><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-309"><span class="token-plain">            createSerializerForObject</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">,</span><span class="token-plain"> fields</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-310"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-311"><span class="token-plain">        </span><span class="token-keyword">case</span><span class="token-plain"> _ </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-312"><span class="token-plain">            </span><span class="token-keyword">throw</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> UnsupportedOperationException</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-313"><span class="token-plain">                s</span><span class="token-string">&quot;No Encoder found for $tpe\n&quot;</span><span class="token-plain"> </span><span class="token-operator">+</span><span class="token-plain"> walkedTypePath</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-314"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-315"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">time</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-204"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">getType</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><h4 class="cs-title css-d84v96" style="opacity:0"><span style="opacity:1"></span></h4><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">enum</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-204"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">getType</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><h4 class="cs-title css-d84v96" style="opacity:1"><span style="opacity:1">The most complex part</span></h4><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-204"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">getType</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">It&#x27;s data class!</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-204"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">getType</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">class from wrapper</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-204"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">getType</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">getters</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-204"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">getType</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-204"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">getType</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">creatind expression!</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-204"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">getType</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Comparing actual object and struct fields</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-204"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">getType</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Gathering data to create sealizer for field</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-204"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">getType</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Invoking getter on the field</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-204"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">getType</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Recording path of field for meaningful exceptions</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-204"><span class="token-plain">                    </span><span class="token-keyword">val</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">keyType</span><span class="token-punctuation">,</span><span class="token-plain"> valueType</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> Seq</span><span class="token-punctuation">(</span><span class="token-plain">kt</span><span class="token-punctuation">,</span><span class="token-plain"> vt</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">DataTypeWithClass</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">cls</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">getType</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Tuple&lt;String, FieldSerializer&gt; + recursive call</span></p></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">def</span><span class="token-plain"> createSerializerForObject</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">    inputObject</span><span class="token-operator">:</span><span class="token-plain"> Expression</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    fields</span><span class="token-operator">:</span><span class="token-plain"> Seq</span><span class="token-punctuation">[</span><span class="token-punctuation">(</span><span class="token-builtin">String</span><span class="token-punctuation">,</span><span class="token-plain"> Expression</span><span class="token-punctuation">)</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> Expression </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">  </span><span class="token-keyword">val</span><span class="token-plain"> nonNullOutput </span><span class="token-operator">=</span><span class="token-plain"> CreateNamedStruct</span><span class="token-punctuation">(</span><span class="token-plain">fields</span><span class="token-punctuation">.</span><span class="token-plain">flatMap </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-keyword">case</span><span class="token-punctuation">(</span><span class="token-plain">fieldName</span><span class="token-punctuation">,</span><span class="token-plain"> fieldExpr</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">    argumentsForFieldSerializer</span><span class="token-punctuation">(</span><span class="token-plain">fieldName</span><span class="token-punctuation">,</span><span class="token-plain"> fieldExpr</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">  </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">.</span><span class="token-plain">nullable</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> nullOutput </span><span class="token-operator">=</span><span class="token-plain"> expressions</span><span class="token-punctuation">.</span><span class="token-plain">Literal</span><span class="token-punctuation">.</span><span class="token-plain">create</span><span class="token-punctuation">(</span><span class="token-keyword">null</span><span class="token-punctuation">,</span><span class="token-plain"> nonNullOutput</span><span class="token-punctuation">.</span><span class="token-plain">dataType</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">    expressions</span><span class="token-punctuation">.</span><span class="token-plain">If</span><span class="token-punctuation">(</span><span class="token-plain">IsNull</span><span class="token-punctuation">(</span><span class="token-plain">inputObject</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> nullOutput</span><span class="token-punctuation">,</span><span class="token-plain"> nonNullOutput</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">else</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">    nonNullOutput</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">  </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-punctuation">}</span></div></div><div></div></code></pre><h4 class="cs-title css-d84v96" style="opacity:1"><span style="opacity:1">Building data class (with expressions)</span></h4></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">  </span><span class="token-keyword">val</span><span class="token-plain"> nonNullOutput </span><span class="token-operator">=</span><span class="token-plain"> CreateNamedStruct</span><span class="token-punctuation">(</span><span class="token-plain">fields</span><span class="token-punctuation">.</span><span class="token-plain">flatMap </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-keyword">case</span><span class="token-punctuation">(</span><span class="token-plain">fieldName</span><span class="token-punctuation">,</span><span class="token-plain"> fieldExpr</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">    nonNullOutput</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">  </span><span class="token-keyword">val</span><span class="token-plain"> nonNullOutput </span><span class="token-operator">=</span><span class="token-plain"> CreateNamedStruct</span><span class="token-punctuation">(</span><span class="token-plain">fields</span><span class="token-punctuation">.</span><span class="token-plain">flatMap </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-keyword">case</span><span class="token-punctuation">(</span><span class="token-plain">fieldName</span><span class="token-punctuation">,</span><span class="token-plain"> fieldExpr</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">    nonNullOutput</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">What if it works as expected?</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">  </span><span class="token-keyword">val</span><span class="token-plain"> nonNullOutput </span><span class="token-operator">=</span><span class="token-plain"> CreateNamedStruct</span><span class="token-punctuation">(</span><span class="token-plain">fields</span><span class="token-punctuation">.</span><span class="token-plain">flatMap </span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-keyword">case</span><span class="token-punctuation">(</span><span class="token-plain">fieldName</span><span class="token-punctuation">,</span><span class="token-plain"> fieldExpr</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">    nonNullOutput</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">And what if not?</span></p></div></div></div></div></div><div class="css-zv3p95"><h1 class="css-1djqpdg">OK, now I have a huge expression.</h1><h2 class="css-1djqpdg">Now what?</h2></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">def</span><span class="token-plain"> create</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">        expressions</span><span class="token-operator">:</span><span class="token-plain"> Seq</span><span class="token-punctuation">[</span><span class="token-plain">Expression</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">        subexpressionEliminationEnabled</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-builtin">Boolean</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> UnsafeProjection </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> ctx </span><span class="token-operator">=</span><span class="token-plain"> newCodeGenContext</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> eval </span><span class="token-operator">=</span><span class="token-plain"> createCode</span><span class="token-punctuation">(</span><span class="token-plain">ctx</span><span class="token-punctuation">,</span><span class="token-plain"> expressions</span><span class="token-punctuation">,</span><span class="token-plain"> subexpressionEliminationEnabled</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> codeBody </span><span class="token-operator">=</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">        s</span><span class="token-triple-quoted-string">&quot;&quot;&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-triple-quoted-string">            |public java.lang.Object generate(Object[] references) {</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-triple-quoted-string">            |  return new SpecificUnsafeProjection(references);</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-triple-quoted-string">            |}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-triple-quoted-string">            |</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-triple-quoted-string">            |class SpecificUnsafeProjection extends ${classOf[UnsafeProjection].getName} {</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-triple-quoted-string">            |</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-triple-quoted-string">            |  private Object[] references;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-triple-quoted-string">            |  ${ctx.declareMutableStates()}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-triple-quoted-string">            |</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-triple-quoted-string">            |  public SpecificUnsafeProjection(Object[] references) {</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-triple-quoted-string">            |    this.references = references;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-triple-quoted-string">            |    ${ctx.initMutableStates()}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-triple-quoted-string">            |  }</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-triple-quoted-string">            |</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-triple-quoted-string">            |  public void initialize(int partitionIndex) {</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-triple-quoted-string">            |    ${ctx.initPartition()}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-triple-quoted-string">            |  }</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-triple-quoted-string">            |</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-triple-quoted-string">            |  // Scala.Function1 need this</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-triple-quoted-string">            |  public java.lang.Object apply(java.lang.Object row) {</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-triple-quoted-string">            |    return apply((InternalRow) row);</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-triple-quoted-string">            |  }</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-triple-quoted-string">            |</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-triple-quoted-string">            |  public UnsafeRow apply(InternalRow ${ctx.INPUT_ROW}) {</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-triple-quoted-string">            |    ${eval.code}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-triple-quoted-string">            |    return ${eval.value};</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-34"><span class="token-triple-quoted-string">            |  }</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-triple-quoted-string">            |</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-triple-quoted-string">            |  ${ctx.declareAddedFunctions()}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-37"><span class="token-triple-quoted-string">            |}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-38"><span class="token-triple-quoted-string">        &quot;&quot;&quot;</span><span class="token-punctuation">.</span><span class="token-plain">stripMargin</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-39"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-40"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> code </span><span class="token-operator">=</span><span class="token-plain"> CodeFormatter</span><span class="token-punctuation">.</span><span class="token-plain">stripOverlappingComments</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-41"><span class="token-plain">        </span><span class="token-keyword">new</span><span class="token-plain"> CodeAndComment</span><span class="token-punctuation">(</span><span class="token-plain">codeBody</span><span class="token-punctuation">,</span><span class="token-plain"> ctx</span><span class="token-punctuation">.</span><span class="token-plain">getPlaceHolderToComments</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-42"><span class="token-plain">    logDebug</span><span class="token-punctuation">(</span><span class="token-plain">s</span><span class="token-string">&quot;code for ${expressions.mkString(&quot;</span><span class="token-punctuation">,</span><span class="token-string">&quot;)}:\n${CodeFormatter.format(code)}&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-43"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-44"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">clazz</span><span class="token-punctuation">,</span><span class="token-plain"> _</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> CodeGenerator</span><span class="token-punctuation">.</span><span class="token-plain">compile</span><span class="token-punctuation">(</span><span class="token-plain">code</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-plain">    clazz</span><span class="token-punctuation">.</span><span class="token-plain">generate</span><span class="token-punctuation">(</span><span class="token-plain">ctx</span><span class="token-punctuation">.</span><span class="token-plain">references</span><span class="token-punctuation">.</span><span class="token-plain">toArray</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">UnsafeProjection</span><span class="token-punctuation">]</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-46"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-triple-quoted-string">            |class SpecificUnsafeProjection extends ${classOf[UnsafeProjection].getName} {</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">A context for codegen, tracking a list of objects that could be passed into generated Java function.</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-triple-quoted-string">            |class SpecificUnsafeProjection extends ${classOf[UnsafeProjection].getName} {</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Will call genCode eventually</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-triple-quoted-string">            |class SpecificUnsafeProjection extends ${classOf[UnsafeProjection].getName} {</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-triple-quoted-string">            |class SpecificUnsafeProjection extends ${classOf[UnsafeProjection].getName} {</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-triple-quoted-string">            |class SpecificUnsafeProjection extends ${classOf[UnsafeProjection].getName} {</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-triple-quoted-string">            |class SpecificUnsafeProjection extends ${classOf[UnsafeProjection].getName} {</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-triple-quoted-string">            |class SpecificUnsafeProjection extends ${classOf[UnsafeProjection].getName} {</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-triple-quoted-string">            |class SpecificUnsafeProjection extends ${classOf[UnsafeProjection].getName} {</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">def</span><span class="token-plain"> createCode</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">    ctx</span><span class="token-operator">:</span><span class="token-plain"> CodegenContext</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    expressions</span><span class="token-operator">:</span><span class="token-plain"> Seq</span><span class="token-punctuation">[</span><span class="token-plain">Expression</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    useSubexprElimination</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-builtin">Boolean</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> ExprCode </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">  </span><span class="token-keyword">val</span><span class="token-plain"> exprEvals </span><span class="token-operator">=</span><span class="token-plain"> ctx</span><span class="token-punctuation">.</span><span class="token-plain">generateExpressions</span><span class="token-punctuation">(</span><span class="token-plain">expressions</span><span class="token-punctuation">,</span><span class="token-plain"> useSubexprElimination</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">  </span><span class="token-keyword">val</span><span class="token-plain"> exprSchemas </span><span class="token-operator">=</span><span class="token-plain"> expressions</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">e </span><span class="token-keyword">=&gt;</span><span class="token-plain"> Schema</span><span class="token-punctuation">(</span><span class="token-plain">e</span><span class="token-punctuation">.</span><span class="token-plain">dataType</span><span class="token-punctuation">,</span><span class="token-plain"> e</span><span class="token-punctuation">.</span><span class="token-plain">nullable</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">  </span><span class="token-keyword">val</span><span class="token-plain"> numVarLenFields </span><span class="token-operator">=</span><span class="token-plain"> exprSchemas</span><span class="token-punctuation">.</span><span class="token-plain">count </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">    </span><span class="token-keyword">case</span><span class="token-plain"> Schema</span><span class="token-punctuation">(</span><span class="token-plain">dt</span><span class="token-punctuation">,</span><span class="token-plain"> _</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-keyword">=&gt;</span><span class="token-plain"> </span><span class="token-operator">!</span><span class="token-plain">UnsafeRow</span><span class="token-punctuation">.</span><span class="token-plain">isFixedLength</span><span class="token-punctuation">(</span><span class="token-plain">dt</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">    </span><span class="token-comment">// TODO: consider large decimal and interval type</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">  </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">  </span><span class="token-keyword">val</span><span class="token-plain"> rowWriterClass </span><span class="token-operator">=</span><span class="token-plain"> classOf</span><span class="token-punctuation">[</span><span class="token-plain">UnsafeRowWriter</span><span class="token-punctuation">]</span><span class="token-punctuation">.</span><span class="token-plain">getName</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">  </span><span class="token-keyword">val</span><span class="token-plain"> rowWriter </span><span class="token-operator">=</span><span class="token-plain"> ctx</span><span class="token-punctuation">.</span><span class="token-plain">addMutableState</span><span class="token-punctuation">(</span><span class="token-plain">rowWriterClass</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;rowWriter&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">    v </span><span class="token-keyword">=&gt;</span><span class="token-plain"> s</span><span class="token-string">&quot;$v = new $rowWriterClass(${expressions.length}, ${numVarLenFields * 32});&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">  </span><span class="token-comment">// Evaluate all the subexpression.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">  </span><span class="token-keyword">val</span><span class="token-plain"> evalSubexpr </span><span class="token-operator">=</span><span class="token-plain"> ctx</span><span class="token-punctuation">.</span><span class="token-plain">subexprFunctionsCode</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">  </span><span class="token-keyword">val</span><span class="token-plain"> writeExpressions </span><span class="token-operator">=</span><span class="token-plain"> writeExpressionsToBuffer</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">    ctx</span><span class="token-punctuation">,</span><span class="token-plain"> ctx</span><span class="token-punctuation">.</span><span class="token-plain">INPUT_ROW</span><span class="token-punctuation">,</span><span class="token-plain"> exprEvals</span><span class="token-punctuation">,</span><span class="token-plain"> exprSchemas</span><span class="token-punctuation">,</span><span class="token-plain"> rowWriter</span><span class="token-punctuation">,</span><span class="token-plain"> isTopLevel </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">  </span><span class="token-keyword">val</span><span class="token-plain"> code </span><span class="token-operator">=</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">    code</span><span class="token-triple-quoted-string">&quot;&quot;&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-triple-quoted-string">        |$rowWriter.reset();</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-triple-quoted-string">        |$evalSubexpr</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-triple-quoted-string">        |$writeExpressions</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-triple-quoted-string">      &quot;&quot;&quot;</span><span class="token-punctuation">.</span><span class="token-plain">stripMargin</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">  </span><span class="token-comment">// `rowWriter` is declared as a class field, so we can access it directly in methods.</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-plain">  ExprCode</span><span class="token-punctuation">(</span><span class="token-plain">code</span><span class="token-punctuation">,</span><span class="token-plain"> FalseLiteral</span><span class="token-punctuation">,</span><span class="token-plain"> JavaCode</span><span class="token-punctuation">.</span><span class="token-plain">expression</span><span class="token-punctuation">(</span><span class="token-plain">s</span><span class="token-string">&quot;$rowWriter.getRow()&quot;</span><span class="token-punctuation">,</span><span class="token-plain"> classOf</span><span class="token-punctuation">[</span><span class="token-plain">UnsafeRow</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-plain">  ExprCode</span><span class="token-punctuation">(</span><span class="token-plain">code</span><span class="token-punctuation">,</span><span class="token-plain"> FalseLiteral</span><span class="token-punctuation">,</span><span class="token-plain"> JavaCode</span><span class="token-punctuation">.</span><span class="token-plain">expression</span><span class="token-punctuation">(</span><span class="token-plain">s</span><span class="token-string">&quot;$rowWriter.getRow()&quot;</span><span class="token-punctuation">,</span><span class="token-plain"> classOf</span><span class="token-punctuation">[</span><span class="token-plain">UnsafeRow</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">/**</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">  * Generates code for expressions. If doSubexpressionElimination is true, subexpression</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">  * elimination will be performed. Subexpression elimination assumes that the code for each</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-comment">  * expression will be combined in the `expressions` order.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-comment">  */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-keyword">def</span><span class="token-plain"> generateExpressions</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">    expressions</span><span class="token-operator">:</span><span class="token-plain"> Seq</span><span class="token-punctuation">[</span><span class="token-plain">Expression</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">    doSubexpressionElimination</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-builtin">Boolean</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> Seq</span><span class="token-punctuation">[</span><span class="token-plain">ExprCode</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">  </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">doSubexpressionElimination</span><span class="token-punctuation">)</span><span class="token-plain"> subexpressionElimination</span><span class="token-punctuation">(</span><span class="token-plain">expressions</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">  expressions</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">e </span><span class="token-keyword">=&gt;</span><span class="token-plain"> e</span><span class="token-punctuation">.</span><span class="token-plain">genCode</span><span class="token-punctuation">(</span><span class="token-keyword">this</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">  * Generates code for expressions. If doSubexpressionElimination is true, subexpression</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">  * elimination will be performed. Subexpression elimination assumes that the code for each</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">/**</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">  * Checks and sets up the state and codegen for subexpression elimination. This finds the</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">  * common subexpressions, generates the functions that evaluate those expressions and populates</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-comment">  * the mapping of common subexpressions to the generated functions.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-comment">  */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">def</span><span class="token-plain"> subexpressionElimination</span><span class="token-punctuation">(</span><span class="token-plain">expressions</span><span class="token-operator">:</span><span class="token-plain"> Seq</span><span class="token-punctuation">[</span><span class="token-plain">Expression</span><span class="token-punctuation">]</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-builtin">Unit</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">  </span><span class="token-comment">// Add each expression tree and compute the common subexpressions.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">  expressions</span><span class="token-punctuation">.</span><span class="token-plain">foreach</span><span class="token-punctuation">(</span><span class="token-plain">equivalentExpressions</span><span class="token-punctuation">.</span><span class="token-plain">addExprTree</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">  </span><span class="token-comment">// Get all the expressions that appear at least twice and set up the state for subexpression</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">  </span><span class="token-comment">// elimination.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">  </span><span class="token-keyword">val</span><span class="token-plain"> commonExprs </span><span class="token-operator">=</span><span class="token-plain"> equivalentExpressions</span><span class="token-punctuation">.</span><span class="token-plain">getAllEquivalentExprs</span><span class="token-punctuation">.</span><span class="token-plain">filter</span><span class="token-punctuation">(</span><span class="token-plain">_</span><span class="token-punctuation">.</span><span class="token-plain">size </span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-number">1</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">  commonExprs</span><span class="token-punctuation">.</span><span class="token-plain">foreach </span><span class="token-punctuation">{</span><span class="token-plain"> e </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> expr </span><span class="token-operator">=</span><span class="token-plain"> e</span><span class="token-punctuation">.</span><span class="token-plain">head</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> fnName </span><span class="token-operator">=</span><span class="token-plain"> freshName</span><span class="token-punctuation">(</span><span class="token-string">&quot;subExpr&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> isNull </span><span class="token-operator">=</span><span class="token-plain"> addMutableState</span><span class="token-punctuation">(</span><span class="token-plain">JAVA_BOOLEAN</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;subExprIsNull&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> value </span><span class="token-operator">=</span><span class="token-plain"> addMutableState</span><span class="token-punctuation">(</span><span class="token-plain">javaType</span><span class="token-punctuation">(</span><span class="token-plain">expr</span><span class="token-punctuation">.</span><span class="token-plain">dataType</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-string">&quot;subExprValue&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">    </span><span class="token-comment">// Generate the code for this expression tree and wrap it in a function.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> eval </span><span class="token-operator">=</span><span class="token-plain"> expr</span><span class="token-punctuation">.</span><span class="token-plain">genCode</span><span class="token-punctuation">(</span><span class="token-keyword">this</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> fn </span><span class="token-operator">=</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">      s</span><span class="token-triple-quoted-string">&quot;&quot;&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-triple-quoted-string">          |private void $fnName(InternalRow $INPUT_ROW) {</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-triple-quoted-string">          |  ${eval.code}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-triple-quoted-string">          |  $isNull = ${eval.isNull};</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-triple-quoted-string">          |  $value = ${eval.value};</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-triple-quoted-string">          |}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-triple-quoted-string">          &quot;&quot;&quot;</span><span class="token-punctuation">.</span><span class="token-plain">stripMargin</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-plain">    </span><span class="token-comment">// Add a state and a mapping of the common subexpressions that are associate with this</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-plain">    </span><span class="token-comment">// state. Adding this expression to subExprEliminationExprMap means it will call `fn`</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">    </span><span class="token-comment">// when it is code generated. This decision should be a cost based one.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-plain">    </span><span class="token-comment">//</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-plain">    </span><span class="token-comment">// The cost of doing subexpression elimination is:</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-34"><span class="token-plain">    </span><span class="token-comment">//   1. Extra function call, although this is probably *good* as the JIT can decide to</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-plain">    </span><span class="token-comment">//      inline or not.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-plain">    </span><span class="token-comment">// The benefit doing subexpression elimination is:</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-37"><span class="token-plain">    </span><span class="token-comment">//   1. Running the expression logic. Even for a simple expression, it is likely more than 3</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-38"><span class="token-plain">    </span><span class="token-comment">//      above.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-39"><span class="token-plain">    </span><span class="token-comment">//   2. Less code.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-40"><span class="token-plain">    </span><span class="token-comment">// Currently, we will do this for all non-leaf only expression trees (i.e. expr trees with</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-41"><span class="token-plain">    </span><span class="token-comment">// at least two nodes) as the cost of doing it is expected to be low.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-42"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-43"><span class="token-plain">    subexprFunctions </span><span class="token-operator">+=</span><span class="token-plain"> s</span><span class="token-string">&quot;${addNewFunction(fnName, fn)}($INPUT_ROW);&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-44"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> state </span><span class="token-operator">=</span><span class="token-plain"> SubExprEliminationState</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-plain">      JavaCode</span><span class="token-punctuation">.</span><span class="token-plain">isNullGlobal</span><span class="token-punctuation">(</span><span class="token-plain">isNull</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-46"><span class="token-plain">      JavaCode</span><span class="token-punctuation">.</span><span class="token-plain">global</span><span class="token-punctuation">(</span><span class="token-plain">value</span><span class="token-punctuation">,</span><span class="token-plain"> expr</span><span class="token-punctuation">.</span><span class="token-plain">dataType</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-47"><span class="token-plain">    subExprEliminationExprs </span><span class="token-operator">++</span><span class="token-operator">=</span><span class="token-plain"> e</span><span class="token-punctuation">.</span><span class="token-plain">map</span><span class="token-punctuation">(</span><span class="token-plain">_ </span><span class="token-operator">-&gt;</span><span class="token-plain"> state</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">toMap</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-48"><span class="token-plain">  </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-49"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">  * Checks and sets up the state and codegen for subexpression elimination. This finds the</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">  * common subexpressions, generates the functions that evaluate those expressions and populates</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Surprisingly well-documented method</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">  * Checks and sets up the state and codegen for subexpression elimination. This finds the</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">  * common subexpressions, generates the functions that evaluate those expressions and populates</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Find common subtrees and extract them to separate functions</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">  * Checks and sets up the state and codegen for subexpression elimination. This finds the</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">  * common subexpressions, generates the functions that evaluate those expressions and populates</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">  * Checks and sets up the state and codegen for subexpression elimination. This finds the</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">  * common subexpressions, generates the functions that evaluate those expressions and populates</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">  * Checks and sets up the state and codegen for subexpression elimination. This finds the</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">  * common subexpressions, generates the functions that evaluate those expressions and populates</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">  * Checks and sets up the state and codegen for subexpression elimination. This finds the</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">  * common subexpressions, generates the functions that evaluate those expressions and populates</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">/**</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">  * Generates code for expressions. If doSubexpressionElimination is true, subexpression</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">  * elimination will be performed. Subexpression elimination assumes that the code for each</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-comment">  * expression will be combined in the `expressions` order.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-comment">  */</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-keyword">def</span><span class="token-plain"> generateExpressions</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">    expressions</span><span class="token-operator">:</span><span class="token-plain"> Seq</span><span class="token-punctuation">[</span><span class="token-plain">Expression</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">    doSubexpressionElimination</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-builtin">Boolean</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> Seq</span><span class="token-punctuation">[</span><span class="token-plain">ExprCode</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">  </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">doSubexpressionElimination</span><span class="token-punctuation">)</span><span class="token-plain"> subexpressionElimination</span><span class="token-punctuation">(</span><span class="token-plain">expressions</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-plain">e</span><span class="token-plain">x</span><span class="token-plain">p</span><span class="token-plain">r</span><span class="token-plain">e</span><span class="token-plain">s</span><span class="token-plain">s</span><span class="token-plain">i</span><span class="token-plain">o</span><span class="token-plain">n</span><span class="token-plain">s</span><span class="token-punctuation">.</span><span class="token-plain">m</span><span class="token-plain">a</span><span class="token-plain">p</span><span class="token-punctuation">(</span><span class="token-plain">e</span><span class="token-plain"> </span><span class="token-keyword">=</span><span class="token-keyword">&gt;</span><span class="token-plain"> </span><span class="token-plain">e</span><span class="token-punctuation">.</span><span class="token-plain">g</span><span class="token-plain">e</span><span class="token-plain">n</span><span class="token-plain">C</span><span class="token-plain">o</span><span class="token-plain">d</span><span class="token-plain">e</span><span class="token-punctuation">(</span><span class="token-keyword">t</span><span class="token-keyword">h</span><span class="token-keyword">i</span><span class="token-keyword">s</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">  * Generates code for expressions. If doSubexpressionElimination is true, subexpression</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">  * elimination will be performed. Subexpression elimination assumes that the code for each</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">  * Generates code for expressions. If doSubexpressionElimination is true, subexpression</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-comment">  * elimination will be performed. Subexpression elimination assumes that the code for each</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Those famous method</span></p></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">def</span><span class="token-plain"> genCode</span><span class="token-punctuation">(</span><span class="token-plain">ctx</span><span class="token-operator">:</span><span class="token-plain"> CodegenContext</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> ExprCode </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">  ctx</span><span class="token-punctuation">.</span><span class="token-plain">subExprEliminationExprs</span><span class="token-punctuation">.</span><span class="token-plain">get</span><span class="token-punctuation">(</span><span class="token-keyword">this</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">map </span><span class="token-punctuation">{</span><span class="token-plain"> subExprState </span><span class="token-keyword">=&gt;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-comment">// This expression is repeated which means that the code to evaluate it has already been added</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    </span><span class="token-comment">// as a function before. In that case, we just re-use it.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">    ExprCode</span><span class="token-punctuation">(</span><span class="token-plain">ctx</span><span class="token-punctuation">.</span><span class="token-plain">registerComment</span><span class="token-punctuation">(</span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">toString</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span><span class="token-plain"> subExprState</span><span class="token-punctuation">.</span><span class="token-plain">isNull</span><span class="token-punctuation">,</span><span class="token-plain"> subExprState</span><span class="token-punctuation">.</span><span class="token-plain">value</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">.</span><span class="token-plain">getOrElse </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> isNull </span><span class="token-operator">=</span><span class="token-plain"> ctx</span><span class="token-punctuation">.</span><span class="token-plain">freshName</span><span class="token-punctuation">(</span><span class="token-string">&quot;isNull&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> value </span><span class="token-operator">=</span><span class="token-plain"> ctx</span><span class="token-punctuation">.</span><span class="token-plain">freshName</span><span class="token-punctuation">(</span><span class="token-string">&quot;value&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> eval </span><span class="token-operator">=</span><span class="token-plain"> doGenCode</span><span class="token-punctuation">(</span><span class="token-plain">ctx</span><span class="token-punctuation">,</span><span class="token-plain"> ExprCode</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">      JavaCode</span><span class="token-punctuation">.</span><span class="token-plain">isNullVariable</span><span class="token-punctuation">(</span><span class="token-plain">isNull</span><span class="token-punctuation">)</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">      JavaCode</span><span class="token-punctuation">.</span><span class="token-plain">variable</span><span class="token-punctuation">(</span><span class="token-plain">value</span><span class="token-punctuation">,</span><span class="token-plain"> dataType</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">    reduceCodeSize</span><span class="token-punctuation">(</span><span class="token-plain">ctx</span><span class="token-punctuation">,</span><span class="token-plain"> eval</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">    </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">eval</span><span class="token-punctuation">.</span><span class="token-plain">code</span><span class="token-punctuation">.</span><span class="token-plain">toString</span><span class="token-punctuation">.</span><span class="token-plain">nonEmpty</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">      </span><span class="token-comment">// Add `this` in the comment.</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">      eval</span><span class="token-punctuation">.</span><span class="token-plain">copy</span><span class="token-punctuation">(</span><span class="token-plain">code </span><span class="token-operator">=</span><span class="token-plain"> ctx</span><span class="token-punctuation">.</span><span class="token-plain">registerComment</span><span class="token-punctuation">(</span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-plain">toString</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">+</span><span class="token-plain"> eval</span><span class="token-punctuation">.</span><span class="token-plain">code</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">else</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">      eval</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">  </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-punctuation">}</span></div></div><div></div></code></pre><h4 class="cs-title css-d84v96" style="opacity:1"><span style="opacity:1">This famous method</span></h4><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-comment">// This expression is repeated which means that the code to evaluate it has already been added</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">      eval</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">When subject of code eliination</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-comment">// This expression is repeated which means that the code to evaluate it has already been added</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">      eval</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Generating names</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-comment">// This expression is repeated which means that the code to evaluate it has already been added</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">      eval</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Internal gen code</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-comment">// This expression is repeated which means that the code to evaluate it has already been added</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">      eval</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Split into several private methods if generated method is too big</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-comment">// This expression is repeated which means that the code to evaluate it has already been added</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">      eval</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Add useful comment</span></p></div></div></div></div></div><div class="css-zv3p95"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-1gxiik8" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-3j9kzx" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">private</span><span class="token-plain"> </span><span class="token-keyword">def</span><span class="token-plain"> create</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">        expressions</span><span class="token-operator">:</span><span class="token-plain"> Seq</span><span class="token-punctuation">[</span><span class="token-plain">Expression</span><span class="token-punctuation">]</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">        subexpressionEliminationEnabled</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-builtin">Boolean</span><span class="token-punctuation">)</span><span class="token-operator">:</span><span class="token-plain"> UnsafeProjection </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> ctx </span><span class="token-operator">=</span><span class="token-plain"> newCodeGenContext</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> eval </span><span class="token-operator">=</span><span class="token-plain"> createCode</span><span class="token-punctuation">(</span><span class="token-plain">ctx</span><span class="token-punctuation">,</span><span class="token-plain"> expressions</span><span class="token-punctuation">,</span><span class="token-plain"> subexpressionEliminationEnabled</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> codeBody </span><span class="token-operator">=</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">        s</span><span class="token-triple-quoted-string">&quot;&quot;&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-triple-quoted-string">            |public java.lang.Object generate(Object[] references) {</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-triple-quoted-string">            |  return new SpecificUnsafeProjection(references);</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-triple-quoted-string">            |}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-triple-quoted-string">            |</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-triple-quoted-string">            |class SpecificUnsafeProjection extends ${classOf[UnsafeProjection].getName} {</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-triple-quoted-string">            |</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-triple-quoted-string">            |  private Object[] references;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-triple-quoted-string">            |  ${ctx.declareMutableStates()}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-triple-quoted-string">            |</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-triple-quoted-string">            |  public SpecificUnsafeProjection(Object[] references) {</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-triple-quoted-string">            |    this.references = references;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-triple-quoted-string">            |    ${ctx.initMutableStates()}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-triple-quoted-string">            |  }</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-triple-quoted-string">            |</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-triple-quoted-string">            |  public void initialize(int partitionIndex) {</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-triple-quoted-string">            |    ${ctx.initPartition()}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-triple-quoted-string">            |  }</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-triple-quoted-string">            |</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-triple-quoted-string">            |  // Scala.Function1 need this</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-triple-quoted-string">            |  public java.lang.Object apply(java.lang.Object row) {</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-triple-quoted-string">            |    return apply((InternalRow) row);</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-triple-quoted-string">            |  }</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-triple-quoted-string">            |</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-triple-quoted-string">            |  public UnsafeRow apply(InternalRow ${ctx.INPUT_ROW}) {</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-triple-quoted-string">            |    ${eval.code}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-triple-quoted-string">            |    return ${eval.value};</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-34"><span class="token-triple-quoted-string">            |  }</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-triple-quoted-string">            |</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-triple-quoted-string">            |  ${ctx.declareAddedFunctions()}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-37"><span class="token-triple-quoted-string">            |}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-38"><span class="token-triple-quoted-string">        &quot;&quot;&quot;</span><span class="token-punctuation">.</span><span class="token-plain">stripMargin</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-39"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-40"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> code </span><span class="token-operator">=</span><span class="token-plain"> CodeFormatter</span><span class="token-punctuation">.</span><span class="token-plain">stripOverlappingComments</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-41"><span class="token-plain">        </span><span class="token-keyword">new</span><span class="token-plain"> CodeAndComment</span><span class="token-punctuation">(</span><span class="token-plain">codeBody</span><span class="token-punctuation">,</span><span class="token-plain"> ctx</span><span class="token-punctuation">.</span><span class="token-plain">getPlaceHolderToComments</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-42"><span class="token-plain">    logDebug</span><span class="token-punctuation">(</span><span class="token-plain">s</span><span class="token-string">&quot;code for ${expressions.mkString(&quot;</span><span class="token-punctuation">,</span><span class="token-string">&quot;)}:\n${CodeFormatter.format(code)}&quot;</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-43"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-44"><span class="token-plain">    </span><span class="token-keyword">val</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">clazz</span><span class="token-punctuation">,</span><span class="token-plain"> _</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> CodeGenerator</span><span class="token-punctuation">.</span><span class="token-plain">compile</span><span class="token-punctuation">(</span><span class="token-plain">code</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-plain">    clazz</span><span class="token-punctuation">.</span><span class="token-plain">generate</span><span class="token-punctuation">(</span><span class="token-plain">ctx</span><span class="token-punctuation">.</span><span class="token-plain">references</span><span class="token-punctuation">.</span><span class="token-plain">toArray</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-plain">asInstanceOf</span><span class="token-punctuation">[</span><span class="token-plain">UnsafeProjection</span><span class="token-punctuation">]</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-46"><span class="token-punctuation">}</span></div></div><div></div></code></pre><h4 class="cs-title css-d84v96" style="opacity:1"><span style="opacity:1">Back to create</span></h4><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">compile or obtain from cache</span></p></div></div></div></div></div><div class="css-zv3p95"><h1 class="css-1djqpdg">Note on Spark architecture</h1><style data-emotion-css="6i7023">.css-6i7023{width:100%;height:100%;background-image:url(https://d1jnx9ba8s6j9r.cloudfront.net/blog/wp-content/uploads/2018/09/Picture6-2.png);background-size:cover;background-position:center;background-repeat:no-repeat;}</style><div style="display:flex;align-items:center;justify-content:center;width:70%;height:70%" class="css-6i7023"></div></div><div class="css-zv3p95"><h1 class="css-1djqpdg">Lifecycle</h1><ul class="css-1uk1gs8"><li class="css-0">Load application</li><li style="visibility:visible" class="css-0">Generate code</li><li style="visibility:visible" class="css-0">Pipe data through code</li><li style="visibility:visible" class="css-0">Write (shuffle) result</li></ul></div><div class="css-zv3p95"><h1 class="css-1djqpdg">Summary</h1><ol class="css-1uk1gs8"><li class="css-0">Code generation is simple</li><li style="visibility:visible" class="css-0">Just call <code class="css-vgof0f">toString()</code> recursively</li><li style="visibility:visible" class="css-0">Sometimes methods are big. Split them</li><li style="visibility:visible" class="css-0">Janino allows running scriptlets</li><li style="visibility:visible" class="css-0">Sometimes mutable state is fine</li></ol></div><div class="css-zv3p95"><h1 class="css-1djqpdg">The End</h1></div><div class="css-zv3p95"><div class="css-5r4te6"><div class="css-11ze7cv"><h1 class="css-1djqpdg">Thank you!</h1><p class="css-0"><strong class="css-0">Try Kotlin API for Apache Spark!</strong></p><p class="css-0"><a href="https://github.com/JetBrains/kotlin-spark-api" class="css-2lflbl">JetBrains/kotlin-spark-api</a></p><p class="css-0">Follow me on Twitter: <a href="twitter.com/asm0di0" class="css-2lflbl">asm0di0</a></p></div><div class="css-11ze7cv"><p class="css-0"><a href="https://s.asm0dey.ru/WkeW3" class="css-2lflbl"><img src="https://s.asm0dey.ru/WkeW3/qr-code?size=420&amp;format=svg&amp;errorCorrection=L" class="css-wnzno2"/></a></p></div></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/print";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-3439bad6def4d584c5f8.js"],"app":["/app-776d463ace3e16951abc.js"],"component---gatsby-theme-mdx-deck-src-templates-deck-js":["/component---gatsby-theme-mdx-deck-src-templates-deck-js-998300d46acf2864beec.js"]};/*]]>*/</script><script src="/polyfill-3439bad6def4d584c5f8.js" nomodule=""></script><script src="/component---gatsby-theme-mdx-deck-src-templates-deck-js-998300d46acf2864beec.js" async=""></script><script src="/app-776d463ace3e16951abc.js" async=""></script><script src="/framework-554a2c6d2f199925c3c6.js" async=""></script><script src="/webpack-runtime-a23b1f35c0c685be6705.js" async=""></script></body></html>